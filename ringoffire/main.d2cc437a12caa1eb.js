"use strict";(self.webpackChunkringoffire=self.webpackChunkringoffire||[]).push([[179],{953:()=>{function Ae(n){return"function"==typeof n}function Uu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const cp=Uu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function El(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof cp?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{RR(s)}catch(o){e=e??[],o instanceof cp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new cp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RR(e);else{if(e instanceof cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&El(t,e)}remove(e){const{_finalizers:t}=this;t&&El(t,e),e instanceof cn&&e._removeParent(this)}}cn.EMPTY=(()=>{const n=new cn;return n.closed=!0,n})();const MR=cn.EMPTY;function kR(n){return n instanceof cn||n&&"closed"in n&&Ae(n.remove)&&Ae(n.add)&&Ae(n.unsubscribe)}function RR(n){Ae(n)?n():n.unsubscribe()}const jo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},up={setTimeout(n,e,...t){const{delegate:r}=up;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=up;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function NR(n){up.setTimeout(()=>{const{onUnhandledError:e}=jo;if(!e)throw n;e(n)})}function eb(){}const m8=tb("C",void 0,void 0);function tb(n,e,t){return{kind:n,value:e,error:t}}let Ho=null;function dp(n){if(jo.useDeprecatedSynchronousErrorHandling){const e=!Ho;if(e&&(Ho={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ho;if(Ho=null,t)throw r}}else n()}class nb extends cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kR(e)&&e.add(this)):this.destination=C8}static create(e,t,r){return new ju(e,t,r)}next(e){this.isStopped?ib(function _8(n){return tb("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ib(function g8(n){return tb("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ib(m8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const v8=Function.prototype.bind;function rb(n,e){return v8.call(n,e)}class b8{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hp(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hp(r)}else hp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hp(t)}}}class ju extends nb{constructor(e,t,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&jo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rb(e.next,s),error:e.error&&rb(e.error,s),complete:e.complete&&rb(e.complete,s)}):i=e}this.destination=new b8(i)}}function hp(n){jo.useDeprecatedSynchronousErrorHandling?function y8(n){jo.useDeprecatedSynchronousErrorHandling&&Ho&&(Ho.errorThrown=!0,Ho.error=n)}(n):NR(n)}function ib(n,e){const{onStoppedNotification:t}=jo;t&&up.setTimeout(()=>t(n,e))}const C8={closed:!0,next:eb,error:function w8(n){throw n},complete:eb},sb="function"==typeof Symbol&&Symbol.observable||"@@observable";function js(n){return n}function OR(n){return 0===n.length?js:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function D8(n){return n&&n instanceof nb||function I8(n){return n&&Ae(n.next)&&Ae(n.error)&&Ae(n.complete)}(n)&&kR(n)}(t)?t:new ju(t,r,i);return dp(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=PR(r))((i,s)=>{const o=new ju({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[sb](){return this}pipe(...t){return OR(t)(this)}toPromise(t){return new(t=PR(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function PR(n){var e;return null!==(e=n??jo.Promise)&&void 0!==e?e:Promise}const T8=Uu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xe=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new FR(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new T8}next(t){dp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){dp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){dp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?MR:(this.currentObservers=null,s.push(t),new cn(()=>{this.currentObservers=null,El(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new He;return t.source=this,t}}return n.create=(e,t)=>new FR(e,t),n})();class FR extends xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:MR}}function LR(n){return Ae(n?.lift)}function vt(n){return e=>{if(LR(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,e,t,r,i){return new S8(n,e,t,r,i)}class S8 extends nb{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function te(n,e){return vt((t,r)=>{let i=0;t.subscribe(ot(r,s=>{r.next(n.call(e,s,i++))}))})}function BR(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function $o(n){return this instanceof $o?(this.v=n,this):new $o(n)}function M8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $o?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function k8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function jR(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const ab=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function HR(n){return Ae(n?.then)}function $R(n){return Ae(n[sb])}function zR(n){return Symbol.asyncIterator&&Ae(n?.[Symbol.asyncIterator])}function GR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const WR=function N8(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qR(n){return Ae(n?.[WR])}function KR(n){return M8(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield $o(t.read());if(i)return yield $o(void 0);yield yield $o(r)}}finally{t.releaseLock()}})}function YR(n){return Ae(n?.getReader)}function ir(n){if(n instanceof He)return n;if(null!=n){if($R(n))return function O8(n){return new He(e=>{const t=n[sb]();if(Ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ab(n))return function P8(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(HR(n))return function F8(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,NR)})}(n);if(zR(n))return QR(n);if(qR(n))return function L8(n){return new He(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(YR(n))return function V8(n){return QR(KR(n))}(n)}throw GR(n)}function QR(n){return new He(e=>{(function B8(n,e){var t,r,i,s;return function A8(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=k8(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function es(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Wt(n,e,t=1/0){return Ae(e)?Wt((r,i)=>te((s,o)=>e(r,s,i,o))(ir(n(r,i))),t):("number"==typeof e&&(t=e),vt((r,i)=>function U8(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;ir(t(m,u++)).subscribe(ot(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const b=l.shift();o?es(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(ot(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Il(n=1/0){return Wt(js,n)}const Ii=new He(n=>n.complete());function XR(n){return n&&Ae(n.schedule)}function lb(n){return n[n.length-1]}function ZR(n){return Ae(lb(n))?n.pop():void 0}function Hu(n){return XR(lb(n))?n.pop():void 0}function fp(n,e=0){return vt((t,r)=>{t.subscribe(ot(r,i=>es(r,n,()=>r.next(i),e),()=>es(r,n,()=>r.complete(),e),i=>es(r,n,()=>r.error(i),e)))})}function pp(n,e=0){return vt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function JR(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{es(t,e,()=>{const r=n[Symbol.asyncIterator]();es(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Mt(n,e){return e?function K8(n,e){if(null!=n){if($R(n))return function $8(n,e){return ir(n).pipe(pp(e),fp(e))}(n,e);if(ab(n))return function G8(n,e){return new He(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(HR(n))return function z8(n,e){return ir(n).pipe(pp(e),fp(e))}(n,e);if(zR(n))return JR(n,e);if(qR(n))return function W8(n,e){return new He(t=>{let r;return es(t,e,()=>{r=n[WR](),es(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(n,e);if(YR(n))return function q8(n,e){return JR(KR(n),e)}(n,e)}throw GR(n)}(n,e):ir(n)}function mp(...n){const e=Hu(n),t=function H8(n,e){return"number"==typeof lb(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ir(r[0]):Il(t)(Mt(r,e)):Ii}function eN(n={}){const{connector:e=(()=>new xe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return vt((m,g)=>{c++,!d&&!u&&h();const b=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=cb(p,i))}),b.subscribe(g),!o&&c>0&&(o=new ju({next:I=>b.next(I),error:I=>{d=!0,h(),a=cb(f,t,I),b.error(I)},complete:()=>{u=!0,h(),a=cb(f,r),b.complete()}}),ir(m).subscribe(o))})(s)}}function cb(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ju({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function ub(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function db(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Y8=ze({__forward_ref__:ze});function Ye(n){return n.__forward_ref__=Ye,n.toString=function(){return Ge(this())},n}function J(n){return hb(n)?n():n}function hb(n){return"function"==typeof n&&n.hasOwnProperty(Y8)&&n.__forward_ref__===Ye}class D extends Error{constructor(e,t){super(function gp(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function _p(n,e){throw new D(-201,!1)}function br(n,e){null==n&&function Ve(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Me(n){return{providers:n.providers||[],imports:n.imports||[]}}function yp(n){return tN(n,vp)||tN(n,rN)}function tN(n,e){return n.hasOwnProperty(e)?n[e]:null}function nN(n){return n&&(n.hasOwnProperty(fb)||n.hasOwnProperty(s5))?n[fb]:null}const vp=ze({\u0275prov:ze}),fb=ze({\u0275inj:ze}),rN=ze({ngInjectableDef:ze}),s5=ze({ngInjectorDef:ze});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let pb;function Hr(n){const e=pb;return pb=n,e}function iN(n,e,t){const r=yp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&q.Optional?null:void 0!==e?e:void _p(Ge(n))}function Hs(n){return{toString:n}.toString()}var oi=(()=>((oi=oi||{})[oi.OnPush=0]="OnPush",oi[oi.Default=1]="Default",oi))(),ai=(()=>{return(n=ai||(ai={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ai;var n})();const We=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dl={},Fe=[],bp=ze({\u0275cmp:ze}),mb=ze({\u0275dir:ze}),gb=ze({\u0275pipe:ze}),sN=ze({\u0275mod:ze}),ns=ze({\u0275fac:ze}),$u=ze({__NG_ELEMENT_ID__:ze});let a5=0;function Tn(n){return Hs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===oi.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ai.Emulated,id:"c"+a5++,styles:n.styles||Fe,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=lN(n.inputs,r),i.outputs=lN(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(oN).filter(aN):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Un).filter(aN):null,i})}function oN(n){return Ue(n)||Bn(n)}function aN(n){return null!==n}function Ne(n){return Hs(()=>({type:n.type,bootstrap:n.bootstrap||Fe,declarations:n.declarations||Fe,imports:n.imports||Fe,exports:n.exports||Fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lN(n,e){if(null==n)return Dl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const z=Tn;function Ue(n){return n[bp]||null}function Bn(n){return n[mb]||null}function Un(n){return n[gb]||null}function wr(n,e){const t=n[sN]||null;if(!t&&!0===e)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return t}function or(n){return Array.isArray(n)&&"object"==typeof n[1]}function ci(n){return Array.isArray(n)&&!0===n[1]}function vb(n){return 0!=(8&n.flags)}function Ip(n){return 2==(2&n.flags)}function Dp(n){return 1==(1&n.flags)}function ui(n){return null!==n.template}function f5(n){return 0!=(256&n[2])}function Ko(n,e){return n.hasOwnProperty(ns)?n[ns]:null}class g5{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function jn(){return dN}function dN(n){return n.type.prototype.ngOnChanges&&(n.setInput=y5),_5}function _5(){const n=fN(this),e=n?.current;if(e){const t=n.previous;if(t===Dl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function y5(n,e,t,r){const i=fN(n)||function v5(n,e){return n[hN]=e}(n,{previous:Dl,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new g5(l&&l.currentValue,e,o===Dl),n[r]=e}jn.ngInherit=!0;const hN="__ngSimpleChanges__";function fN(n){return n[hN]||null}function kt(n){for(;Array.isArray(n);)n=n[0];return n}function Tp(n,e){return kt(e[n])}function Gr(n,e){return kt(e[n.index])}function Ib(n,e){return n.data[e]}function Er(n,e){const t=e[n];return or(t)?t:t[0]}function pN(n){return 4==(4&n[2])}function Sp(n){return 64==(64&n[2])}function $s(n,e){return null==e?null:n[e]}function mN(n){n[18]=0}function Db(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ne={lFrame:IN(null),bindingsEnabled:!0};function _N(){return ne.bindingsEnabled}function S(){return ne.lFrame.lView}function Ie(){return ne.lFrame.tView}function Ap(n){return ne.lFrame.contextLView=n,n[8]}function xp(n){return ne.lFrame.contextLView=null,n}function Vt(){let n=yN();for(;null!==n&&64===n.type;)n=n.parent;return n}function yN(){return ne.lFrame.currentTNode}function Di(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function Tb(){return ne.lFrame.isParent}function Sb(){ne.lFrame.isParent=!1}function Hn(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Rl(){return ne.lFrame.bindingIndex++}function N5(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ab(e)}function Ab(n){ne.lFrame.currentDirectiveIndex=n}function xb(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function wN(){return ne.lFrame.currentQueryIndex}function Mb(n){ne.lFrame.currentQueryIndex=n}function P5(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function CN(n,e,t){if(t&q.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&q.Host||(i=P5(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=EN();return r.currentTNode=e,r.lView=n,!0}function kb(n){const e=EN(),t=n[1];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function EN(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?IN(n):e}function IN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function DN(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const TN=DN;function Rb(){const n=DN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $n(){return ne.lFrame.selectedIndex}function zs(n){ne.lFrame.selectedIndex=n}function bt(){const n=ne.lFrame;return Ib(n.tView,n.selectedIndex)}function kp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Rp(n,e,t){SN(n,e,3,t)}function Np(n,e,t,r){(3&n[2])===t&&SN(n,e,t,r)}function Nb(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function SN(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(z5(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function z5(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ku{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Op(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];xN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function AN(n){return 3===n||4===n||6===n}function xN(n){return 64===n.charCodeAt(0)}function Pp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||MN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function MN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function kN(n){return-1!==n}function Nl(n){return 32767&n}function Ol(n,e){let t=function Y5(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Pb=!0;function Fp(n){const e=Pb;return Pb=n,e}let Q5=0;const Ti={};function Qu(n,e){const t=Lb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Fb(r.data,n),Fb(e,null),Fb(r.blueprint,null));const i=Lp(n,e),s=n.injectorIndex;if(kN(i)){const o=Nl(i),a=Ol(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Fb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Lb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Lp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=UN(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Vp(n,e,t){!function X5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty($u)&&(r=t[$u]),null==r&&(r=t[$u]=Q5++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function ON(n,e,t){if(t&q.Optional)return n;_p()}function PN(n,e,t,r){if(t&q.Optional&&void 0===r&&(r=null),0==(t&(q.Self|q.Host))){const i=n[9],s=Hr(void 0);try{return i?i.get(e,r,t&q.Optional):iN(e,r,t&q.Optional)}finally{Hr(s)}}return ON(r,0,t)}function FN(n,e,t,r=q.Default,i){if(null!==n){if(1024&e[2]){const o=function n6(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=LN(s,o,t,r|q.Self,Ti);if(a!==Ti)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,Ti,r);if(u!==Ti)return u}l=UN(o),o=o[15]}s=l}return i}(n,e,t,r,Ti);if(o!==Ti)return o}const s=LN(n,e,t,r,Ti);if(s!==Ti)return s}return PN(e,t,r,i)}function LN(n,e,t,r,i){const s=function e6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty($u)?n[$u]:void 0;return"number"==typeof e?e>=0?255&e:t6:e}(t);if("function"==typeof s){if(!CN(e,n,r))return r&q.Host?ON(i,0,r):PN(e,t,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;_p()}finally{TN()}}else if("number"==typeof s){let o=null,a=Lb(n,e),l=-1,c=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(l=-1===a?Lp(n,e):e[a+8],-1!==l&&BN(r,!1)?(o=e[1],a=Nl(l),e=Ol(l,e)):a=-1);-1!==a;){const u=e[1];if(VN(s,a,u.data)){const d=J5(a,e,t,o,r,c);if(d!==Ti)return d}l=e[a+8],-1!==l&&BN(r,e[1].data[a+8]===c)&&VN(s,a,e)?(o=u,a=Nl(l),e=Ol(l,e)):a=-1}}return i}function J5(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Bp(a,o,t,null==r?Ip(a)&&Pb:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==u?Xu(e,o,u,a):Ti}function Bp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&ui(f)&&f.type===t)return l}return null}function Xu(n,e,t,r){let i=n[t];const s=e.data;if(function G5(n){return n instanceof Ku}(i)){const o=i;o.resolving&&function Q8(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}(s[t]));const a=Fp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Hr(o.injectImpl):null;CN(n,r,q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function $5(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=dN(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Hr(l),Fp(a),o.resolving=!1,TN()}}return i}function VN(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function BN(n,e){return!(n&q.Self||n&q.Host&&e)}class Pl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FN(this._tNode,this._lView,e,r,t)}}function t6(){return new Pl(Vt(),S())}function Vb(n){return hb(n)?()=>{const e=Vb(J(n));return e&&e()}:Ko(n)}function UN(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Fl(n){return function Z5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(AN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}const Vl="__parameters__";function Ul(n,e,t){return Hs(()=>{const r=function Bb(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Vl)?l[Vl]:Object.defineProperty(l,Vl,{value:[]})[Vl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class k{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Ir(r,e)):e!==n&&e.push(r)}return e}function ss(n,e){n.forEach(t=>Array.isArray(t)?ss(t,e):e(t))}function HN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Up(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ed(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Dr(n,e,t){let r=jl(n,e);return r>=0?n[1|r]=t:(r=~r,function o6(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function jb(n,e){const t=jl(n,e);if(t>=0)return n[1|t]}function jl(n,e){return function GN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const td={},$b="__NG_DI_FLAG__",Hp="ngTempTokenPath",p6=/\n/gm,WN="__source";let nd;function Hl(n){const e=nd;return nd=n,e}function g6(n,e=q.Default){if(void 0===nd)throw new D(-203,!1);return null===nd?iN(n,void 0,e):nd.get(n,e&q.Optional?null:void 0,e)}function C(n,e=q.Default){return(function o5(){return pb}()||g6)(J(n),e)}function it(n,e=q.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),C(n,e)}function zb(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],l=_6(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(C(i,s))}else e.push(C(r))}return e}function rd(n,e){return n[$b]=e,n.prototype[$b]=e,n}function _6(n){return n[$b]}const ft=rd(Ul("Optional"),8),$l=rd(Ul("SkipSelf"),4);let Wb,Gp;function Gl(n){return function qb(){if(void 0===Gp&&(Gp=null,We.trustedTypes))try{Gp=We.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gp}()?.createHTML(n)||n}class Yo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class R6 extends Yo{getTypeName(){return"HTML"}}class N6 extends Yo{getTypeName(){return"Style"}}class O6 extends Yo{getTypeName(){return"Script"}}class P6 extends Yo{getTypeName(){return"URL"}}class F6 extends Yo{getTypeName(){return"ResourceURL"}}function Tr(n){return n instanceof Yo?n.changingThisBreaksApplicationSecurity:n}function Si(n,e){const t=function L6(n){return n instanceof Yo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class $6{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Gl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class z6{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Gl(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Gl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const W6=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function od(n){return(n=String(n)).match(W6)?n:"unsafe:"+n}function oO(n){return(n=String(n)).split(",").map(e=>od(e.trim())).join(", ")}function Ai(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ad(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const aO=Ai("area,br,col,hr,img,wbr"),lO=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cO=Ai("rp,rt"),Yb=ad(aO,ad(lO,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ad(cO,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ad(cO,lO)),Qb=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xb=Ai("srcset"),uO=ad(Qb,Xb,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q6=Ai("script,style,template");class K6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Yb.hasOwnProperty(t))return this.sanitizedSomething=!0,!q6.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!uO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Qb[a]&&(l=od(l)),Xb[a]&&(l=oO(l)),this.buf.push(" ",o,'="',dO(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Yb.hasOwnProperty(t)&&!aO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dO(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Y6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q6=/([^\#-~ |!])/g;function dO(n){return n.replace(/&/g,"&amp;").replace(Y6,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Q6,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qp;function hO(n,e){let t=null;try{qp=qp||function sO(n){const e=new z6(n);return function G6(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch{return!1}}()?new $6(e):e}(n);let r=e?String(e):"";t=qp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=qp.getInertBodyElement(r)}while(r!==s);return Gl((new K6).sanitizeChildren(Zb(t)||t))}finally{if(t){const r=Zb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Zb(n){return"content"in n&&function X6(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Le=(()=>((Le=Le||{})[Le.NONE=0]="NONE",Le[Le.HTML=1]="HTML",Le[Le.STYLE=2]="STYLE",Le[Le.SCRIPT=3]="SCRIPT",Le[Le.URL=4]="URL",Le[Le.RESOURCE_URL=5]="RESOURCE_URL",Le))();function ld(n){const e=function cd(){const n=S();return n&&n[12]}();return e?e.sanitize(Le.URL,n)||"":Si(n,"URL")?Tr(n):od(se(n))}const Jb=new k("ENVIRONMENT_INITIALIZER"),pO=new k("INJECTOR",-1),mO=new k("INJECTOR_DEF_TYPES");class gO{get(e,t=td){if(t===td){const r=new Error(`NullInjectorError: No provider for ${Ge(e)}!`);throw r.name="NullInjectorError",r}return t}}function s7(...n){return{\u0275providers:_O(0,n)}}function _O(n,...e){const t=[],r=new Set;let i;return ss(e,s=>{const o=s;ew(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&yO(i,t),t}function yO(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ss(i,s=>{e.push(s)})}}function ew(n,e,t,r){if(!(n=J(n)))return!1;let i=null,s=nN(n);const o=!s&&Ue(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=nN(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)ew(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ss(s.imports,u=>{ew(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&yO(c,e)}if(!a){const c=Ko(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Fe},{provide:mO,useValue:i,multi:!0},{provide:Jb,useValue:()=>C(i),multi:!0})}const l=s.providers;null==l||a||ss(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const o7=ze({provide:String,useValue:ze});function tw(n){return null!==n&&"object"==typeof n&&o7 in n}function Qo(n){return"function"==typeof n}const nw=new k("Set Injector scope."),Kp={},l7={};let rw;function Yp(){return void 0===rw&&(rw=new gO),rw}class Ws{}class wO extends Ws{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sw(e,o=>this.processProvider(o)),this.records.set(pO,Wl(void 0,this)),i.has("environment")&&this.records.set(Ws,Wl(void 0,this));const s=this.records.get(nw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mO.multi,Fe,q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Hl(this),r=Hr(void 0);try{return e()}finally{Hl(t),Hr(r)}}get(e,t=td,r=q.Default){this.assertNotDestroyed();const i=Hl(this),s=Hr(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function f7(n){return"function"==typeof n||"object"==typeof n&&n instanceof k}(e)&&yp(e);a=l&&this.injectableDefInScope(l)?Wl(iw(e),Kp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?Yp():this.parent).get(e,t=r&q.Optional&&t===td?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Hp]=o[Hp]||[]).unshift(Ge(e)),i)throw o;return function y6(n,e,t,r){const i=n[Hp];throw e[WN]&&i.unshift(e[WN]),n.message=function v6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ge(e);if(Array.isArray(e))i=e.map(Ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ge(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(p6,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Hp]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Hr(s),Hl(i)}}resolveInjectorInitializers(){const e=Hl(this),t=Hr(void 0);try{const r=this.get(Jb.multi,Fe,q.Self);for(const i of r)i()}finally{Hl(e),Hr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ge(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=Qo(e=J(e))?e:J(e&&e.provide);const r=function u7(n){return tw(n)?Wl(void 0,n.useValue):Wl(CO(n),Kp)}(e);if(Qo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Wl(void 0,Kp,!0),i.factory=()=>zb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Kp&&(t.value=l7,t.value=t.factory()),"object"==typeof t.value&&t.value&&function h7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function iw(n){const e=yp(n),t=null!==e?e.factory:Ko(n);if(null!==t)return t;if(n instanceof k)throw new D(204,!1);if(n instanceof Function)return function c7(n){const e=n.length;if(e>0)throw ed(e,"?"),new D(204,!1);const t=function n5(n){const e=n&&(n[vp]||n[rN]);if(e){const t=function r5(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function CO(n,e,t){let r;if(Qo(n)){const i=J(n);return Ko(i)||iw(i)}if(tw(n))r=()=>J(n.useValue);else if(function bO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...zb(n.deps||[]));else if(function vO(n){return!(!n||!n.useExisting)}(n))r=()=>C(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function d7(n){return!!n.deps}(n))return Ko(i)||iw(i);r=()=>new i(...zb(n.deps))}return r}function Wl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function p7(n){return!!n.\u0275providers}function sw(n,e){for(const t of n)Array.isArray(t)?sw(t,e):p7(t)?sw(t.\u0275providers,e):e(t)}class EO{}class _7{resolveComponentFactory(e){throw function g7(n){const e=Error(`No component factory found for ${Ge(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Xo=(()=>{class n{}return n.NULL=new _7,n})();function y7(){return ql(Vt(),S())}function ql(n,e){return new qe(Gr(n,e))}let qe=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y7,n})();function v7(n){return n instanceof qe?n.nativeElement:n}class ud{}let os=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function b7(){const n=S(),t=Er(Vt().index,n);return(or(t)?t:n)[11]}(),n})(),w7=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>null}),n})();class qs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DO=new qs("14.2.1"),ow={};function dw(n){return n.ngOriginalError}class as{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&dw(e);for(;t&&dw(t);)t=dw(t);return t||null}}const hw=new Map;let N7=0;const pw="__ngContext__";function Mn(n,e){or(e)?(n[pw]=e[20],function P7(n){hw.set(n[20],n)}(e)):n[pw]=e}function dd(n){const e=n[pw];return"number"==typeof e?function kO(n){return hw.get(n)||null}(e):e||null}function mw(n){const e=dd(n);return e?or(e)?e:e.lView:null}function ls(n){return n instanceof Function?n():n}var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();function _w(n,e){return undefined(n,e)}function hd(n){const e=n[3];return ci(e)?e[3]:e}function yw(n){return VO(n[13])}function vw(n){return VO(n[4])}function VO(n){for(;null!==n&&!ci(n);)n=n[4];return n}function Yl(n,e,t,r,i){if(null!=r){let s,o=!1;ci(r)?s=r:or(r)&&(o=!0,r=r[0]);const a=kt(r);0===n&&null!==t?null==i?zO(e,t,a):Zo(e,t,a,i||null,!0):1===n&&null!==t?Zo(e,t,a,i||null,!0):2===n?function XO(n,e,t){const r=Qp(n,e);r&&function lY(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function dY(n,e,t,r,i){const s=t[7];s!==kt(t)&&Yl(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];fd(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function ww(n,e,t){return n.createElement(e,t)}function UO(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Db(i,-1)),t.splice(r,1)}function Cw(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&UO(i,r),e>0&&(n[t-1][4]=r[4]);const s=Up(n,10+e);!function eY(n,e){fd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function jO(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&fd(n,e,t,3,null,null),function rY(n){let e=n[13];if(!e)return Ew(n[1],n);for(;e;){let t=null;if(or(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)or(e)&&Ew(e[1],e),e=e[3];null===e&&(e=n),or(e)&&Ew(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ew(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function aY(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ku)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function oY(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):kt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&ci(e[3])){t!==e[3]&&UO(t,e);const r=e[19];null!==r&&r.detachView(n)}!function F7(n){hw.delete(n[20])}(e)}}function HO(n,e,t){return function $O(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ai.None||i===ai.Emulated)return null}return Gr(r,t)}(n,e.parent,t)}function Zo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zO(n,e,t){n.appendChild(e,t)}function GO(n,e,t,r,i){null!==r?Zo(n,e,t,r,i):zO(n,e,t)}function Qp(n,e){return n.parentNode(e)}function WO(n,e,t){return KO(n,e,t)}let KO=function qO(n,e,t){return 40&n.type?Gr(n,t):null};function Xp(n,e,t,r){const i=HO(n,r,e),s=e[11],a=WO(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)GO(s,i,t[l],a,!1);else GO(s,i,t,a,!1)}function Zp(n,e){if(null!==e){const t=e.type;if(3&t)return Gr(e,n);if(4&t)return Dw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Zp(n,r);{const i=n[e.index];return ci(i)?Dw(-1,i):kt(i)}}if(32&t)return _w(e,n)()||kt(n[e.index]);{const r=QO(n,e);return null!==r?Array.isArray(r)?r[0]:Zp(hd(n[16]),r):Zp(n,e.next)}}return null}function QO(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Dw(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Zp(r,i)}return e[7]}function Tw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Mn(kt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Tw(n,e,t.child,r,i,s,!1),Yl(e,n,i,a,s);else if(32&l){const c=_w(t,r);let u;for(;u=c();)Yl(e,n,i,u,s);Yl(e,n,i,a,s)}else 16&l?ZO(n,e,r,t,i,s):Yl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function fd(n,e,t,r,i,s){Tw(t,r,n.firstChild,e,i,s,!1)}function ZO(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Yl(e,n,i,l[c],s);else Tw(n,e,l,o[3],i,s,!0)}function JO(n,e,t){n.setAttribute(e,"style",t)}function Sw(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eP(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const tP="ng-template";function fY(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==eP(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function nP(n){return 4===n.type&&n.value!==tP}function pY(n,e,t){return e===(4!==n.type||t?n.value:tP)}function mY(n,e,t){let r=4;const i=n.attrs||[],s=function yY(n){for(let e=0;e<n.length;e++)if(AN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!pY(n,l,t)||""===l&&1===e.length){if(di(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!fY(n.attrs,c,t)){if(di(r))return!1;o=!0}continue}const d=gY(8&r?"class":l,i,nP(n),t);if(-1===d){if(di(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==eP(f,c,0)||2&r&&c!==h){if(di(r))return!1;o=!0}}}}else{if(!o&&!di(r)&&!di(l))return!1;if(o&&di(l))continue;o=!1,r=l|1&r}}return di(r)||o}function di(n){return 0==(1&n)}function gY(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function vY(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rP(n,e,t=!1){for(let r=0;r<e.length;r++)if(mY(n,e[r],t))return!0;return!1}function bY(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function iP(n,e){return n?":not("+e.trim()+")":e}function wY(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!di(o)&&(e+=iP(s,i),i=""),r=o,s=s||!di(r);t++}return""!==i&&(e+=iP(s,i)),e}const oe={};function Xe(n){sP(Ie(),S(),$n()+n,!1)}function sP(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Rp(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Np(e,s,0,t)}zs(t)}function cP(n,e=null,t=null,r){const i=uP(n,e,t,r);return i.resolveInjectorInitializers(),i}function uP(n,e=null,t=null,r,i=new Set){const s=[t||Fe,s7(n)];return r=r||("object"==typeof n?void 0:Ge(n)),new wO(s,e||Yp(),r||null,i)}let pt=(()=>{class n{static create(t,r){if(Array.isArray(t))return cP({name:""},r,t,"");{const i=t.name??"";return cP({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=td,n.NULL=new gO,n.\u0275prov=L({token:n,providedIn:"any",factory:()=>C(pO)}),n.__NG_ELEMENT_ID__=-1,n})();function y(n,e=q.Default){const t=S();return null===t?C(n,e):FN(Vt(),t,J(n),e)}function em(){throw new Error("invalid")}function tm(n,e){return n<<17|e<<2}function hi(n){return n>>17&32767}function Rw(n){return 2|n}function cs(n){return(131068&n)>>2}function Nw(n,e){return-131069&n|e<<2}function Ow(n){return 1|n}function SP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Mb(i),o.contentQueries(2,e[s],s)}}}function im(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),mN(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function O7(){return N7++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Xl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Hw(n,e,t,r,i){const s=yN(),o=Tb(),l=n.data[e]=function iQ(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function R5(){return ne.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function qu(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Di(s,!0),s}function Zl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sm(n,e,t){kb(e);try{const r=n.viewQuery;null!==r&&Xw(1,r,t);const i=n.template;null!==i&&AP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SP(n,e),n.staticViewQueries&&Xw(2,n.viewQuery,t);const s=n.components;null!==s&&function eQ(n,e){for(let t=0;t<e.length;t++)bQ(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Rb()}}function pd(n,e,t,r){const i=e[2];if(128!=(128&i)){kb(e);try{mN(e),function vN(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&AP(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Rp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Np(e,c,0,null),Nb(e,0)}if(function yQ(n){for(let e=yw(n);null!==e;e=vw(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Db(s,1),i[2]|=512}}}(e),function _Q(n){for(let e=yw(n);null!==e;e=vw(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Sp(r)&&pd(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&SP(n,e),o){const c=n.contentCheckHooks;null!==c&&Rp(e,c)}else{const c=n.contentHooks;null!==c&&Np(e,c,1),Nb(e,1)}!function ZY(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)zs(~i);else{const s=i,o=t[++r],a=t[++r];N5(o,s),a(2,e[s])}}}finally{zs(-1)}}(n,e);const a=n.components;null!==a&&function JY(n,e){for(let t=0;t<e.length;t++)vQ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Xw(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Rp(e,c)}else{const c=n.viewHooks;null!==c&&Np(e,c,2),Nb(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Db(e[3],-1))}finally{Rb()}}}function tQ(n,e,t,r){const i=e[10],o=pN(e);try{!o&&i.begin&&i.begin(),o&&sm(n,e,r),pd(n,e,t,r)}finally{!o&&i.end&&i.end()}}function AP(n,e,t,r,i){const s=$n(),o=2&r;try{zs(-1),o&&e.length>22&&sP(n,e,22,!1),t(r,i)}finally{zs(s)}}function xP(n,e,t){if(vb(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function $w(n,e,t){!_N()||(function cQ(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Qu(t,e),Mn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=ui(l);c&&pQ(e,t,l);const u=Xu(e,n,a,t);Mn(u,e),null!==o&&mQ(0,a-i,u,l,0,o),c&&(Er(t.index,e)[8]=u)}}(n,e,t,Gr(t,e)),128==(128&t.flags)&&function uQ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function O5(){return ne.lFrame.currentDirectiveIndex}();try{zs(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Ab(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&FP(l,c)}}finally{zs(-1),Ab(o)}}(n,e,t))}function zw(n,e,t=Gr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function MP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Gw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Gw(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function nQ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function kP(n,e,t,r){const i=HP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&$P(n).push(r,i.length-1))}function RP(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function NP(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||nP(e)?null:gQ(d,s);o.push(h),a=RP(d,c,a),l=RP(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function Sr(n,e,t,r,i,s,o,a){const l=Gr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Zw(n,t,u,r,i),Ip(e)&&OP(t,e.index)):3&e.type&&(r=function sQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function OP(n,e){const t=Er(e,n);16&t[2]||(t[2]|=32)}function Ww(n,e,t,r){let i=!1;if(_N()){const s=function dQ(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];rP(t,o.selectors,!1)&&(i||(i=[]),Vp(Qu(t,e),n,o.type),ui(o)?(LP(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,VP(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Zl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Pp(t.mergedAttrs,d.hostAttrs),BP(n,t,e,c,d),fQ(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}NP(n,t)}o&&function hQ(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Pp(t.mergedAttrs,t.attrs),i}function PP(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function lQ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function FP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function LP(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function fQ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ui(e)&&(t[""]=n)}}function VP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function BP(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ko(i.type)),o=new Ku(s,ui(i),y);n.blueprint[r]=o,t[r]=o,PP(n,e,0,r,Zl(n,t,i.hostVars,oe),i)}function pQ(n,e,t){const r=Gr(e,n),i=MP(t),s=n[10],o=om(n,im(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function xi(n,e,t,r,i,s){const o=Gr(n,e);!function qw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?se(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function mQ(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function gQ(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function UP(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function vQ(n,e){const t=Er(e,n);if(Sp(t)){const r=t[1];48&t[2]?pd(r,t,r.template,t[8]):t[5]>0&&Kw(t)}}function Kw(n){for(let r=yw(n);null!==r;r=vw(r))for(let i=10;i<r.length;i++){const s=r[i];if(Sp(s))if(512&s[2]){const o=s[1];pd(o,s,o.template,s[8])}else s[5]>0&&Kw(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Er(t[r],n);Sp(i)&&i[5]>0&&Kw(i)}}function bQ(n,e){const t=Er(e,n),r=t[1];(function wQ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),sm(r,t,t[8])}function om(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Yw(n){for(;n;){n[2]|=32;const e=hd(n);if(f5(n)&&!e)return n;n=e}return null}function Xw(n,e,t){Mb(0),e(n,t)}function HP(n){return n[7]||(n[7]=[])}function $P(n){return n.cleanup||(n.cleanup=[])}function zP(n,e,t){return(null===n||ui(n))&&(t=function E5(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function GP(n,e){const t=n[9],r=t?t.get(as,null):null;r&&r.handleError(e)}function Zw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function am(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=db(i,a):2==s&&(r=db(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function lm(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(kt(s)),ci(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&lm(l[1],l,c,r)}const o=t.type;if(8&o)lm(n,e,t.child,r);else if(32&o){const a=_w(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=QO(e,t);if(Array.isArray(a))r.push(...a);else{const l=hd(e[16]);lm(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class md{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lm(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ci(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Cw(e,r),Up(t,r))}this._attachedToViewContainer=!1}jO(this._lView[1],this._lView)}onDestroy(e){kP(this._lView[1],this._lView,null,e)}markForCheck(){Yw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Qw(n,e,t){const r=e[10];r.begin&&r.begin();try{pd(n,e,n.template,t)}catch(i){throw GP(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nY(n,e){fd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class EQ extends md{constructor(e){super(e),this._view=e}detectChanges(){!function jP(n){!function CQ(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=mw(t);if(null!==r){const i=r[1];tQ(i,r,i.template,t)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Jw extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ue(e);return new gd(t,this.ngModule)}}function WP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class DQ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,ow,r);return i!==ow||t===ow?i:this.parentInjector.get(e,t,r)}}class gd extends EO{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function CY(n){return n.map(wY).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return WP(this.componentDef.inputs)}get outputs(){return WP(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ws?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new DQ(e,s):e,a=o.get(ud,null);if(null===a)throw new D(407,!1);const l=o.get(w7,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function rQ(n,e,t){return n.selectRootElement(e,t===ai.ShadowDom)}(c,r,this.componentDef.encapsulation):ww(a.createRenderer(null,this.componentDef),u,function IQ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f={components:[]},p=Gw(0,null,null,1,0,null,null,null,null,null),m=im(null,p,f,h,null,null,a,c,l,o,null);let g,b;kb(m);try{const I=function AQ(n,e,t,r,i,s){const o=t[1];t[22]=n;const l=Xl(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(am(l,c,!0),null!==n&&(Op(i,n,c),null!==l.classes&&Sw(i,n,l.classes),null!==l.styles&&JO(i,n,l.styles)));const u=r.createRenderer(n,e),d=im(t,MP(e),null,e.onPush?32:16,t[22],l,r,u,s||null,null,null);return o.firstCreatePass&&(Vp(Qu(l,t),o,e.type),LP(o,l),VP(l,t.length,1)),om(t,d),t[22]=d}(d,this.componentDef,m,a,c);if(d)if(r)Op(c,d,["ng-version",DO.full]);else{const{attrs:v,classes:T}=function EY(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!di(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&Op(c,d,v),T&&T.length>0&&Sw(c,d,T.join(" "))}if(b=Ib(p,22),void 0!==t){const v=b.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const R=t[T];v.push(null!=R?Array.from(R):null)}}g=function xQ(n,e,t,r,i){const s=t[1],o=function aQ(n,e,t){const r=Vt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),BP(n,r,e,Zl(n,e,1,null),t),NP(n,r));const i=Xu(e,n,r.directiveStart,r);Mn(i,e);const s=Gr(r,e);return s&&Mn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=Vt();e.contentQueries(1,o,l.directiveStart)}const a=Vt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(zs(a.index),PP(t[1],a,0,a.directiveStart,a.directiveEnd,e),FP(e,o)),o}(I,this.componentDef,m,f,[kQ]),sm(p,m,null)}finally{Rb()}return new SQ(this.componentType,g,ql(b,m),m,b)}}class SQ extends class m7{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new EQ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Zw(s[1],s,i,e,t),OP(s,this._tNode.index)}}get injector(){return new Pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kQ(){const n=Vt();kp(S()[1],n)}function be(n){let e=function qP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ui(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=eC(n.inputs),o.declaredInputs=eC(n.declaredInputs),o.outputs=eC(n.outputs);const a=i.hostBindings;a&&PQ(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&NQ(n,l),c&&OQ(n,c),ub(n.inputs,i.inputs),ub(n.declaredInputs,i.declaredInputs),ub(n.outputs,i.outputs),ui(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===be&&(t=!1)}}e=Object.getPrototypeOf(e)}!function RQ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pp(i.hostAttrs,t=Pp(t,i.hostAttrs))}}(r)}function eC(n){return n===Dl?{}:n===Fe?[]:n}function NQ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function OQ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function PQ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let cm=null;function Jo(){if(!cm){const n=We.Symbol;if(n&&n.iterator)cm=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(cm=r)}}}return cm}function _d(n){return!!tC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Jo()in n)}function tC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Mi(n,e,t){return n[e]=t}function kn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function un(n,e,t,r){const i=S();return kn(i,Rl(),e)&&(Ie(),xi(bt(),i,n,e,t,r)),un}function ec(n,e,t,r){return kn(n,Rl(),t)?e+se(t)+r:oe}function Kt(n,e,t,r,i,s,o,a){const l=S(),c=Ie(),u=n+22,d=c.firstCreatePass?function $Q(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Xl(e,n,4,o||null,$s(c,a));Ww(e,t,u,$s(c,l)),kp(e,u);const d=u.tViews=Gw(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Di(d,!1);const h=l[11].createComment("");Xp(c,l,h,d),Mn(h,l),om(l,l[u]=UP(h,l,h,d)),Dp(d)&&$w(c,l,d),null!=o&&zw(l,d,a)}function je(n,e,t){const r=S();return kn(r,Rl(),e)&&Sr(Ie(),bt(),r,n,e,r[11],t,!1),je}function nC(n,e,t,r,i){const o=i?"class":"style";Zw(n,t,e.inputs[o],o,r)}function Ce(n,e,t,r){const i=S(),s=Ie(),o=22+n,a=i[11],l=i[o]=ww(a,e,function H5(){return ne.lFrame.currentNamespace}()),c=s.firstCreatePass?function WQ(n,e,t,r,i,s,o){const a=e.consts,c=Xl(e,n,2,i,$s(a,s));return Ww(e,t,c,$s(a,o)),null!==c.attrs&&am(c,c.attrs,!1),null!==c.mergedAttrs&&am(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Di(c,!0);const u=c.mergedAttrs;null!==u&&Op(a,l,u);const d=c.classes;null!==d&&Sw(a,l,d);const h=c.styles;return null!==h&&JO(a,l,h),64!=(64&c.flags)&&Xp(s,i,l,c),0===function T5(){return ne.lFrame.elementDepthCount}()&&Mn(l,i),function S5(){ne.lFrame.elementDepthCount++}(),Dp(c)&&($w(s,i,c),xP(s,c,i)),null!==r&&zw(i,c),Ce}function ke(){let n=Vt();Tb()?Sb():(n=n.parent,Di(n,!1));const e=n;!function A5(){ne.lFrame.elementDepthCount--}();const t=Ie();return t.firstCreatePass&&(kp(t,n),vb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function q5(n){return 0!=(16&n.flags)}(e)&&nC(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function K5(n){return 0!=(32&n.flags)}(e)&&nC(t,e,S(),e.stylesWithoutHost,!1),ke}function lr(n,e,t,r){return Ce(n,e,t,r),ke(),lr}function vd(n,e,t){const r=S(),i=Ie(),s=n+22,o=i.firstCreatePass?function qQ(n,e,t,r,i){const s=e.consts,o=$s(s,r),a=Xl(e,n,8,"ng-container",o);return null!==o&&am(a,o,!0),Ww(e,t,a,$s(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Di(o,!0);const a=r[s]=r[11].createComment("");return Xp(i,r,a,o),Mn(a,r),Dp(o)&&($w(i,r,o),xP(i,o,r)),null!=t&&zw(r,o),vd}function bd(){let n=Vt();const e=Ie();return Tb()?Sb():(n=n.parent,Di(n,!1)),e.firstCreatePass&&(kp(e,n),vb(n)&&e.queries.elementEnd(n)),bd}function dm(){return S()}function wd(n){return!!n&&"function"==typeof n.then}const rC=function s1(n){return!!n&&"function"==typeof n.subscribe};function lt(n,e,t,r){const i=S(),s=Ie(),o=Vt();return o1(s,i,i[11],o,n,e,0,r),lt}function iC(n,e){const t=Vt(),r=S(),i=Ie();return o1(i,r,zP(xb(i.data),t,r),t,n,e),iC}function o1(n,e,t,r,i,s,o,a){const l=Dp(r),u=n.firstCreatePass&&$P(n),d=e[8],h=HP(e);let f=!0;if(3&r.type||a){const g=Gr(r,e),b=a?a(g):g,I=h.length,v=a?R=>a(kt(R[r.index])):r.index;let T=null;if(!a&&l&&(T=function KQ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1;else{s=l1(r,e,d,s,!1);const R=t.listen(b,i,s);h.push(s,R),u&&u.push(i,v,I,I+1)}}else s=l1(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let b=0;b<g;b+=2){const U=e[m[b]][m[b+1]].subscribe(s),le=h.length;h.push(s,U),u&&u.push(i,r.index,le,-(le+1))}}}function a1(n,e,t,r){try{return!1!==t(r)}catch(i){return GP(n,i),!1}}function l1(n,e,t,r,i){return function s(o){if(o===Function)return r;Yw(2&n.flags?Er(n.index,e):e);let l=a1(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=a1(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ar(n=1){return function F5(n){return(ne.lFrame.contextLView=function L5(n,e){for(;n>0;)e=e[15],n--;return e}(n,ne.lFrame.contextLView))[8]}(n)}function YQ(n,e){let t=null;const r=function _Y(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?rP(n,s,!0):bY(r,s))return i}else t=i}return t}function Cd(n){const e=S()[16][6];if(!e.projection){const r=e.projection=ed(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?YQ(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function xr(n,e=0,t){const r=S(),i=Ie(),s=Xl(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Sb(),64!=(64&s.flags)&&function uY(n,e,t){ZO(e[11],0,e,t,HO(n,t,e),WO(t.parent||e[6],t,e))}(i,r,s)}function Ed(n,e,t,r,i){const s=S(),o=ec(s,e,t,r);return o!==oe&&Sr(Ie(),bt(),s,n,o,s[11],i,!1),Ed}function y1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?hi(s):cs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];ZQ(n[a],e)&&(l=!0,n[a+1]=r?Ow(u):Rw(u)),a=r?hi(u):cs(u)}l&&(n[t+1]=r?Rw(s):Ow(s))}function ZQ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&jl(n,e)>=0}function Gn(n,e){return function fi(n,e,t,r){const i=S(),s=Ie(),o=function is(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function S1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[$n()],o=function T1(n,e){return e>=n.expandoStartIndex}(n,t);(function k1(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function a9(n,e,t,r){const i=xb(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Id(t=sC(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=sC(i,n,e,t,r),null===s){let l=function l9(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==cs(r))return n[hi(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=sC(null,n,e,l[1],r),l=Id(l,e.attrs,r),function c9(n,e,t,r){n[hi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function u9(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Id(r,n[s].hostAttrs,t);return Id(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function QQ(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=hi(o),l=cs(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||jl(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=hi(n[a+1]);n[r+1]=tm(h,a),0!==h&&(n[h+1]=Nw(n[h+1],r)),n[a+1]=function HY(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=tm(a,0),0!==a&&(n[a+1]=Nw(n[a+1],r)),a=r;else n[r+1]=tm(l,0),0===a?a=r:n[l+1]=Nw(n[l+1],r),l=r;c&&(n[r+1]=Rw(n[r+1])),y1(n,u,r,!0),y1(n,u,r,!1),function XQ(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&jl(s,e)>=0&&(t[r+1]=Ow(t[r+1]))}(e,u,n,r,s),o=tm(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==oe&&kn(i,o,e)&&function x1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];hm(function vP(n){return 1==(1&n)}(c)?M1(l,e,t,i,cs(c),o):void 0)||(hm(s)||function yP(n){return 2==(2&n)}(c)&&(s=M1(l,null,t,i,a,o)),function hY(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ar.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ar.Important),n.setStyle(t,r,i,s))}}(r,o,Tp($n(),t),i,s))}(s,s.data[$n()],i,i[11],n,i[o+1]=function f9(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ge(Tr(n)))),n}(e,t),r,o)}(n,e,null,!0),Gn}function sC(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Id(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Id(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dr(n,o,!!t||e[++s]))}return void 0===n?null:n}function M1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===oe&&(h=d?Fe:void 0);let f=d?jb(h,r):u===r?h:void 0;if(c&&!hm(f)&&(f=jb(l,r)),hm(f)&&(a=f,o))return a;const p=n[i+1];i=o?hi(p):cs(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=jb(l,r))}return a}function hm(n){return void 0!==n}function Wn(n,e=""){const t=S(),r=Ie(),i=n+22,s=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],o=t[i]=function bw(n,e){return n.createText(e)}(t[11],e);Xp(r,t,o,s),Di(s,!1)}function ta(n){return oC("",n,""),ta}function oC(n,e,t){const r=S(),i=ec(r,n,e,t);return i!==oe&&function us(n,e,t){const r=Tp(e,n);!function BO(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,$n(),i),oC}function Dd(n,e,t){const r=S();return kn(r,Rl(),e)&&Sr(Ie(),bt(),r,n,e,r[11],t,!0),Dd}function aC(n,e,t){const r=S();if(kn(r,Rl(),e)){const s=Ie(),o=bt();Sr(s,o,r,n,e,zP(xb(s.data),o,r),t,!0)}return aC}const uc="en-US";let X1=uc;function uC(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let s=0;s<n.length;s++)uC(n[s],e,t,r,i);else{const s=Ie(),o=S();let a=Qo(n)?n:J(n.provide),l=CO(n);const c=Vt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Qo(n)||!n.multi){const f=new Ku(l,i,y),p=hC(a,e,i?u:u+h,d);-1===p?(Vp(Qu(c,o),s,a),dC(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=hC(a,e,u+h,d),p=hC(a,e,u,u+h),m=f>=0&&t[f],g=p>=0&&t[p];if(i&&!g||!i&&!m){Vp(Qu(c,o),s,a);const b=function kX(n,e,t,r,i){const s=new Ku(n,t,y);return s.multi=[],s.index=e,s.componentProviders=0,CF(s,i,r&&!t),s}(i?MX:xX,t.length,i,r,l);!i&&g&&(t[p].providerFactory=b),dC(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else dC(s,n,f>-1?f:p,CF(t[i?p:f],l,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function dC(n,e,t,r){const i=Qo(e),s=function a7(n){return!!n.useClass}(e);if(i||s){const l=(s?J(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function CF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xX(n,e,t,r){return fC(this.multi,[])}function MX(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),fC(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],fC(i,s);return s}function fC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ze(n,e=[]){return t=>{t.providersResolver=(r,i)=>function AX(n,e,t){const r=Ie();if(r.firstCreatePass){const i=ui(n);uC(t,r.data,r.blueprint,i,!0),uC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ra{}class EF{}class IF extends ra{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jw(this);const r=wr(e);this._bootstrapComponents=ls(r.bootstrap),this._r3Injector=uP(e,t,[{provide:ra,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],Ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pC extends EF{constructor(e){super(),this.moduleType=e}create(e){return new IF(this.moduleType,e)}}class NX extends ra{constructor(e,t,r){super(),this.componentFactoryResolver=new Jw(this),this.instance=null;const i=new wO([...e,{provide:ra,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],t||Yp(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _m(n,e,t=null){return new NX(n,e,t).injector}let OX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=_O(0,t.type),i=r.length>0?_m([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(C(Ws))}),n})();function DF(n){n.getStandaloneInjector=e=>e.get(OX).getOrCreateStandaloneInjector(n)}function gC(n,e,t,r){return function NF(n,e,t,r,i,s){const o=e+t;return kn(n,o,i)?Mi(n,o+1,s?r.call(s,i):r(i)):function Md(n,e){const t=n[e];return t===oe?void 0:t}(n,o+1)}(S(),Hn(),n,e,t,r)}function _C(n){return e=>{setTimeout(n,void 0,e)}}const Je=class iZ extends xe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=_C(s),i&&(i=_C(i)),o&&(o=_C(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof cn&&e.add(a),a}};function sZ(){return this._results[Jo()]()}class yC{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Jo(),r=yC.prototype;r[t]||(r[t]=sZ)}get changes(){return this._changes||(this._changes=new Je)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Ir(e);(this._changesDetected=!function i6(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=lZ,n})();const oZ=Ni,aZ=class extends oZ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=im(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),sm(r,i,e),new md(i)}};function lZ(){return ym(Vt(),S())}function ym(n,e){return 4&n.type?new aZ(e,n,ql(n,e)):null}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=cZ,n})();function cZ(){return UF(Vt(),S())}const uZ=qr,VF=class extends uZ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new Pl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lp(this._hostTNode,this._hostLView);if(kN(e)){const t=Ol(e,this._hostLView),r=Nl(e);return new Pl(t[1].data[r+8],t)}return new Pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Ju(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new gd(Ue(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Ws,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function D5(n){return ci(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new VF(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function iY(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],HN(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function sY(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Dw(s,o),l=r[11],c=Qp(l,o[7]);return null!==c&&function tY(n,e,t,r,i,s){r[0]=i,r[6]=e,fd(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),HN(vC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Cw(this._lContainer,t);r&&(Up(vC(this._lContainer),t),jO(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Cw(this._lContainer,t);return r&&null!=Up(vC(this._lContainer),t)?new md(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function BF(n){return n[8]}function vC(n){return n[8]||(n[8]=[])}function UF(n,e){let t;const r=e[n.index];if(ci(r))t=r;else{let i;if(8&n.type)i=kt(r);else{const s=e[11];i=s.createComment("");const o=Gr(n,e);Zo(s,Qp(s,o),i,function cY(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=UP(r,e,i,n),om(e,t)}return new VF(t,n,e)}class bC{constructor(e){this.queryList=e,this.matches=null}clone(){return new bC(this.queryList)}setDirty(){this.queryList.setDirty()}}class wC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new wC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GF(e,t).matches&&this.queries[t].setDirty()}}class jF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class CC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new CC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class EC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new EC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,fZ(t,s)),this.matchTNodeWithReadOption(e,t,Bp(t,e,s,!1,!1))}else r===Ni?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qe||i===qr||i===Ni&&4&t.type)this.addMatch(t.index,-2);else{const s=Bp(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function fZ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function mZ(n,e,t,r){return-1===t?function pZ(n,e){return 11&n.type?ql(n,e):4&n.type?ym(n,e):null}(e,n):-2===t?function gZ(n,e,t){return t===qe?ql(e,n):t===Ni?ym(e,n):t===qr?UF(e,n):void 0}(n,e,r):Xu(n,n[1],t,e)}function HF(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:mZ(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function IC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=HF(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&IC(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];IC(f[1],f,c,r)}}}}}return r}function dn(n){const e=S(),t=Ie(),r=wN();Mb(r+1);const i=GF(t,r);if(n.dirty&&pN(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?IC(t,e,r,[]):HF(t,e,i,r);n.reset(s,v7),n.notifyOnChanges()}return!0}return!1}function hc(n,e,t){const r=Ie();r.firstCreatePass&&(zF(r,new jF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),$F(r,S(),e)}function Kr(n,e,t,r){const i=Ie();if(i.firstCreatePass){const s=Vt();zF(i,new jF(e,t,r),s.index),function yZ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}$F(i,S(),t)}function hn(){return function _Z(n,e){return n[19].queries[e].queryList}(S(),wN())}function $F(n,e,t){const r=new yC(4==(4&t));kP(n,e,r,r.destroy),null===e[19]&&(e[19]=new wC),e[19].queries.push(new bC(r))}function zF(n,e,t){null===n.queries&&(n.queries=new CC),n.queries.track(new EC(e,t))}function GF(n,e){return n.queries.getByIndex(e)}function bm(...n){}const wm=new k("Application Initializer");let Cm=(()=>{class n{constructor(t){this.appInits=t,this.resolve=bm,this.reject=bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wd(s))t.push(s);else if(rC(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(wm,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nd=new k("AppId",{providedIn:"root",factory:function uL(){return`${xC()}${xC()}${xC()}`}});function xC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dL=new k("Platform Initializer"),Od=new k("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hL=new k("appBootstrapListener"),Qs=new k("AnimationModuleType");let BZ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Oi=new k("LocaleId",{providedIn:"root",factory:()=>it(Oi,q.Optional|q.SkipSelf)||function UZ(){return typeof $localize<"u"&&$localize.locale||uc}()});class HZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let MC=(()=>{class n{compileModuleSync(t){return new pC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ls(wr(t).declarations).reduce((o,a)=>{const l=Ue(a);return l&&o.push(new gd(l)),o},[]);return new HZ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GZ=(()=>Promise.resolve(0))();function kC(n){typeof Zone>"u"?GZ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function WZ(){let n=We.requestAnimationFrame,e=We.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function YZ(n){const e=()=>{!function KZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(We,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NC(n),n.isCheckStableRunning=!0,RC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return mL(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),gL(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return mL(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),gL(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,NC(n),RC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ae.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ae.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qZ,bm,bm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const qZ={};function RC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gL(n){n._nesting--,RC(n)}class QZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const _L=new k(""),Em=new k("");let FC,OC=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FC||(function XZ(n){FC=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),kC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(PC),C(Em))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),PC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return FC?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xs=null;const yL=new k("AllowMultipleToken"),LC=new k("PlatformDestroyListeners");class vL{constructor(e,t){this.name=e,this.token=t}}function wL(n,e,t=[]){const r=`Platform: ${e}`,i=new k(r);return(s=[])=>{let o=VC();if(!o||o.injector.get(yL,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function eJ(n){if(Xs&&!Xs.get(yL,!1))throw new D(400,!1);Xs=n;const e=n.get(EL);(function bL(n){const e=n.get(dL,null);e&&e.forEach(t=>t())})(n)}(function CL(n=[],e){return pt.create({name:e,providers:[{provide:nw,useValue:"platform"},{provide:LC,useValue:new Set([()=>Xs=null])},...n]})}(a,r))}return function nJ(n){const e=VC();if(!e)throw new D(401,!1);return e}()}}function VC(){return Xs?.get(EL)??null}let EL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function DL(n,e){let t;return t="noop"===n?new QZ:("zone.js"===n?void 0:n)||new ae(e),t}(r?.ngZone,function IL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:ae,useValue:i}];return i.run(()=>{const o=pt.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(as,null);if(!l)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Im(this._modules,a),c.unsubscribe()})}),function TL(n,e,t){try{const r=t();return wd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Cm);return c.runInitializers(),c.donePromise.then(()=>(function Z1(n){br(n,"Expected localeId to be defined"),"string"==typeof n&&(X1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Oi,uc)||uc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=SL({},r);return function ZZ(n,e,t){const r=new pC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(mc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(LC,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(pt))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function SL(n,e){return Array.isArray(e)?e.reduce(SL,n):{...n,...e}}let mc=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new He(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new He(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),kC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=mp(s,o.pipe(eN()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof EO;if(!this._injector.get(Cm).done)throw!i&&function Tl(n){const e=Ue(n)||Bn(n)||Un(n);return null!==e&&e.standalone}(t),new D(405,false);let o;o=i?t:this._injector.get(Xo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function JZ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ra),c=o.create(pt.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(_L,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Im(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Im(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hL,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Im(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(Ws),C(as))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Im(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let xL=!0,gc=(()=>{class n{}return n.__NG_ELEMENT_ID__=sJ,n})();function sJ(n){return function oJ(n,e,t){if(Ip(n)&&!t){const r=Er(n.index,e);return new md(r,r)}return 47&n.type?new md(e[16],e):null}(Vt(),S(),16==(16&n))}class OL{constructor(){}supports(e){return _d(e)}create(e){return new hJ(e)}}const dJ=(n,e)=>e;class hJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dJ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<FL(r,i,s)?t:r,a=FL(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_d(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function UQ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Jo()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new fJ(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new PL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fJ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class PL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new pJ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class LL{constructor(){}supports(e){return e instanceof Map||tC(e)}create(){return new mJ}}class mJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tC(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new gJ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class gJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VL(){return new Sm([new OL])}let Sm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VL()),deps:[[n,new $l,new ft]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=L({token:n,providedIn:"root",factory:VL}),n})();function BL(){return new Pd([new LL])}let Pd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BL()),deps:[[n,new $l,new ft]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=L({token:n,providedIn:"root",factory:BL}),n})();const vJ=wL(null,"core",[]);let bJ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(mc))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})();let Am=null;function Pi(){return Am}const pe=new k("DocumentToken");let $C=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return function IJ(){return C(UL)}()},providedIn:"platform"}),n})();const DJ=new k("Location Initialized");let UL=(()=>{class n extends $C{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){jL()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){jL()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:function(){return function TJ(){return new UL(C(pe))}()},providedIn:"platform"}),n})();function jL(){return!!window.history.pushState}function zC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function HL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fs(n){return n&&"?"!==n[0]?"?"+n:n}let sa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return it(zL)},providedIn:"root"}),n})();const $L=new k("appBaseHref");let zL=(()=>{class n extends sa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??it(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C($C),C($L,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SJ=(()=>{class n extends sa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=zC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C($C),C($L,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Fd=(()=>{class n{constructor(t){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=HL(GL(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fs(r))}normalize(t){return n.stripTrailingSlash(function xJ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,GL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=fs,n.joinWithSlash=zC,n.stripTrailingSlash=HL,n.\u0275fac=function(t){return new(t||n)(C(sa))},n.\u0275prov=L({token:n,factory:function(){return function AJ(){return new Fd(C(sa))}()},providedIn:"root"}),n})();function GL(n){return n.replace(/\/index.html$/,"")}class mee{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nV=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mee(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),rV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{rV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(Ni),y(Sm))},n.\u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function rV(n,e){n.context.$implicit=e.item}let eE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(Ni))},n.\u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _ee{constructor(){this.$implicit=null,this.ngIf=null}}function iV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ge(e)}'.`)}class tE{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Vm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),sV=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new tE(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(Ni),y(Vm,9))},n.\u0275dir=z({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),aV=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:ar.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(Pd),y(os))},n.\u0275dir=z({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})();const uV="browser";let Wee=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>new qee(C(pe),window)}),n})();class qee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Kee(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dV(this.window.history)||dV(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oE extends class fte extends class EJ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function CJ(n){Am||(Am=n)}(new oE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pte(){return Ud=Ud||document.querySelector("base"),Ud?Ud.getAttribute("href"):null}();return null==t?null:function mte(n){Um=Um||document.createElement("a"),Um.setAttribute("href",n);const e=Um.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hee(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Um,Ud=null;const mV=new k("TRANSITION_ID"),_te=[{provide:wm,useFactory:function gte(n,e,t){return()=>{t.get(Cm).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[mV,pe,pt],multi:!0}];let vte=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const jm=new k("EventManagerPlugins");let Hm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(jm),C(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class gV{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let _V=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),jd=(()=>{class n extends _V{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yV),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yV))}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function yV(n){Pi().remove(n)}const aE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lE=/%COMP%/g;function $m(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$m(n,i,t):(i=i.replace(lE,n),t.push(i))}return t}function wV(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let zm=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ai.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Dte(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case ai.ShadowDom:return new Tte(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$m(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(Hm),C(jd),C(Nd))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class cE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(aE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(EV(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(EV(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=aE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=aE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wV(r)):this.eventManager.addEventListener(e,t,wV(r))}}function EV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dte extends cE{constructor(e,t,r,i){super(e),this.component=r;const s=$m(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Cte(n){return"_ngcontent-%COMP%".replace(lE,n)}(i+"-"+r.id),this.hostAttr=function Ete(n){return"_nghost-%COMP%".replace(lE,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Tte extends cE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$m(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ste=(()=>{class n extends gV{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const IV=["alt","control","meta","shift"],Ate={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xte={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Mte=(()=>{class n extends gV{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),IV.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Ate[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IV.forEach(o=>{o!==i&&(0,xte[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const TV=[{provide:Od,useValue:uV},{provide:dL,useValue:function kte(){oE.makeCurrent()},multi:!0},{provide:pe,useFactory:function Nte(){return function x6(n){Wb=n}(document),document},deps:[]}],Ote=wL(vJ,"browser",TV),SV=new k(""),AV=[{provide:Em,useClass:class yte{addToWindow(e){We.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},We.getAllAngularTestabilities=()=>e.getAllTestabilities(),We.getAllAngularRootElements=()=>e.getAllRootElements(),We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(r=>{const i=We.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Pi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_L,useClass:OC,deps:[ae,PC,Em]},{provide:OC,useClass:OC,deps:[ae,PC,Em]}],xV=[{provide:nw,useValue:"root"},{provide:as,useFactory:function Rte(){return new as},deps:[]},{provide:jm,useClass:Ste,multi:!0,deps:[pe,ae,Od]},{provide:jm,useClass:Mte,multi:!0,deps:[pe]},{provide:zm,useClass:zm,deps:[Hm,jd,Nd]},{provide:ud,useExisting:zm},{provide:_V,useExisting:jd},{provide:jd,useClass:jd,deps:[pe]},{provide:Hm,useClass:Hm,deps:[jm,ae]},{provide:class Yee{},useClass:vte,deps:[]},[]];let MV=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Nd,useValue:t.appId},{provide:mV,useExisting:Nd},_te]}}}return n.\u0275fac=function(t){return new(t||n)(C(SV,12))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[...xV,...AV],imports:[cV,bJ]}),n})(),kV=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new t:function Fte(){return new kV(C(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new(t||n):C(OV),r},providedIn:"root"}),n})(),OV=(()=>{class n extends hE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Le.NONE:return r;case Le.HTML:return Si(r,"HTML")?Tr(r):hO(this._doc,String(r)).toString();case Le.STYLE:return Si(r,"Style")?Tr(r):r;case Le.SCRIPT:if(Si(r,"Script"))return Tr(r);throw new Error("unsafe value used in a script context");case Le.URL:return Si(r,"URL")?Tr(r):od(String(r));case Le.RESOURCE_URL:if(Si(r,"ResourceURL"))return Tr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function V6(n){return new R6(n)}(t)}bypassSecurityTrustStyle(t){return function B6(n){return new N6(n)}(t)}bypassSecurityTrustScript(t){return function U6(n){return new O6(n)}(t)}bypassSecurityTrustUrl(t){return function j6(n){return new P6(n)}(t)}bypassSecurityTrustResourceUrl(t){return function H6(n){return new F6(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new t:function $te(n){return new OV(n.get(pe))}(C(pt)),r},providedIn:"root"}),n})();function G(...n){return Mt(n,Hu(n))}class Xr extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Gm=Uu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:zte}=Array,{getPrototypeOf:Gte,prototype:Wte,keys:qte}=Object;function PV(n){if(1===n.length){const e=n[0];if(zte(e))return{args:e,keys:null};if(function Kte(n){return n&&"object"==typeof n&&Gte(n)===Wte}(e)){const t=qte(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Yte}=Array;function fE(n){return te(e=>function Qte(n,e){return Yte(e)?n(...e):n(e)}(n,e))}function FV(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function pE(...n){const e=Hu(n),t=ZR(n),{args:r,keys:i}=PV(n);if(0===r.length)return Mt([],e);const s=new He(function Xte(n,e,t=js){return r=>{LV(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)LV(e,()=>{const c=Mt(n[l],e);let u=!1;c.subscribe(ot(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>FV(i,o):js));return t?s.pipe(fE(t)):s}function LV(n,e,t){n?es(t,n,e):e()}function Wm(...n){return function Zte(){return Il(1)}()(Mt(n,Hu(n)))}function qm(n){return new He(e=>{ir(n()).subscribe(e)})}function _c(n,e){const t=Ae(n)?n:()=>n,r=i=>i.error(t());return new He(e?i=>e.schedule(r,0,i):r)}function mE(){return vt((n,e)=>{let t=null;n._refCount++;const r=ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class VV extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,LR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cn;const t=this.getSubject();e.add(this.source.subscribe(ot(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cn.EMPTY)}return e}refCount(){return mE()(this)}}function Fi(n,e){return vt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ot(r,l=>{i?.unsubscribe();let c=0;const u=s++;ir(n(l,u)).subscribe(i=ot(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Mr(n){return n<=0?()=>Ii:vt((e,t)=>{let r=0;e.subscribe(ot(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function oa(...n){const e=Hu(n);return vt((t,r)=>{(e?Wm(n,t,e):Wm(n,t)).subscribe(r)})}function Yn(n,e){return vt((t,r)=>{let i=0;t.subscribe(ot(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Km(n){return vt((e,t)=>{let r=!1;e.subscribe(ot(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function BV(n=Jte){return vt((e,t)=>{let r=!1;e.subscribe(ot(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Jte(){return new Gm}function Js(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,s)=>n(i,s,r)):js,Mr(1),t?Km(e):BV(()=>new Gm))}function eo(n,e){return Ae(e)?Wt(n,e,1):Wt(n,1)}function Ot(n,e,t){const r=Ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ot(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):js}function ms(n){return vt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ot(t,void 0,void 0,o=>{s=ir(n(o,ms(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ene(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ot(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function UV(n,e){return vt(ene(n,e,arguments.length>=2,!0))}function gE(n){return n<=0?()=>Ii:vt((e,t)=>{let r=[];e.subscribe(ot(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jV(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,s)=>n(i,s,r)):js,gE(1),t?Km(e):BV(()=>new Gm))}function Ym(n){return vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const me="primary",Hd=Symbol("RouteTitle");class rne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yc(n){return new rne(n)}function ine(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!HV(n[i],e[i]))return!1;return!0}function HV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function $V(n){return Array.prototype.concat.apply([],n)}function zV(n){return n.length>0?n[n.length-1]:null}function fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function to(n){return rC(n)?n:wd(n)?Mt(Promise.resolve(n)):G(n)}const ane={exact:function qV(n,e,t){if(!la(n.segments,e.segments)||!Qm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qV(n.children[r],e.children[r],t))return!1;return!0},subset:KV},GV={exact:function lne(n,e){return Li(n,e)},subset:function cne(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>HV(n[t],e[t]))},ignored:()=>!0};function WV(n,e,t){return ane[t.paths](n.root,e.root,t.matrixParams)&&GV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function KV(n,e,t){return YV(n,e,e.segments,t)}function YV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!la(i,t)||e.hasChildren()||!Qm(i,t,r))}if(n.segments.length===t.length){if(!la(n.segments,t)||!Qm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!KV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(la(n.segments,i)&&Qm(n.segments,i,r)&&n.children[me])&&YV(n.children[me],e,s,r)}}function Qm(n,e,t){return e.every((r,i)=>GV[t](n[i].parameters,r.parameters))}class aa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap}toString(){return hne.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xm(this)}}class $d{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yc(this.parameters)),this._parameterMap}toString(){return JV(this)}}function la(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return new yE},providedIn:"root"}),n})();class yE{parse(e){const t=new wne(e);return new aa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zd(e.root,!0)}`,r=function mne(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zm(t)}=${Zm(i)}`).join("&"):`${Zm(t)}=${Zm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fne(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hne=new yE;function Xm(n){return n.segments.map(e=>JV(e)).join("/")}function zd(n,e){if(!n.hasChildren())return Xm(n);if(e){const t=n.children[me]?zd(n.children[me],!1):"",r=[];return fn(n.children,(i,s)=>{s!==me&&r.push(`${s}:${zd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dne(n,e){let t=[];return fn(n.children,(r,i)=>{i===me&&(t=t.concat(e(r,i)))}),fn(n.children,(r,i)=>{i!==me&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===me?[zd(n.children[me],!1)]:[`${i}:${zd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${Xm(n)}/${t[0]}`:`${Xm(n)}/(${t.join("//")})`}}function XV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zm(n){return XV(n).replace(/%3B/gi,";")}function vE(n){return XV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jm(n){return decodeURIComponent(n)}function ZV(n){return Jm(n.replace(/\+/g,"%20"))}function JV(n){return`${vE(n.path)}${function pne(n){return Object.keys(n).map(e=>`;${vE(e)}=${vE(n[e])}`).join("")}(n.parameters)}`}const gne=/^[^\/()?;=#]+/;function eg(n){const e=n.match(gne);return e?e[0]:""}const _ne=/^[^=?&#]+/,vne=/^[^&#]+/;class wne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new ye(e,t)),r}parseSegment(){const e=eg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new $d(Jm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eg(this.remaining);i&&(r=i,this.capture(r))}e[Jm(t)]=Jm(r)}parseQueryParam(e){const t=function yne(n){const e=n.match(_ne);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function bne(n){const e=n.match(vne);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=ZV(t),s=ZV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[me]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function bE(n){return n.segments.length>0?new ye([],{[me]:n}):n}function tg(n){const e={};for(const r of Object.keys(n.children)){const s=tg(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Cne(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}function ca(n){return n instanceof aa}function Dne(n,e,t,r,i){if(0===t.length)return vc(e.root,e.root,e.root,r,i);const s=function nB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tB(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return fn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new tB(t,e,r)}(t);return s.toRoot()?vc(e.root,e.root,new ye([],{}),r,i):function o(l){const c=function Sne(n,e,t,r){if(n.isAbsolute)return new bc(e.root,!0,0);if(-1===r)return new bc(t,t===e.root,0);return function rB(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new bc(r,!1,i-s)}(t,r+(Gd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?qd(c.segmentGroup,c.index,s.commands):CE(c.segmentGroup,c.index,s.commands);return vc(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Gd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wd(n){return"object"==typeof n&&null!=n&&n.outlets}function vc(n,e,t,r,i){let o,s={};r&&fn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:eB(n,e,t);const a=bE(tg(o));return new aa(a,s,i)}function eB(n,e,t){const r={};return fn(n.children,(i,s)=>{r[s]=i===e?t:eB(i,e,t)}),new ye(n.segments,r)}class tB{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gd(r[0]))throw new D(4003,!1);const i=r.find(Wd);if(i&&i!==zV(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function CE(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return qd(n,e,t);const r=function xne(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Wd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!sB(l,c,o))return s;r+=2}else{if(!sB(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[me]=new ye(n.segments.slice(r.pathIndex),n.children),qd(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?EE(n,e,t):r.match?qd(n,0,i):EE(n,e,t)}function qd(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function Ane(n){return Wd(n[0])?n[0].outlets:{[me]:n}}(t),i={};return fn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=CE(n.children[o],e,s))}),fn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function EE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Wd(s)){const l=Mne(s.outlets);return new ye(r,l)}if(0===i&&Gd(t[0])){r.push(new $d(n.segments[e].path,iB(t[0]))),i++;continue}const o=Wd(s)?s.outlets[me]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Gd(a)?(r.push(new $d(o,iB(a))),i+=2):(r.push(new $d(o,{})),i++)}return new ye(r,{})}function Mne(n){const e={};return fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=EE(new ye([],{}),0,t))}),e}function iB(n){const e={};return fn(n,(t,r)=>e[r]=`${t}`),e}function sB(n,e,t){return n==t.path&&Li(e,t.parameters)}class gs{constructor(e,t){this.id=e,this.url=t}}class IE extends gs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ua extends gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ng extends gs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oB extends gs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kne extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rne extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nne extends gs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class One extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pne extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Une{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aB{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=DE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=TE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return TE(e,this._root).map(t=>t.value)}}function DE(n,e){if(n===e.value)return e;for(const t of e.children){const r=DE(n,t);if(r)return r}return null}function TE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=TE(n,t);if(r.length)return r.unshift(e),r}return[]}class _s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cB extends lB{constructor(e,t){super(e),this.snapshot=t,SE(this,e)}toString(){return this.snapshot.toString()}}function uB(n,e){const t=function $ne(n,e){const o=new rg([],{},{},"",{},me,e,null,n.root,-1,{});return new hB("",new _s(o,[]))}(n,e),r=new Xr([new $d("",{})]),i=new Xr({}),s=new Xr({}),o=new Xr({}),a=new Xr(""),l=new da(r,i,o,a,s,me,e,t.root);return l.snapshot=t.root,new cB(new _s(l,[]),t)}class da{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(te(c=>c[Hd]))??G(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(te(e=>yc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te(e=>yc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dB(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function zne(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rg{constructor(e,t,r,i,s,o,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Hd],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hB extends lB{constructor(e,t){super(t),this.url=e,SE(this,t)}toString(){return fB(this._root)}}function SE(n,e){e.value._routerState=n,e.children.forEach(t=>SE(n,t))}function fB(n){const e=n.children.length>0?` { ${n.children.map(fB).join(", ")} } `:"";return`${n.value}${e}`}function AE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function sne(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xE(n,e){const t=Li(n.params,e.params)&&function une(n,e){return la(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xE(n.parent,e.parent))}function Kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Wne(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kd(n,r,i);return Kd(n,r)})}(n,e,t);return new _s(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Kd(n,a)),o}}const r=function qne(n){return new da(new Xr(n.url),new Xr(n.params),new Xr(n.queryParams),new Xr(n.fragment),new Xr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Kd(n,s));return new _s(r,i)}}const ME="ngNavigationCancelingError";function pB(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mB(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function mB(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ME]=!0,r.cancellationCode=e,t&&(r.url=t),r}function gB(n){return _B(n)&&ca(n.url)}function _B(n){return n&&n[ME]}class Kne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yd,this.attachRef=null}}let Yd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kne,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ig=!1;let kE=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.name=i||me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,ig);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,ig);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,ig);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,ig);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Yne(t,a,i.injector);if(r&&function Qne(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(y(Yd),y(qr),Fl("name"),y(gc),y(Ws))},n.\u0275dir=z({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Yne{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===da?this.route:e===Yd?this.childContexts:this.parent.get(e,t)}}let RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[DF],decls:1,vars:0,template:function(t,r){1&t&&lr(0,"router-outlet")},dependencies:[kE],encapsulation:2}),n})();function yB(n,e){return n.providers&&!n._injector&&(n._injector=_m(n.providers,e,`Route: ${n.path}`)),n._injector??e}function OE(n){const e=n.children&&n.children.map(OE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=RE),t}function Zr(n){return n.outlet||me}function vB(n,e){const t=n.filter(r=>Zr(r)===e);return t.push(...n.filter(r=>Zr(r)!==e)),t}function Qd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tre{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),AE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),fn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bne(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(AE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),AE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Qd(i.snapshot),l=a?.get(Xo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class bB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sg{constructor(e,t){this.component=e,this.route=t}}function nre(n,e,t){const r=n._root;return Xd(r,e?e._root:null,t,[r.value])}function Cc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function t5(n){return null!==yp(n)}(n)?e.get(n):n:r}function Xd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wc(e);return n.children.forEach(o=>{(function ire(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function sre(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!la(n.url,e.url);case"pathParamsOrQueryParamsChange":return!la(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xE(n,e)||!Li(n.queryParams,e.queryParams);default:return!xE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bB(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sg(a.outlet.component,o))}else o&&Zd(e,a,i),i.canActivateChecks.push(new bB(r)),Xd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),fn(s,(o,a)=>Zd(o,t.getContext(a),i)),i}function Zd(n,e,t){const r=wc(n),i=n.value;fn(r,(s,o)=>{Zd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new sg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jd(n){return"function"==typeof n}function PE(n){return n instanceof Gm||"EmptyError"===n?.name}const og=Symbol("INITIAL_VALUE");function Ec(){return Fi(n=>pE(n.map(e=>e.pipe(Mr(1),oa(og)))).pipe(te(e=>{for(const t of e)if(!0!==t){if(t===og)return og;if(!1===t||t instanceof aa)return t}return!0}),Yn(e=>e!==og),Mr(1)))}function wB(n){return function E8(...n){return OR(n)}(Ot(e=>{if(ca(e))throw pB(0,e)}),te(e=>!0===e))}const FE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CB(n,e,t,r,i){const s=LE(n,e,t);return s.matched?function Cre(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=Cc(o,n);return to(function dre(n){return n&&Jd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ec(),wB()):G(!0)}(r=yB(e,r),e,t).pipe(te(o=>!0===o?s:{...FE})):G(s)}function LE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...FE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ine)(t,n,e);if(!i)return{...FE};const s={};fn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ag(n,e,t,r,i="corrected"){if(t.length>0&&function Dre(n,e,t){return t.some(r=>lg(n,e,r)&&Zr(r)!==me)}(n,t,r)){const o=new ye(e,function Ire(n,e,t,r){const i={};i[me]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Zr(s)!==me){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Zr(s)]=o}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Tre(n,e,t){return t.some(r=>lg(n,e,r))}(n,t,r)){const o=new ye(n.segments,function Ere(n,e,t,r,i,s){const o={};for(const a of r)if(lg(n,t,a)&&!i[Zr(a)]){const l=new ye([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Zr(a)]=l}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EB(n,e,t,r){return!!(Zr(n)===r||r!==me&&lg(e,t,n))&&("**"===n.path||LE(e,n,t).matched)}function IB(n,e,t){return 0===e.length&&!n.children[t]}const cg=!1;class ug{constructor(e){this.segmentGroup=e||null}}class DB{constructor(e){this.urlTree=e}}function eh(n){return _c(new ug(n))}function TB(n){return _c(new DB(n))}class Mre{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=ag(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,me).pipe(te(s=>this.createUrlTree(tg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ms(s=>{if(s instanceof DB)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ug?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,me).pipe(te(i=>this.createUrlTree(tg(i),e.queryParams,e.fragment))).pipe(ms(i=>{throw i instanceof ug?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,cg)}createUrlTree(e,t,r){const i=bE(e);return new aa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(te(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Mt(i).pipe(eo(s=>{const o=r.children[s],a=vB(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(te(l=>({segment:l,outlet:s})))}),UV((s,o)=>(s[o.outlet]=o.segment,s),{}),jV())}expandSegment(e,t,r,i,s,o){return Mt(r).pipe(eo(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ms(c=>{if(c instanceof ug)return G(null);throw c}))),Js(a=>!!a),ms((a,l)=>{if(PE(a))return IB(t,i,s)?G(new ye([],{})):eh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return EB(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):eh(t):eh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?TB(s):this.lineralizeSegments(r,s).pipe(Wt(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=LE(t,i,s);if(!a)return eh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?TB(d):this.lineralizeSegments(i,d).pipe(Wt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=yB(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(te(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ye(i,{})))):G(new ye(i,{}))):CB(t,r,i,e).pipe(Fi(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Wt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=ag(t,a,l,h),m=new ye(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(te(v=>new ye(a,v)));if(0===h.length&&0===p.length)return G(new ye(a,{}));const g=Zr(r)===s;return this.expandSegment(d,m,h,p,g?me:s,!0).pipe(te(I=>new ye(a.concat(I.segments),I.children)))})):eh(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function wre(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=Cc(o,n);return to(function are(n){return n&&Jd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ec(),wB())}(e,t,r).pipe(Wt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ot(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Are(n){return _c(mB(cg,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[me])return _c(new D(4e3,cg));i=i.children[me]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new aa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return fn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,cg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Rre{}class Pre{constructor(e,t,r,i,s,o,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=ag(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(te(t=>{if(null===t)return null;const r=new rg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _s(r,t),s=new hB(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=dB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Mt(Object.keys(r.children)).pipe(eo(i=>{const s=r.children[i],o=vB(t,i);return this.processSegmentGroup(e,o,s,i)}),UV((i,s)=>i&&s?(i.push(...s),i):null),function tne(n,e=!1){return vt((t,r)=>{let i=0;t.subscribe(ot(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Km(null),jV(),te(i=>{if(null===i)return null;const s=SB(i);return function Fre(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Mt(t).pipe(eo(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Js(o=>!!o),ms(o=>{if(PE(o))return IB(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!EB(t,r,i,s))return G(null);let o;if("**"===t.path){const a=i.length>0?zV(i).parameters:{},l=xB(r)+i.length;o=G({snapshot:new rg(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kB(t),Zr(t),t.component??t._loadedComponent??null,t,AB(r),l,RB(t),l),consumedSegments:[],remainingSegments:[]})}else o=CB(r,t,i,e).pipe(te(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=xB(r)+l.length;return{snapshot:new rg(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kB(t),Zr(t),t.component??t._loadedComponent??null,t,AB(r),d,RB(t),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(Fi(a=>{if(null===a)return G(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Lre(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=ag(r,c,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(te(g=>null===g?null:[new _s(l,g)]));if(0===h.length&&0===p.length)return G([new _s(l,[])]);const m=Zr(t)===s;return this.processSegment(d,h,f,p,m?me:s).pipe(te(g=>null===g?null:[new _s(l,g)]))}))}}function Vre(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function SB(n){const e=[],t=new Set;for(const r of n){if(!Vre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=SB(r.children);e.push(new _s(r.value,i))}return e.filter(r=>!t.has(r))}function AB(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xB(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kB(n){return n.data||{}}function RB(n){return n.resolve||{}}function NB(n){return"string"==typeof n.title||null===n.title}function VE(n){return Fi(e=>{const t=n(e);return t?Mt(t).pipe(te(()=>e)):G(e)})}let OB=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[Hd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return it(PB)},providedIn:"root"}),n})(),PB=(()=>{class n extends OB{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(C(kV))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Wre{}class Kre extends class qre{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hg=new k("",{providedIn:"root",factory:()=>({})}),BE=new k("ROUTES");let UE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=to(t.loadComponent()).pipe(Ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ym(()=>{this.componentLoaders.delete(t)})),i=new VV(r,()=>new xe).pipe(mE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(te(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=$V(l.get(BE,[],q.Self|q.Optional)));return{routes:c.map(OE),injector:l}}),Ym(()=>{this.childrenLoaders.delete(r)})),o=new VV(s,()=>new xe).pipe(mE());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return to(t()).pipe(Wt(r=>r instanceof EF||Array.isArray(r)?G(r):Mt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(C(pt),C(MC))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qre{}class Xre{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zre(n){throw n}function Jre(n,e,t){return e.parse("/")}const eie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function LB(){const n=it(QV),e=it(Yd),t=it(Fd),r=it(pt),i=it(MC),s=it(BE,{optional:!0})??[],o=it(hg,{optional:!0})??{},a=it(PB),l=it(OB,{optional:!0}),c=it(Qre,{optional:!0}),u=it(Wre,{optional:!0}),d=new Yt(null,n,e,t,r,i,$V(s));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function nie(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Yt=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe,this.errorHandler=Zre,this.malformedUriErrorHandler=Jre,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>G(void 0),this.urlHandlingStrategy=new Xre,this.routeReuseStrategy=new Kre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(UE),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Lne(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Fne(h)),this.ngModule=o.get(ra),this.console=o.get(BZ);const d=o.get(ae);this.isNgZoneEnabled=d instanceof ae&&ae.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function one(){return new aa(new ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uB(this.currentUrlTree,this.rootComponentType),this.transitions=new Xr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Yn(i=>0!==i.id),te(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Fi(i=>{let s=!1,o=!1;return G(i).pipe(Ot(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fi(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return VB(a.source)&&(this.browserUrlTree=a.extractedUrl),G(a).pipe(Fi(d=>{const h=this.transitions.getValue();return r.next(new IE(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ii:Promise.resolve(d)}),function kre(n,e,t,r){return Fi(i=>function xre(n,e,t,r,i){return new Mre(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(te(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ot(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Ure(n,e,t,r,i,s){return Wt(o=>function Ore(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new Pre(n,e,t,r,i,o,a,s).recognize().pipe(Fi(l=>null===l?function Nre(n){return new He(e=>e.error(n))}(new Rre):G(l)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(te(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ot(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new kne(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,b=new IE(h,this.serializeUrl(f),p,m);r.next(b);const I=uB(f,this.rootComponentType).snapshot;return G(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ii}),Ot(a=>{const l=new Rne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),te(a=>i={...a,guards:nre(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function fre(n,e){return Wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function pre(n,e,t,r){return Mt(n).pipe(Wt(i=>function bre(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const l=Qd(e)??i,c=Cc(a,l);return to(function ure(n){return n&&Jd(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Js())})).pipe(Ec()):G(!0)}(i.component,i.route,t,e,r)),Js(i=>!0!==i,!0))}(o,r,i,n).pipe(Wt(a=>a&&function ore(n){return"boolean"==typeof n}(a)?function mre(n,e,t,r){return Mt(e).pipe(eo(i=>Wm(function _re(n,e){return null!==n&&e&&e(new Vne(n)),G(!0)}(i.route.parent,r),function gre(n,e){return null!==n&&e&&e(new Une(n)),G(!0)}(i.route,r),function vre(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function rre(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qm(()=>G(o.guards.map(l=>{const c=Qd(o.node)??t,u=Cc(l,c);return to(function cre(n){return n&&Jd(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Js())})).pipe(Ec())));return G(s).pipe(Ec())}(n,i.path,t),function yre(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>qm(()=>{const o=Qd(e)??t,a=Cc(s,o);return to(function lre(n){return n&&Jd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Js())}));return G(i).pipe(Ec())}(n,i.route,t))),Js(i=>!0!==i,!0))}(r,s,n,e):G(a)),te(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ot(a=>{if(i.guardsResult=a.guardsResult,ca(a.guardsResult))throw pB(0,a.guardsResult);const l=new Nne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Yn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),VE(a=>{if(a.guards.canActivateChecks.length)return G(a).pipe(Ot(l=>{const c=new One(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Fi(l=>{let c=!1;return G(l).pipe(function jre(n,e){return Wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let s=0;return Mt(i).pipe(eo(o=>function Hre(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!NB(i)&&(s[Hd]=i.title),function $re(n,e,t,r){const i=function zre(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return G({});const s={};return Mt(i).pipe(Wt(o=>function Gre(n,e,t,r){const i=Qd(e)??r,s=Cc(n,i);return to(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Js(),Ot(a=>{s[o]=a}))),gE(1),function nne(n){return te(()=>n)}(s),ms(o=>PE(o)?Ii:_c(o)))}(s,n,e,r).pipe(te(o=>(n._resolvedData=o,n.data=dB(n,t).resolve,i&&NB(i)&&(n.data[Hd]=i.title),null)))}(o.route,r,n,e)),Ot(()=>s++),gE(1),Wt(o=>s===i.length?G(t):Ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ot({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ot(l=>{const c=new Pne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),VE(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ot(d=>{c.component=d}),te(()=>{})));for(const d of c.children)u.push(...l(d));return u};return pE(l(a.targetSnapshot.root)).pipe(Km(),Mr(1))}),VE(()=>this.afterPreactivation()),te(a=>{const l=function Gne(n,e,t){const r=Kd(n,e._root,t?t._root:void 0);return new cB(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Ot(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>te(r=>(new tre(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ot({next(){s=!0},complete(){s=!0}}),Ym(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ms(a=>{if(o=!0,_B(a)){gB(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new ng(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),gB(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||VB(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new oB(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(OE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),Dne(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ca(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function rie(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...eie}:!1===r?{...tie}:r,ca(t))return WV(this.currentUrlTree,t,i);const s=this.parseUrl(t);return WV(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ua(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new ng(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){em()},n.\u0275prov=L({token:n,factory:function(){return LB()},providedIn:"root"}),n})();function VB(n){return"imperative"!==n}class BB{}let oie=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(t=>t instanceof ua),eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=_m(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Mt(i).pipe(Il())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const s=i.pipe(Wt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Mt([s,this.loader.loadComponent(r)]).pipe(Il()):s})}}return n.\u0275fac=function(t){return new(t||n)(C(Yt),C(MC),C(Ws),C(BB),C(UE))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $E=new k("");let UB=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof IE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ua&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new aB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){em()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function zE(n){return[{provide:BE,multi:!0,useValue:n}]}function HB(){const n=it(pt);return e=>{const t=n.get(mc);if(e!==t.components[0])return;const r=n.get(Yt),i=n.get($B);1===n.get(GE)&&r.initialNavigation(),n.get(zB,null,q.Optional)?.setUpPreloading(),n.get($E,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const $B=new k("",{factory:()=>new xe}),GE=new k("",{providedIn:"root",factory:()=>1});const zB=new k("");function uie(n){return Ic(0,[{provide:zB,useExisting:oie},{provide:BB,useExisting:n}])}const GB=new k("ROUTER_FORROOT_GUARD"),die=[Fd,{provide:QV,useClass:yE},{provide:Yt,useFactory:LB},Yd,{provide:da,useFactory:function jB(n){return n.routerState.root},deps:[Yt]},UE];function hie(){return new vL("Router",Yt)}let WB=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[die,[],zE(t),{provide:GB,useFactory:gie,deps:[[Yt,new ft,new $l]]},{provide:hg,useValue:r||{}},r?.useHash?{provide:sa,useClass:SJ}:{provide:sa,useClass:zL},{provide:$E,useFactory:()=>{const n=it(Yt),e=it(Wee),t=it(hg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new UB(n,e,t)}},r?.preloadingStrategy?uie(r.preloadingStrategy).\u0275providers:[],{provide:vL,multi:!0,useFactory:hie},r?.initialNavigation?_ie(r):[],[{provide:qB,useFactory:HB},{provide:hL,multi:!0,useExisting:qB}]]}}static forChild(t){return{ngModule:n,providers:[zE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(C(GB,8))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[RE]}),n})();function gie(n){return"guarded"}function _ie(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:wm,multi:!0,useFactory:()=>{const e=it(Yt);return()=>{e.setUpLocationChangeListener()}}},{provide:GE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:GE,useValue:0},{provide:wm,multi:!0,deps:[pt],useFactory:e=>{const t=e.get(DJ,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Yt),a=e.get($B);(function i(s){e.get(Yt).events.pipe(Yn(a=>a instanceof ua||a instanceof ng||a instanceof oB),te(a=>a instanceof ua||a instanceof ng&&(0===a.code||1===a.code)&&null),Yn(a=>null!==a),Mr(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?G(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const qB=new k("");function KB(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){KB(s,r,i,o,a,"next",l)}function a(l){KB(s,r,i,o,a,"throw",l)}o(void 0)})}}class vie{constructor(){this.players=[],this.stack=[],this.playedCards=[],this.currentPlayer=0;for(let e=1;e<14;e++)this.stack.push("ace_"+e),this.stack.push("hearts_"+e),this.stack.push("diamonds_"+e),this.stack.push("clubs_"+e);!function bie(n){let t,e=n.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]]}(this.stack)}toJSON(){return{players:this.players,stack:this.stack,playedCards:this.playedCards,currentPlayer:this.currentPlayer}}}let WE;try{WE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WE=!1}let Dc,ur=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Gee(n){return n===uV}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(Od))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function QB(){if(Dc)return Dc;if("object"!=typeof document||!document)return Dc=new Set(YB),Dc;let n=document.createElement("input");return Dc=new Set(YB.filter(e=>(n.setAttribute("type",e),n.type===e))),Dc}let th,ha,qE;function gg(n){return function wie(){if(null==th&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>th=!0}))}finally{th=th||!1}return th}()?n:!!n.capture}function Cie(){if(null==ha){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ha=!1,ha;if("scrollBehavior"in document.documentElement.style)ha=!0;else{const n=Element.prototype.scrollTo;ha=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ha}function KE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function fa(n){return n.composedPath?n.composedPath()[0]:n.target}function YE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ZB(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function JB(n){return Yn((e,t)=>n<=t)}function kie(n,e){return n===e}function Tc(n){return vt((e,t)=>{ir(n).subscribe(ot(t,()=>t.complete(),eb)),!t.closed&&e.subscribe(t)})}function no(n){return null!=n&&"false"!=`${n}`}function yg(n){return Array.isArray(n)?n:[n]}function Pt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ys(n){return n instanceof qe?n.nativeElement:n}class Oie extends cn{constructor(e,t){super()}schedule(e,t=0){return this}}const vg={setInterval(n,e,...t){const{delegate:r}=vg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=vg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class bg extends Oie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return vg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;vg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,El(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const eU={now:()=>(eU.delegate||Date).now(),delegate:void 0};class nh{constructor(e,t=nh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nh.now=eU.now;class wg extends nh{constructor(e,t=nh.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Cg=new wg(bg),Pie=Cg;function tU(n,e=Cg){return vt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(ot(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}let nU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fie=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ys(t);return new He(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new xe,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C(nU))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lie=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Je,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=no(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Rie(n,e=0){return function Nie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(tU(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(y(Fie),y(qe),y(ae))},n.\u0275dir=z({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[nU]}),n})();const iU=new Set;let Sc,Vie=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Uie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bie(n){if(!iU.has(n))try{Sc||(Sc=document.createElement("style"),Sc.setAttribute("type","text/css"),document.head.appendChild(Sc)),Sc.sheet&&(Sc.sheet.insertRule(`@media ${n} {body{ }}`,0),iU.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ur))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jie=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new xe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return sU(yg(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=pE(sU(yg(t)).map(o=>this._registerQuery(o).observable));return s=Wm(s.pipe(Mr(1)),s.pipe(JB(1),tU(0))),s.pipe(te(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new He(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(oa(r),te(({matches:o})=>({query:t,matches:o})),Tc(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(C(Vie),C(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Eg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Gie(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function zie(n){try{return n.frameElement}catch{return null}}(function Jie(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===cU(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=cU(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Xie(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Zie(n){return!function qie(n){return function Yie(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Wie(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Kie(n){return function Qie(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||lU(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(C(ur))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cU(n){if(!lU(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ese{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Mr(1)).subscribe(e)}}let QE=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new ese(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(C(Eg),C(ae),C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function dU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tse=new k("cdk-input-modality-detector-options"),nse={ignoreKeys:[18,17,224,91,16]},Ac=gg({passive:!0,capture:!0});let rse=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Xr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fa(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uU(o)?"keyboard":"mouse"),this._mostRecentTarget=fa(o))},this._onTouchstart=o=>{dU(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fa(o))},this._options={...nse,...s},this.modalityDetected=this._modality.pipe(JB(1)),this.modalityChanged=this.modalityDetected.pipe(function Mie(n,e=js){return n=n??kie,vt((t,r)=>{let i,s=!0;t.subscribe(ot(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ac),i.addEventListener("mousedown",this._onMousedown,Ac),i.addEventListener("touchstart",this._onTouchstart,Ac)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ac),document.removeEventListener("mousedown",this._onMousedown,Ac),document.removeEventListener("touchstart",this._onTouchstart,Ac))}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ae),C(pe),C(tse,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sse=new k("cdk-focus-monitor-default-options"),Ig=gg({passive:!0,capture:!0});let Dg=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xe,this._rootNodeFocusAndBlurListener=a=>{for(let c=fa(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ys(t);if(!this._platform.isBrowser||1!==i.nodeType)return G(null);const s=function Iie(n){if(function Eie(){if(null==qE){const n=typeof document<"u"?document.head:null;qE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qE}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new xe,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ys(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ys(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=fa(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ig),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ig)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tc(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ig),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ig),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(ur),C(rse),C(pe,8),C(sse,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fU="cdk-high-contrast-black-on-white",pU="cdk-high-contrast-white-on-black",XE="cdk-high-contrast-active";let mU=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=it(jie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XE,fU,pU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(XE,fU):2===r&&t.add(XE,pU)}}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ose=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(C(mU))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[rU]}),n})();const ase=["addListener","removeListener"],lse=["addEventListener","removeEventListener"],cse=["on","off"];function Tg(n,e,t,r){if(Ae(t)&&(r=t,t=void 0),r)return Tg(n,e,t).pipe(fE(r));const[i,s]=function hse(n){return Ae(n.addEventListener)&&Ae(n.removeEventListener)}(n)?lse.map(o=>a=>n[o](e,a,t)):function use(n){return Ae(n.addListener)&&Ae(n.removeListener)}(n)?ase.map(gU(n,e)):function dse(n){return Ae(n.on)&&Ae(n.off)}(n)?cse.map(gU(n,e)):[];if(!i&&ab(n))return Wt(o=>Tg(o,e,t))(ir(n));if(!i)throw new TypeError("Invalid event target");return new He(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function gU(n,e){return t=>r=>n[t](e,r)}const rh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=rh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new cn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=rh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class pse extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class fse extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=rh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(rh.cancelAnimationFrame(t),e._scheduled=void 0)}});let ZE,gse=1;const Sg={};function _U(n){return n in Sg&&(delete Sg[n],!0)}const _se={setImmediate(n){const e=gse++;return Sg[e]=!0,ZE||(ZE=Promise.resolve()),ZE.then(()=>_U(e)&&n()),e},clearImmediate(n){_U(n)}},{setImmediate:yse,clearImmediate:vse}=_se,Ag={setImmediate(...n){const{delegate:e}=Ag;return(e?.setImmediate||yse)(...n)},clearImmediate(n){const{delegate:e}=Ag;return(e?.clearImmediate||vse)(n)},delegate:void 0};new class wse extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class bse extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ag.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Ag.clearImmediate(t),e._scheduled=void 0)}});function yU(n,e=Cg){return function Ese(n){return vt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(ot(t,c=>{r=!0,i=c,s||ir(n(c)).subscribe(s=ot(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Dse(n=0,e,t=Pie){let r=-1;return null!=e&&(XR(e)?t=e:r=e),new He(i=>{let s=function Ise(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const Tse=new k("cdk-dir-doc",{providedIn:"root",factory:function Sse(){return it(pe)}}),Ase=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xg=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Je,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function xse(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Ase.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(Tse,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})(),kse=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new He(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(yU(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Yn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ys(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(ur),C(pe,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vU=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new xe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yU(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ae),C(pe,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[ih,bU,ih,bU]}),n})();class JE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class eI extends JE{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class CU extends JE{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Nse extends JE{constructor(e){super(),this.element=e instanceof qe?e.nativeElement:e}}class tI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof eI?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof CU?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Nse?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ose extends tI{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||pt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let nI=(()=>{class n extends tI{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Je,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(y(Xo),y(qr),y(pe))},n.\u0275dir=z({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[be]}),n})(),Mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})();const EU=Cie();class Pse{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Pt(-this._previousScrollPosition.left),e.style.top=Pt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),EU&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EU&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Fse{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IU{enable(){}disable(){}attach(){}}function rI(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function DU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Lse{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();rI(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vse=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new IU,this.close=o=>new Fse(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Pse(this._viewportRuler,this._document),this.reposition=o=>new Lse(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(C(kse),C(vU),C(ae),C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TU{constructor(e){if(this.scrollStrategy=new IU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Bse{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let SU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Use=(()=>{class n extends SU{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(pe),C(ae,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jse=(()=>{class n extends SU{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=fa(s)},this._clickListener=s=>{const o=fa(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(pe),C(ur),C(ae,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kg=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YE()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),YE()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(C(pe),C(ur))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sh{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new xe,this._attachments=new xe,this._detachments=new xe,this._locationChanges=cn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new xe,this._outsidePointerEvents=new xe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Mr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Pt(this._config.width),e.height=Pt(this._config.height),e.minWidth=Pt(this._config.minWidth),e.minHeight=Pt(this._config.minHeight),e.maxWidth=Pt(this._config.maxWidth),e.maxHeight=Pt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=yg(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Tc(mp(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const AU="cdk-overlay-connected-position-bounding-box",Hse=/([A-Za-z%]+)$/;class $se{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe,this._resizeSubscription=cn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(AU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=MU(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=xU(this._overlayRef.getConfig().minHeight),a=xU(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=MU(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Bse(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Pt(r.height),i.top=Pt(r.top),i.bottom=Pt(r.bottom),i.width=Pt(r.width),i.left=Pt(r.left),i.right=Pt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Pt(s)),o&&(i.maxWidth=Pt(o))}this._lastBoundingBoxSize=r,pa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){pa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();pa(r,this._getExactOverlayY(t,e,u)),pa(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Pt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Pt(o.maxWidth):s&&(r.maxWidth="")),pa(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Pt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Pt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DU(e,r),isOriginOutsideView:rI(e,r),isOverlayClipped:DU(t,r),isOverlayOutsideView:rI(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof qe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function pa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function xU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Hse);return t&&"px"!==t?null:parseFloat(e)}return n||null}function MU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kU="cdk-global-overlay-wrapper";class zse{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(kU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(kU),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Gse=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new zse}flexibleConnectedTo(t){return new $se(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(vU),C(pe),C(ur),C(kg))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wse=0,xc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new TU(t);return o.direction=o.direction||this._directionality.value,new sh(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Wse++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(mc)),new Ose(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(Vse),C(kg),C(Xo),C(Gse),C(Use),C(pt),C(ae),C(pe),C(xg),C(Fd),C(jse),C(Qs,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Yse={provide:new k("cdk-connected-overlay-scroll-strategy"),deps:[xc],useFactory:function Kse(n){return()=>n.scrollStrategies.reposition()}};let RU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[xc,Yse],imports:[ih,Mg,wU,wU]}),n})();function Qse(n,e){}class Rg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let NU=(()=>{class n extends tI{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=KE(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=KE();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=KE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(QE),y(pe,8),y(Rg),y(Eg),y(ae),y(sh),y(Dg))},n.\u0275cmp=Tn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&hc(nI,7),2&t){let i;dn(i=hn())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&un("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[be],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Kt(0,Qse,0,0,"ng-template",0)},dependencies:[nI],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class iI{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new xe,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!ZB(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const OU=new k("DialogScrollStrategy"),Xse=new k("DialogData"),Zse=new k("DefaultDialogConfig"),eoe={provide:OU,deps:[xc],useFactory:function Jse(n){return()=>n.scrollStrategies.block()}};let toe=0,PU=(()=>{class n{constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe,this._afterOpenedAtThisLevel=new xe,this._ariaHiddenElements=new Map,this.afterAllClosed=qm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){(r={...this._defaultOptions||new Rg,...r}).id=r.id||"cdk-dialog-"+toe++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new iI(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){sI(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){sI(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),sI(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new TU({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:Rg,useValue:i},{provide:iI,useValue:r},{provide:sh,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=NU;const l=new eI(a,i.viewContainerRef,pt.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof Ni){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new CU(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new eI(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:Xse,useValue:t.data},{provide:iI,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(xg,null,q.Optional))&&a.push({provide:xg,useValue:{value:t.direction,change:G()}}),pt.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(C(xc),C(pt),C(Zse,8),C(n,12),C(kg),C(OU))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function sI(n,e){let t=n.length;for(;t--;)e(n[t])}let noe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[PU,eoe],imports:[RU,Mg,ose,Mg]}),n})();const ioe=new k("mat-sanity-checks",{providedIn:"root",factory:function roe(){return!0}});let kr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(mU),C(ioe,8),C(pe))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[ih,ih]}),n})();function soe(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=no(e)}}}function oI(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function ooe(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=no(e)}}}function aoe(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let VU=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class coe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const BU={enterDuration:225,exitDuration:150},aI=gg({passive:!0}),UU=["mousedown","touchstart"],jU=["mouseup","mouseleave","touchend","touchcancel"];class doe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ys(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...BU,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function hoe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new coe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>this._finishRippleTransition(m),I=()=>this._destroyRipple(m);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",I),g={onTransitionEnd:b,onTransitionCancel:I}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...BU,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ys(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(UU))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jU),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=uU(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,aI)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(UU.forEach(e=>{this._triggerElement.removeEventListener(e,this,aI)}),this._pointerUpEventsRegistered&&jU.forEach(e=>{this._triggerElement.removeEventListener(e,this,aI)}))}}const foe=new k("mat-ripple-global-options");let HU=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new doe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(ae),y(ur),y(foe,8),y(Qs,8))},n.\u0275dir=z({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Gn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),poe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[kr,kr]}),n})();class $U{}const vs="*";function zU(n,e){return{type:7,name:n,definitions:e,options:{}}}function lI(n,e=null){return{type:4,styles:e,timings:n}}function GU(n,e=null){return{type:3,steps:n,options:e}}function WU(n,e=null){return{type:2,steps:n,options:e}}function ro(n){return{type:6,styles:n,offset:null}}function cI(n,e,t){return{type:0,name:n,styles:e,options:t}}function uI(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function qU(n=null){return{type:9,options:n}}function KU(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function YU(n){Promise.resolve().then(n)}class ah{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){YU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class QU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?YU(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function goe(n,e){}const Mc={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},_oe={dialogContainer:zU("dialogContainer",[cI("void, exit",ro({opacity:0,transform:"scale(0.7)"})),cI("enter",ro({transform:"none"})),uI("* => enter",GU([lI("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ro({transform:"none",opacity:1})),KU("@*",qU(),{optional:!0})]),Mc),uI("* => void, * => exit",GU([lI("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ro({opacity:0})),KU("@*",qU(),{optional:!0})]),Mc)])};class Ng{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Mc.params.enterAnimationDuration,this.exitAnimationDuration=Mc.params.exitAnimationDuration}}let yoe=(()=>{class n extends NU{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new Je}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(QE),y(pe,8),y(Ng),y(Eg),y(ae),y(sh),y(Dg))},n.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],features:[be],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),voe=(()=>{class n extends yoe{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Mc.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Mc.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(QE),y(pe,8),y(Ng),y(Eg),y(ae),y(sh),y(gc),y(Dg))},n.\u0275cmp=Tn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&iC("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(Dd("id",r._config.id),un("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),aC("@dialogContainer",r._getAnimationState()))},features:[be],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Kt(0,goe,0,0,"ng-template",0)},dependencies:[nI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[_oe.dialogContainer]}}),n})();class Og{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new xe,this._beforeClosed=new xe,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Yn(i=>"opened"===i.state),Mr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Yn(i=>"closed"===i.state),Mr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),mp(this.backdropClick(),this.keydownEvents().pipe(Yn(i=>27===i.keyCode&&!this.disableClose&&!ZB(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),XU(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Yn(t=>"closing"===t.state),Mr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function XU(n,e,t){return n._closeInteractionType=e,n.close(t)}const boe=new k("MatDialogData"),woe=new k("mat-dialog-default-options"),ZU=new k("mat-dialog-scroll-strategy"),Eoe={provide:ZU,deps:[xc],useFactory:function Coe(n){return()=>n.scrollStrategies.block()}};let Ioe=0,Doe=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe,this._afterOpenedAtThisLevel=new xe,this._idPrefix="mat-dialog-",this.afterAllClosed=qm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=a,this._dialog=r.get(PU)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r={...this._defaultOptions||new Ng,...r}).id=r.id||`${this._idPrefix}${Ioe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ng,useValue:r},{provide:Rg,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){em()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Pg=(()=>{class n extends Doe{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,Og,voe,boe,c)}}return n.\u0275fac=function(t){return new(t||n)(C(xc),C(pt),C(Fd,8),C(woe,8),C(ZU),C(n,12),C(kg),C(Qs,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Toe=0,Soe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=JU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){XU(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(y(Og,8),y(qe),y(Pg))},n.\u0275dir=z({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&lt("click",function(s){return r._onButtonClick(s)}),2&t&&un("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[jn]}),n})(),Aoe=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+Toe++}ngOnInit(){this._dialogRef||(this._dialogRef=JU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(y(Og,8),y(qe),y(Pg))},n.\u0275dir=z({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&Dd("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),xoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Moe=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&Gn("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function JU(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let koe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[Pg,Eoe],imports:[noe,RU,Mg,kr,kr]}),n})();const Roe=["connectionContainer"],Noe=["inputContainer"],Ooe=["label"];function Poe(n,e){1&n&&(vd(0),Ce(1,"div",14),lr(2,"div",15)(3,"div",16)(4,"div",17),ke(),Ce(5,"div",18),lr(6,"div",15)(7,"div",16)(8,"div",17),ke(),bd())}function Foe(n,e){if(1&n){const t=dm();Ce(0,"div",19),lt("cdkObserveContent",function(){return Ap(t),xp(Ar().updateOutlineGap())}),xr(1,1),ke()}2&n&&je("cdkObserveContentDisabled","outline"!=Ar().appearance)}function Loe(n,e){if(1&n&&(vd(0),xr(1,2),Ce(2,"span"),Wn(3),ke(),bd()),2&n){const t=Ar(2);Xe(3),ta(t._control.placeholder)}}function Voe(n,e){1&n&&xr(0,3,["*ngSwitchCase","true"])}function Boe(n,e){1&n&&(Ce(0,"span",23),Wn(1," *"),ke())}function Uoe(n,e){if(1&n){const t=dm();Ce(0,"label",20,21),lt("cdkObserveContent",function(){return Ap(t),xp(Ar().updateOutlineGap())}),Kt(2,Loe,4,1,"ng-container",12),Kt(3,Voe,1,0,"ng-content",12),Kt(4,Boe,2,0,"span",22),ke()}if(2&n){const t=Ar();Gn("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),je("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),un("for",t._control.id)("aria-owns",t._control.id),Xe(2),je("ngSwitchCase",!1),Xe(1),je("ngSwitchCase",!0),Xe(1),je("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function joe(n,e){1&n&&(Ce(0,"div",24),xr(1,4),ke())}function Hoe(n,e){if(1&n&&(Ce(0,"div",25),lr(1,"span",26),ke()),2&n){const t=Ar();Xe(1),Gn("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function $oe(n,e){1&n&&(Ce(0,"div"),xr(1,5),ke()),2&n&&je("@transitionMessages",Ar()._subscriptAnimationState)}function zoe(n,e){if(1&n&&(Ce(0,"div",30),Wn(1),ke()),2&n){const t=Ar(2);je("id",t._hintLabelId),Xe(1),ta(t.hintLabel)}}function Goe(n,e){if(1&n&&(Ce(0,"div",27),Kt(1,zoe,2,2,"div",28),xr(2,6),lr(3,"div",29),xr(4,7),ke()),2&n){const t=Ar();je("@transitionMessages",t._subscriptAnimationState),Xe(1),je("ngIf",t.hintLabel)}}const Woe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],qoe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Koe=new k("MatError"),Yoe={transitionMessages:zU("transitionMessages",[cI("enter",ro({opacity:1,transform:"translateY(0%)"})),uI("void => enter",[ro({opacity:0,transform:"translateY(-5px)"}),lI("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n}),n})();const Qoe=new k("MatHint");let fI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["mat-label"]]}),n})(),Xoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["mat-placeholder"]]}),n})();const Zoe=new k("MatPrefix"),Joe=new k("MatSuffix");let e2=0;const tae=oI(class{constructor(n){this._elementRef=n}},"primary"),nae=new k("MAT_FORM_FIELD_DEFAULT_OPTIONS"),n2=new k("MatFormField");let rae=(()=>{class n extends tae{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xe,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+e2++,this._labelId="mat-form-field-label-"+e2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=no(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(oa(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Tc(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Tc(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),mp(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(oa(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(oa(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Tc(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Tg(this._label.nativeElement,"transitionend").pipe(Mr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=r.querySelectorAll(`${i}, ${s}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=r.querySelectorAll(i),c=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=r.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;o=Math.abs(f-d)-5,a=p>0?.75*p+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(gc),y(xg,8),y(nae,8),y(ur),y(ae),y(Qs,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Kr(i,hI,5),Kr(i,hI,7),Kr(i,fI,5),Kr(i,fI,7),Kr(i,Xoe,5),Kr(i,Koe,5),Kr(i,Qoe,5),Kr(i,Zoe,5),Kr(i,Joe,5)),2&t){let s;dn(s=hn())&&(r._controlNonStatic=s.first),dn(s=hn())&&(r._controlStatic=s.first),dn(s=hn())&&(r._labelChildNonStatic=s.first),dn(s=hn())&&(r._labelChildStatic=s.first),dn(s=hn())&&(r._placeholderChild=s.first),dn(s=hn())&&(r._errorChildren=s),dn(s=hn())&&(r._hintChildren=s),dn(s=hn())&&(r._prefixChildren=s),dn(s=hn())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(hc(Roe,7),hc(Noe,5),hc(Ooe,5)),2&t){let i;dn(i=hn())&&(r._connectionContainerRef=i.first),dn(i=hn())&&(r._inputContainerRef=i.first),dn(i=hn())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Gn("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ze([{provide:n2,useExisting:n}]),be],ngContentSelectors:qoe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Cd(Woe),Ce(0,"div",0)(1,"div",1,2),lt("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),Kt(3,Poe,9,0,"ng-container",3),Kt(4,Foe,2,1,"div",4),Ce(5,"div",5,6),xr(7),Ce(8,"span",7),Kt(9,Uoe,5,16,"label",8),ke()(),Kt(10,joe,2,0,"div",9),ke(),Kt(11,Hoe,2,4,"div",10),Ce(12,"div",11),Kt(13,$oe,2,1,"div",12),Kt(14,Goe,5,2,"div",13),ke()()),2&t&&(Xe(3),je("ngIf","outline"==r.appearance),Xe(1),je("ngIf",r._prefixChildren.length),Xe(5),je("ngIf",r._hasFloatingLabel()),Xe(1),je("ngIf",r._suffixChildren.length),Xe(1),je("ngIf","outline"!=r.appearance),Xe(1),je("ngSwitch",r._getDisplayedMessages()),Xe(1),je("ngSwitchCase","error"),Xe(1),je("ngSwitchCase","hint"))},dependencies:[eE,Vm,sV,Lie],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Yoe.transitionMessages]},changeDetection:0}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[cV,kr,rU,kr]}),n})();const iae=["mat-button",""],sae=["*"],aae=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],lae=oI(soe(ooe(class{constructor(n){this._elementRef=n}})));let r2=(()=>{class n extends lae{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of aae)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(Dg),y(Qs,8))},n.\u0275cmp=Tn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&hc(HU,5),2&t){let i;dn(i=hn())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(un("disabled",r.disabled||null),Gn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[be],attrs:iae,ngContentSelectors:sae,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Cd(),Ce(0,"span",0),xr(1),ke(),lr(2,"span",1)(3,"span",2)),2&t&&(Xe(2),Gn("mat-button-ripple-round",r.isRoundButton||r.isIconButton),je("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[HU],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),cae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[poe,kr,kr]}),n})();const s2=gg({passive:!0});let uae=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ii;const r=ys(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new xe,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,s2),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,s2)}}),s}stopMonitoring(t){const r=ys(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})();function a2(...n){const e=ZR(n),{args:t,keys:r}=PV(n),i=new He(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ir(t[u]).subscribe(ot(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?FV(r,a):a),s.complete())}))}});return e?i.pipe(fE(e)):i}let l2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y(os),y(qe))},n.\u0275dir=z({type:n}),n})(),ma=(()=>{class n extends l2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function xn(n){return Hs(()=>{const e=n.prototype.constructor,t=e[ns]||Vb(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ns]||Vb(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=z({type:n,features:[be]}),n})();const Vi=new k("NgValueAccessor"),hae={provide:Vi,useExisting:Ye(()=>Fg),multi:!0},pae=new k("CompositionEventMode");let Fg=(()=>{class n extends l2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fae(){const n=Pi()?Pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y(os),y(qe),y(pae,8))},n.\u0275dir=z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&lt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ze([hae]),be]}),n})();function io(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function u2(n){return null!=n&&"number"==typeof n.length}const Nn=new k("NgValidators"),so=new k("NgAsyncValidators"),gae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _ae{static min(e){return function d2(n){return e=>{if(io(e.value)||io(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function h2(n){return e=>{if(io(e.value)||io(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function f2(n){return io(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function p2(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function m2(n){return io(n.value)||gae.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function g2(n){return e=>io(e.value)||!u2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function _2(n){return e=>u2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function y2(n){if(!n)return Lg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(io(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return I2(e)}static composeAsync(e){return D2(e)}}function Lg(n){return null}function v2(n){return null!=n}function b2(n){return wd(n)?Mt(n):n}function w2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function C2(n,e){return e.map(t=>t(n))}function E2(n){return n.map(e=>function yae(n){return!n.validate}(e)?e:t=>e.validate(t))}function I2(n){if(!n)return null;const e=n.filter(v2);return 0==e.length?null:function(t){return w2(C2(t,e))}}function mI(n){return null!=n?I2(E2(n)):null}function D2(n){if(!n)return null;const e=n.filter(v2);return 0==e.length?null:function(t){return a2(C2(t,e).map(b2)).pipe(te(w2))}}function gI(n){return null!=n?D2(E2(n)):null}function T2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function S2(n){return n._rawValidators}function A2(n){return n._rawAsyncValidators}function _I(n){return n?Array.isArray(n)?n:[n]:[]}function Vg(n,e){return Array.isArray(n)?n.includes(e):n===e}function x2(n,e){const t=_I(e);return _I(n).forEach(i=>{Vg(t,i)||t.push(i)}),t}function M2(n,e){return _I(e).filter(t=>!Vg(n,t))}class k2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qn extends k2{get formDirective(){return null}get path(){return null}}class bs extends k2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let N2=(()=>{class n extends class R2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(bs,2))},n.\u0275dir=z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[be]}),n})();const lh="VALID",Ug="INVALID",kc="PENDING",ch="DISABLED";function wI(n){return(jg(n)?n.validators:n)||null}function P2(n){return Array.isArray(n)?mI(n):n||null}function CI(n,e){return(jg(e)?e.asyncValidators:n)||null}function F2(n){return Array.isArray(n)?gI(n):n||null}function jg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class B2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=P2(this._rawValidators),this._composedAsyncValidatorFn=F2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lh}get invalid(){return this.status===Ug}get pending(){return this.status==kc}get disabled(){return this.status===ch}get enabled(){return this.status!==ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=P2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=F2(e)}addValidators(e){this.setValidators(x2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M2(e,this._rawAsyncValidators))}hasValidator(e){return Vg(this._rawValidators,e)}hasAsyncValidator(e){return Vg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=kc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ch,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lh||this.status===kc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ch:lh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=kc,this._hasOwnPendingAsyncValidator=!0;const t=b2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?ch:this.errors?Ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kc)?kc:this._anyControlsHaveStatus(Ug)?Ug:lh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class EI extends B2{constructor(e,t,r){super(wI(t),CI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function V2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function L2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function uh(n,e){II(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Aae(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U2(n,e)})}(n,e),function Mae(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xae(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Sae(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $g(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function II(n,e){const t=S2(n);null!==e.validator?n.setValidators(T2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=A2(n);null!==e.asyncValidator?n.setAsyncValidators(T2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zg(e._rawValidators,i),zg(e._rawAsyncValidators,i)}function Gg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=S2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=A2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return zg(e._rawValidators,r),zg(e._rawAsyncValidators,r),t}function U2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function j2(n,e){II(n,e)}function $2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Pae={provide:Qn,useExisting:Ye(()=>Wg)},dh=(()=>Promise.resolve())();let Wg=(()=>{class n extends Qn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new EI({},mI(t),gI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),uh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dh.then(()=>{const r=this._findContainer(t.path),i=new EI({});j2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,$2(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(y(Nn,10),y(so,10))},n.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([Pae]),be]}),n})();function z2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function G2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const W2=class extends B2{constructor(e=null,t,r){super(wI(t),CI(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=G2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){G2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Vae={provide:bs,useExisting:Ye(()=>SI)},Y2=(()=>Promise.resolve())();let SI=(()=>{class n extends bs{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new W2,this._registered=!1,this.update=new Je,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function TI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fg?t=s:function Nae(n){return Object.getPrototypeOf(n.constructor)===ma}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Y2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function hs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);Y2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Hg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(y(Qn,9),y(Nn,10),y(so,10),y(Vi,10),y(gc,8))},n.\u0275dir=z({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([Vae]),be,jn]}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({}),n})();const Gae={provide:Qn,useExisting:Ye(()=>qg)};let qg=(()=>{class n extends Qn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return uh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$g(t.control||null,t,!1),function Oae(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,$2(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($g(r||null,t),(n=>n instanceof W2)(i)&&(uh(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);j2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function kae(n,e){return Gg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){II(this.form,this),this._oldForm&&Gg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(y(Nn,10),y(so,10))},n.\u0275dir=z({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([Gae]),be,jn]}),n})(),cle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[X2]}),n})(),ule=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[cle]}),n})();const hle=new k("MAT_INPUT_VALUE_ACCESSOR"),fle=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ple=0;const mle=aoe(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new xe}});let gle=(()=>{class n extends mle{constructor(t,r,i,s,o,a,l,c,u,d){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+ple++,this.focused=!1,this.stateChanges=new xe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>QB().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=no(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_ae.required)??!1}set required(t){this._required=no(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&QB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=no(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){fle.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(ur),y(bs,10),y(Wg,8),y(qg,8),y(VU),y(hle,10),y(uae),y(ae),y(n2,8))},n.\u0275dir=z({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&lt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(Dd("disabled",r.disabled)("required",r.required),un("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Gn("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ze([{provide:hI,useExisting:n}]),be,jn]}),n})(),_le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[VU],imports:[o2,pI,kr,o2,pI]}),n})(),yle=(()=>{class n{constructor(t){this.dialogRef=t,this.name=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(y(Og))},n.\u0275cmp=Tn({type:n,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,r){1&t&&(Ce(0,"h1",0),Wn(1,"Add new Player"),ke(),Ce(2,"div",1)(3,"p"),Wn(4,"Please enter the name of a player"),ke(),Ce(5,"mat-form-field")(6,"mat-label"),Wn(7,"Name"),ke(),Ce(8,"input",2),lt("ngModelChange",function(s){return r.name=s}),ke()()(),Ce(9,"div",3)(10,"button",4),lt("click",function(){return r.onNoClick()}),Wn(11,"No Thanks"),ke(),Ce(12,"button",5),Wn(13,"Ok"),ke()()),2&t&&(Xe(8),je("ngModel",r.name),Xe(4),je("disabled",0==r.name.length)("mat-dialog-close",r.name))},dependencies:[rae,fI,r2,Soe,Aoe,xoe,Moe,gle,Fg,N2,SI]}),n})();const P=function(n,e){if(!n)throw Rc(e)},Rc=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},mj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gj=function(n){const e=mj(n);return Kg.encodeByteArray(e,!0)},Yg=function(n){return gj(n).replace(/\./g,"")},OI=function(n){try{return Kg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ble(n){return _j(void 0,n)}function _j(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!wle(t)||(n[t]=_j(n[t],e[t]));return n}function wle(n){return"__proto__"!==n}class Nc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Xg(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function PI(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yj(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _a(){return"object"==typeof indexedDB}function hh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function FI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bi.prototype.create)}}class Bi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Tle(n,e){return n.replace(Sle,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Jr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Sle=/\{\$([^}]+)}/g;function fh(n){return JSON.parse(n)}function pn(n){return JSON.stringify(n)}const Zg=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=fh(OI(s[0])||""),t=fh(OI(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function Cs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Oc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function LI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jg(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function e_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(vj(s)&&vj(o)){if(!e_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vj(n){return null!==n&&"object"==typeof n}function ph(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Mle{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Rle{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Nle(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=VI),void 0===i.error&&(i.error=VI),void 0===i.complete&&(i.complete=VI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VI(){}const n_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function BI(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Rr(n){return n&&n._delegate?n._delegate:n}class mn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ya="[DEFAULT]";class Ule{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Nc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Hle(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ya?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $le{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ule(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const UI=[];var Ee=(()=>{return(n=Ee||(Ee={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ee;var n})();const bj={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},zle=Ee.INFO,Gle={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Wle=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Gle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class va{constructor(e){this.name=e,this._logLevel=zle,this._logHandler=Wle,this._userLogHandler=null,UI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?bj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}let wj,Cj;const Ej=new WeakMap,jI=new WeakMap,Ij=new WeakMap,HI=new WeakMap,$I=new WeakMap;let zI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return jI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ij.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ece(n){return"function"==typeof n?function Jle(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yle(){return Cj||(Cj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(GI(this),e),Es(Ej.get(this))}:function(...e){return Es(n.apply(GI(this),e))}:function(e,...t){const r=n.call(GI(this),e,...t);return Ij.set(r,e.sort?e.sort():[e]),Es(r)}}(n):(n instanceof IDBTransaction&&function Xle(n){if(jI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});jI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Kle(){return wj||(wj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,zI):n)}function Es(n){if(n instanceof IDBRequest)return function Qle(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Es(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Ej.set(t,n)}).catch(()=>{}),$I.set(e,n),e}(n);if(HI.has(n))return HI.get(n);const e=ece(n);return e!==n&&(HI.set(n,e),$I.set(e,n)),e}const GI=n=>$I.get(n);function r_(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function WI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Es(t).then(()=>{})}const tce=["get","getKey","getAll","getAllKeys","count"],nce=["put","add","delete","clear"],qI=new Map;function Dj(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(qI.get(e))return qI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tce.includes(t))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return qI.set(e,s),s}!function Zle(n){zI=n(zI)}(n=>({...n,get:(e,t,r)=>Dj(e,t)||n.get(e,t,r),has:(e,t)=>!!Dj(e,t)||n.has(e,t)}));class rce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ice(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const KI="@firebase/app",ba=new va("@firebase/app"),YI="[DEFAULT]",Mce={[KI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wa=new Map,i_=new Map;function kce(n,e){try{n.container.addComponent(e)}catch(t){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function On(n){const e=n.name;if(i_.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,n);for(const t of wa.values())kce(t,n);return!0}function Ca(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const oo=new Bi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nce{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}const Ea="9.9.4";function Oce(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:YI,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw oo.create("bad-app-name",{appName:String(r)});const i=wa.get(r);if(i){if(e_(n,i.options)&&e_(t,i.config))return i;throw oo.create("duplicate-app",{appName:r})}const s=new $le(r);for(const a of i_.values())s.addComponent(a);const o=new Nce(n,t,s);return wa.set(r,o),o}function s_(n=YI){const e=wa.get(n);if(!e)throw oo.create("no-app",{appName:n});return e}function Sj(){return Array.from(wa.values())}function st(n,e,t){var r;let i=null!==(r=Mce[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ba.warn(a.join(" "))}On(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mh="firebase-heartbeat-store";let XI=null;function Aj(){return XI||(XI=r_("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(mh)}}).catch(n=>{throw oo.create("idb-open",{originalErrorMessage:n.message})})),XI}function ZI(){return(ZI=_(function*(n){var e;try{return(yield Aj()).transaction(mh).objectStore(mh).get(Mj(n))}catch(t){if(t instanceof Jr)ba.warn(t.message);else{const r=oo.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ba.warn(r.message)}}})).apply(this,arguments)}function xj(n,e){return JI.apply(this,arguments)}function JI(){return(JI=_(function*(n,e){var t;try{const i=(yield Aj()).transaction(mh,"readwrite");return yield i.objectStore(mh).put(e,Mj(n)),i.done}catch(r){if(r instanceof Jr)ba.warn(r.message);else{const i=oo.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});ba.warn(i.message)}}})).apply(this,arguments)}function Mj(n){return`${n.name}!${n.options.appId}`}class Uce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hce(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kj();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=kj(),{heartbeatsToSend:r,unsentEntries:i}=function jce(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rj(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Rj(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function kj(){return(new Date).toISOString().substring(0,10)}class Hce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!_a()&&hh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Lce(n){return ZI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return xj(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return xj(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Rj(n){return Yg(JSON.stringify({version:2,heartbeats:n})).length}!function $ce(n){On(new mn("platform-logger",e=>new rce(e),"PRIVATE")),On(new mn("heartbeat",e=>new Uce(e),"PRIVATE")),st(KI,"0.7.32",n),st(KI,"0.7.32","esm2017"),st("fire-js","")}(""),st("firebase","9.9.4","app");const Nj="@firebase/installations",eD="0.5.12",Pj=`w:${eD}`,Fj="FIS_v2",Is=new Bi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lj(n){return n instanceof Jr&&n.code.includes("request-failed")}function tD({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Vj(n){return{token:n.token,requestStatus:2,expiresIn:Xce(n.expiresIn),creationTime:Date.now()}}function nD(n,e){return rD.apply(this,arguments)}function rD(){return(rD=_(function*(n,e){const r=(yield e.json()).error;return Is.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Bj({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Uj(n,{refreshToken:e}){const t=Bj(n);return t.append("Authorization",function Zce(n){return`${Fj} ${n}`}(e)),t}function iD(n){return sD.apply(this,arguments)}function sD(){return(sD=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Xce(n){return Number(n.replace("s","000"))}function Jce(n,e){return oD.apply(this,arguments)}function oD(){return(oD=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=tD(n),i=Bj(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Fj,appId:n.appId,sdkVersion:Pj})},l=yield iD(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:Vj(c.authToken)}}throw yield nD("Create Installation",l)})).apply(this,arguments)}function jj(n){return new Promise(e=>{setTimeout(e,n)})}const tue=/^[cdef][\w-]{21}$/;function nue(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function rue(n){return function eue(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return tue.test(t)?t:""}catch{return""}}function Pc(n){return`${n.appName}!${n.appId}`}const Fc=new Map;function Hj(n,e){const t=Pc(n);$j(t,e),function oue(n,e){const t=function zj(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=n=>{$j(n.data.key,n.data.fid)}),Ia}();t&&t.postMessage({key:n,fid:e}),function Gj(){0===Fc.size&&Ia&&(Ia.close(),Ia=null)}()}(t,e)}function $j(n,e){const t=Fc.get(n);if(t)for(const r of t)r(e)}let Ia=null;const Da="firebase-installations-store";let lD=null;function cD(){return lD||(lD=r_("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Da)}})),lD}function o_(n,e){return uD.apply(this,arguments)}function uD(){return(uD=_(function*(n,e){const t=Pc(n),i=(yield cD()).transaction(Da,"readwrite"),s=i.objectStore(Da),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&Hj(n,e.fid),e})).apply(this,arguments)}function dD(n){return hD.apply(this,arguments)}function hD(){return(hD=_(function*(n){const e=Pc(n),r=(yield cD()).transaction(Da,"readwrite");yield r.objectStore(Da).delete(e),yield r.done})).apply(this,arguments)}function gh(n,e){return fD.apply(this,arguments)}function fD(){return(fD=_(function*(n,e){const t=Pc(n),i=(yield cD()).transaction(Da,"readwrite"),s=i.objectStore(Da),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&Hj(n,a.fid),a})).apply(this,arguments)}function pD(n){return mD.apply(this,arguments)}function mD(){return(mD=_(function*(n){let e;const t=yield gh(n.appConfig,r=>{const i=cue(r),s=uue(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function cue(n){return qj(n||{fid:nue(),registrationStatus:0})}function uue(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Is.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function due(n,e){return gD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:hue(n)}:{installationEntry:e}}function gD(){return(gD=_(function*(n,e){try{const t=yield Jce(n,e);return o_(n.appConfig,t)}catch(t){throw Lj(t)&&409===t.customData.serverCode?yield dD(n.appConfig):yield o_(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function hue(n){return _D.apply(this,arguments)}function _D(){return(_D=_(function*(n){let e=yield Wj(n.appConfig);for(;1===e.registrationStatus;)yield jj(100),e=yield Wj(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield pD(n);return r||t}return e})).apply(this,arguments)}function Wj(n){return gh(n,e=>{if(!e)throw Is.create("installation-not-found");return qj(e)})}function qj(n){return function fue(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function pue(n,e){return yD.apply(this,arguments)}function yD(){return(yD=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=mue(n,t),i=Uj(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Pj,appId:n.appId}})},l=yield iD(()=>fetch(r,a));if(l.ok)return Vj(yield l.json());throw yield nD("Generate Auth Token",l)})).apply(this,arguments)}function mue(n,{fid:e}){return`${tD(n)}/${e}/authTokens:generate`}function vD(n){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(n,e=!1){let t;const r=yield gh(n.appConfig,s=>{if(!Yj(s))throw Is.create("not-registered");const o=s.authToken;if(!e&&yue(o))return s;if(1===o.requestStatus)return t=gue(n,e),s;{if(!navigator.onLine)throw Is.create("app-offline");const a=bue(s);return t=_ue(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function gue(n,e){return wD.apply(this,arguments)}function wD(){return(wD=_(function*(n,e){let t=yield Kj(n.appConfig);for(;1===t.authToken.requestStatus;)yield jj(100),t=yield Kj(n.appConfig);const r=t.authToken;return 0===r.requestStatus?vD(n,e):r})).apply(this,arguments)}function Kj(n){return gh(n,e=>{if(!Yj(e))throw Is.create("not-registered");return function wue(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _ue(n,e){return CD.apply(this,arguments)}function CD(){return(CD=_(function*(n,e){try{const t=yield pue(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield o_(n.appConfig,r),t}catch(t){if(!Lj(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield o_(n.appConfig,r)}else yield dD(n.appConfig);throw t}})).apply(this,arguments)}function Yj(n){return void 0!==n&&2===n.registrationStatus}function yue(n){return 2===n.requestStatus&&!function vue(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function bue(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ED(){return(ED=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield pD(e);return r?r.catch(console.error):vD(e).catch(console.error),t.fid})).apply(this,arguments)}function ID(){return(ID=_(function*(n,e=!1){const t=n;return yield Iue(t),(yield vD(t,e)).token})).apply(this,arguments)}function Iue(n){return DD.apply(this,arguments)}function DD(){return(DD=_(function*(n){const{registrationPromise:e}=yield pD(n);e&&(yield e)})).apply(this,arguments)}function AD(n){return Is.create("missing-app-config-values",{valueName:n})}const Qj="installations",xue=n=>{const e=n.getProvider("app").getImmediate(),t=function Sue(n){if(!n||!n.options)throw AD("App Configuration");if(!n.name)throw AD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw AD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ca(e,"heartbeat"),_delete:()=>Promise.resolve()}},Mue=n=>{const t=Ca(n.getProvider("app").getImmediate(),Qj).getImmediate();return{getId:()=>function Cue(n){return ED.apply(this,arguments)}(t),getToken:i=>function Eue(n){return ID.apply(this,arguments)}(t,i)}};(function kue(){On(new mn(Qj,xue,"PUBLIC")),On(new mn("installations-internal",Mue,"PRIVATE"))})(),st(Nj,eD),st(Nj,eD,"esm2017");const xD="@firebase/remote-config",dr=new Bi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hue{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function $ue(n=navigator){return n.languages&&n.languages[0]||n.language}class zue{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return _(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:$ue()},h={method:"POST",headers:u,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((T,R)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",R(U)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(T){let R="fetch-client-network";throw"AbortError"===(null===(r=T)||void 0===r?void 0:r.name)&&(R="fetch-timeout"),dr.create(R,{originalErrorMessage:null===(i=T)||void 0===i?void 0:i.message})}let g=m.status;const b=m.headers.get("ETag")||void 0;let I,v;if(200===m.status){let T;try{T=yield m.json()}catch(R){throw dr.create("fetch-client-parse",{originalErrorMessage:null===(s=R)||void 0===s?void 0:s.message})}I=T.entries,v=T.state}if("INSTANCE_STATE_UNSPECIFIED"===v?g=500:"NO_CHANGE"===v?g=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(I={}),304!==g&&200!==g)throw dr.create("fetch-status",{httpStatus:g});return{status:g,eTag:b,config:I}})()}}class que{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function Gue(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Wue(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+BI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Que{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function l_(n,e){var t;const r=n.target.error||void 0;return dr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Ta="app_namespace_store";class ede{constructor(e,t,r,i=function Jue(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(l_(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ta,{keyPath:"compositeKey"})}}catch(r){e(dr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ta],"readonly").objectStore(Ta),c=t.createCompositeKey(e);try{const u=l.get(c);u.onerror=d=>{s(l_(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){s(dr.create("storage-get",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Ta],"readwrite").objectStore(Ta),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{o(l_(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(dr.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ta],"readwrite").objectStore(Ta),c=t.createCompositeKey(e);try{const u=l.delete(c);u.onerror=d=>{s(l_(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(dr.create("storage-delete",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class tde{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function rde(){return OD.apply(this,arguments)}function OD(){return(OD=_(function*(){if(!_a())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}!function nde(){On(new mn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dr.create("registration-window");if(!_a())throw dr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dr.create("registration-project-id");if(!o)throw dr.create("registration-api-key");if(!a)throw dr.create("registration-app-id");const l=new ede(a,r.name,t=t||"firebase"),c=new tde(l),u=new va(xD);u.logLevel=Ee.ERROR;const d=new zue(i,Ea,t,s,o,a),h=new que(d,l),f=new Hue(h,l,c,u),p=new Que(r,f,c,l,u);return function Bue(n){const e=Rr(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),st(xD,"0.3.11"),st(xD,"0.3.11","esm2017")}();const ide="/firebase-messaging-sw.js",sde="/firebase-cloud-messaging-push-scope",eH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tH="google.c.a.c_id",ade="google.c.a.c_l",lde="google.c.a.ts",cde="google.c.a.e";var Lc=(()=>{return(n=Lc||(Lc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Lc;var n})();function Ds(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ude(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const PD="fcm_token_details_db",nH="fcm_token_object_Store";function hde(n){return FD.apply(this,arguments)}function FD(){return FD=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(PD))return null;let e=null;return(yield r_(PD,5,{upgrade:(r=_(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(nH))return;const c=a.objectStore(nH),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ds(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ds(d.auth),p256dh:Ds(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ds(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ds(d.auth),p256dh:Ds(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ds(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield WI(PD),yield WI("fcm_vapid_details_db"),yield WI("undefined"),fde(e)?e:null;var r}),FD.apply(this,arguments)}function fde(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Sa="firebase-messaging-store";let LD=null;function VD(){return LD||(LD=r_("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Sa)}})),LD}function rH(n){return BD.apply(this,arguments)}function BD(){return(BD=_(function*(n){const e=$D(n),r=yield(yield VD()).transaction(Sa).objectStore(Sa).get(e);if(r)return r;{const i=yield hde(n.appConfig.senderId);if(i)return yield UD(n,i),i}})).apply(this,arguments)}function UD(n,e){return jD.apply(this,arguments)}function jD(){return(jD=_(function*(n,e){const t=$D(n),i=(yield VD()).transaction(Sa,"readwrite");return yield i.objectStore(Sa).put(e,t),yield i.done,e})).apply(this,arguments)}function gde(n){return HD.apply(this,arguments)}function HD(){return(HD=_(function*(n){const e=$D(n),r=(yield VD()).transaction(Sa,"readwrite");yield r.objectStore(Sa).delete(e),yield r.done})).apply(this,arguments)}function $D({appConfig:n}){return n.appId}const gn=new Bi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yde(n,e){return zD.apply(this,arguments)}function zD(){return(zD=_(function*(n,e){var t;const r=yield KD(n),i=sH(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(qD(n.appConfig),s)).json()}catch(a){throw gn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw gn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw gn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function vde(n,e){return GD.apply(this,arguments)}function GD(){return(GD=_(function*(n,e){var t;const r=yield KD(n),i=sH(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${qD(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw gn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw gn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw gn.create("token-update-no-token");return o.token})).apply(this,arguments)}function iH(n,e){return WD.apply(this,arguments)}function WD(){return(WD=_(function*(n,e){var t;const i={method:"DELETE",headers:yield KD(n)};try{const o=yield(yield fetch(`${qD(n.appConfig)}/${e}`,i)).json();if(o.error)throw gn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw gn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function qD({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function KD(n){return YD.apply(this,arguments)}function YD(){return(YD=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function sH({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==eH&&(i.web.applicationPubKey=r),i}function wde(n){return QD.apply(this,arguments)}function QD(){return(QD=_(function*(n){const e=yield Ede(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ds(e.getKey("auth")),p256dh:Ds(e.getKey("p256dh"))},r=yield rH(n.firebaseDependencies);if(r){if(Ide(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Cde(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield iH(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return aH(n.firebaseDependencies,t)}return aH(n.firebaseDependencies,t)})).apply(this,arguments)}function oH(n){return XD.apply(this,arguments)}function XD(){return(XD=_(function*(n){const e=yield rH(n.firebaseDependencies);e&&(yield iH(n.firebaseDependencies,e.token),yield gde(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Cde(n,e){return ZD.apply(this,arguments)}function ZD(){return(ZD=_(function*(n,e){try{const t=yield vde(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield UD(n.firebaseDependencies,r),t}catch(t){throw yield oH(n),t}})).apply(this,arguments)}function aH(n,e){return JD.apply(this,arguments)}function JD(){return(JD=_(function*(n,e){const r={token:yield yde(n,e),createTime:Date.now(),subscriptionOptions:e};return yield UD(n,r),r.token})).apply(this,arguments)}function Ede(n,e){return e0.apply(this,arguments)}function e0(){return(e0=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ude(e)})})).apply(this,arguments)}function Ide(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function lH(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Dde(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function Tde(n,e){!e.data||(n.data=e.data)}(e,n),function Sde(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Ade(n){return"object"==typeof n&&!!n&&tH in n}function cH(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function t0(n){return gn.create("missing-app-config-values",{valueName:n})}cH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mde{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function xde(n){if(!n||!n.options)throw t0("App Configuration Object");if(!n.name)throw t0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw t0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uH(n){return n0.apply(this,arguments)}function n0(){return(n0=_(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(ide,{scope:sde}),n.swRegistration.update().catch(()=>{})}catch(t){throw gn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function kde(n,e){return r0.apply(this,arguments)}function r0(){return(r0=_(function*(n,e){if(!e&&!n.swRegistration&&(yield uH(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Rde(n,e){return s0.apply(this,arguments)}function s0(){return(s0=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=eH)})).apply(this,arguments)}function o0(){return(o0=_(function*(n,e){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield Rde(n,e?.vapidKey),yield kde(n,e?.serviceWorkerRegistration),wde(n)})).apply(this,arguments)}function Nde(n,e,t){return a0.apply(this,arguments)}function a0(){return(a0=_(function*(n,e,t){const r=Ode(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[tH],message_name:t[ade],message_time:t[lde],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ode(n){switch(n){case Lc.NOTIFICATION_CLICKED:return"notification_open";case Lc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function l0(){return(l0=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Lc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(lH(t)):n.onMessageHandler.next(lH(t)));const r=t.data;Ade(r)&&"1"===r[cde]&&(yield Nde(n,t.messageType,r))})).apply(this,arguments)}const hH="@firebase/messaging",Fde=n=>{const e=new Mde(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Pde(n,e){return l0.apply(this,arguments)}(e,t)),e},Lde=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function dH(n,e){return o0.apply(this,arguments)}(e,r)}};function pH(){return c0.apply(this,arguments)}function c0(){return(c0=_(function*(){try{yield hh()}catch{return!1}return typeof window<"u"&&_a()&&FI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vde(){On(new mn("messaging",Fde,"PUBLIC")),On(new mn("messaging-internal",Lde,"PRIVATE")),st(hH,"0.9.16"),st(hH,"0.9.16","esm2017")}();const c_="analytics",jde="firebase_id",zde="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mH="https://www.googletagmanager.com/gtag/js",_n=new va("@firebase/analytics");function gH(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Gde(n,e){const t=document.createElement("script");t.src=`${mH}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function qde(n,e,t,r,i,s){return h0.apply(this,arguments)}function h0(){return(h0=_(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield gH(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){_n.error(a)}n("config",i,s)})).apply(this,arguments)}function Kde(n,e,t,r,i){return f0.apply(this,arguments)}function f0(){return(f0=_(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield gH(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){_n.error(s)}})).apply(this,arguments)}function Xde(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(mH))return e;return null}const Nr=new Bi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_H=new class the{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function nhe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function rhe(n){return p0.apply(this,arguments)}function p0(){return(p0=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:nhe(r)},s=zde.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ihe(n){return m0.apply(this,arguments)}function m0(){return(m0=_(function*(n,e=_H,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Nr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ahe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:6e4),yH({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function yH(n,e,t){return g0.apply(this,arguments)}function g0(){return(g0=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=_H){var s,o;const{appId:a,measurementId:l}=n;try{yield she(r,e)}catch(c){if(l)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw c}try{const c=yield rhe(n);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!ohe(u)){if(i.deleteThrottleMetadata(a),l)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?BI(t,i.intervalMillis,30):BI(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),_n.debug(`Calling attemptFetch again in ${d} millis`),yH(n,h,r,i)}})).apply(this,arguments)}function she(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ohe(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class ahe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _0,E0;function y0(){return(y0=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function vH(n){E0=n}function bH(n){_0=n}function fhe(){return I0.apply(this,arguments)}function I0(){return(I0=_(function*(){var n;if(!_a())return _n.warn(Nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hh()}catch(e){return _n.warn(Nr.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function D0(){return(D0=_(function*(n,e,t,r,i,s,o){var a;const l=ihe(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_n.error(f)),e.push(l);const c=fhe().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Xde()||Gde(s,u.measurementId),E0&&(i("consent","default",E0),vH(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[jde]=d),i("config",u.measurementId,h),_0&&(i("set",_0),bH(void 0)),u.measurementId})).apply(this,arguments)}class mhe{constructor(e){this.app=e}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},wH=[];const CH={};let IH,Ss,u_="dataLayer",T0=!1;function _he(n,e,t){!function ghe(){const n=[];if(Xg()&&n.push("This is a browser extension environment."),FI()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Nr.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}();const r=n.options.appId;if(!r)throw Nr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Nr.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[r])throw Nr.create("already-exists",{id:r});if(!T0){!function Wde(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(u_);const{wrappedGtag:s,gtagCore:o}=function Qde(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Yde(n,e,t,r){function s(){return(s=_(function*(o,a,l){try{"event"===o?yield Kde(n,e,t,a,l):"config"===o?yield qde(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){_n.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ts,wH,CH,u_,"gtag");Ss=s,IH=o,T0=!0}return Ts[r]=function phe(n,e,t,r,i,s,o){return D0.apply(this,arguments)}(n,wH,CH,e,IH,u_,t),new mhe(n)}function vhe(){return S0.apply(this,arguments)}function S0(){return(S0=_(function*(){if(Xg()||!FI()||!_a())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}const DH="@firebase/analytics";!function whe(){On(new mn(c_,(e,{options:t})=>_he(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),On(new mn("analytics-internal",function n(e){try{const t=e.getProvider(c_).getImmediate();return{logEvent:(r,i,s)=>function bhe(n,e,t,r){n=Rr(n),function lhe(n,e,t,r,i){return y0.apply(this,arguments)}(Ss,Ts[n.app.options.appId],e,t,r).catch(i=>_n.error(i))}(t,r,i,s)}}catch(t){throw Nr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),st(DH,"0.8.0"),st(DH,"0.8.0","esm2017")}();const Ihe=new class Ehe extends wg{}(class Che extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),_h=new qs("7.4.1"),A0="__angularfire_symbol__analyticsIsSupportedValue",x0="__angularfire_symbol__analyticsIsSupported",M0="__angularfire_symbol__remoteConfigIsSupportedValue",k0="__angularfire_symbol__remoteConfigIsSupported",R0="__angularfire_symbol__messagingIsSupportedValue",N0="__angularfire_symbol__messagingIsSupported";function d_(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[x0]||(globalThis[x0]=vhe().then(n=>globalThis[A0]=n).catch(()=>globalThis[A0]=!1)),globalThis[N0]||(globalThis[N0]=pH().then(n=>globalThis[R0]=n).catch(()=>globalThis[R0]=!1)),globalThis[k0]||(globalThis[k0]=rde().then(n=>globalThis[M0]=n).catch(()=>globalThis[M0]=!1));const h_=(n,e)=>{const t=e?[e]:Sj(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Vc(){}class SH{constructor(e,t=Ihe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Dhe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vc,{},Vc,Vc)),t.pipe(Ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let f_=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new SH(Zone.current)),this.insideAngular=t.run(()=>new SH(Zone.current,Cg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function The(n){return Aa().ngZone.runOutsideAngular(()=>n())}function xa(n){return Aa().ngZone.run(()=>n())}function She(n){return Aa(),function Ahe(n){return function(t){return(t=t.lift(new Dhe(n.ngZone))).pipe(pp(n.outsideAngular),fp(n.insideAngular))}}(Aa())(n)}const xhe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xa(()=>n.apply(void 0,r))},Ma=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vc,{},Vc,Vc)))),r[s]=xhe(r[s],t));const i=The(()=>n.apply(this,r));if(!e){if(i instanceof He){const s=Aa();return i.pipe(pp(s.outsideAngular),fp(s.insideAngular))}return xa(()=>i)}return i instanceof He?i.pipe(She):i instanceof Promise?xa(()=>new Promise((s,o)=>i.then(a=>xa(()=>s(a)),a=>xa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:xa(()=>i)};class ka{constructor(e){return e}}class p_{constructor(){return Sj()}}const P0=new k("angularfire2._apps"),khe={provide:ka,useFactory:function Mhe(n){return n&&1===n.length?n[0]:new ka(s_())},deps:[[new ft,P0]]},Rhe={provide:p_,deps:[[new ft,P0]]};function Nhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ka(r)}}let Ohe=(()=>{class n{constructor(t){st("angularfire",_h.full,"core"),st("angularfire",_h.full,"app"),st("angular",DO.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Od))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[khe,Rhe]}),n})();function Phe(n,...e){return{ngModule:Ohe,providers:[{provide:P0,useFactory:Nhe(n),multi:!0,deps:[ae,pt,f_,...e]}]}}const Fhe=Ma(Oce,!0),AH=new Map,Lhe={activated:!1,tokenObservers:[]},Vhe={initialized:!1,enabled:!1};function Xt(n){return AH.get(n)||Lhe}function yi(n,e){AH.set(n,e)}function m_(){return Vhe}class $he{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Nc,yield function zhe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nc,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xn=new Bi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MH(n){if(!Xt(n).activated)throw Xn.create("use-before-activation",{appName:n.name})}function V0(n,e){return B0.apply(this,arguments)}function B0(){return(B0=_(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,c;try{l=yield fetch(n,a)}catch(f){throw Xn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw Xn.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(f){throw Xn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(u[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Khe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const yh="firebase-app-check-store";let y_=null;function RH(){return y_||(y_=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Xn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yh,{keyPath:"compositeKey"})}}catch(r){e(Xn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),y_)}function U0(){return(U0=_(function*(n,e){const r=(yield RH()).transaction(yh,"readwrite"),s=r.objectStore(yh).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Xn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const vh=new va("@firebase/app-check");function FH(n,e){return _a()?function Zhe(n,e){return function NH(n,e){return U0.apply(this,arguments)}(function PH(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LH(){return m_().enabled}function VH(){return z0.apply(this,arguments)}function z0(){return(z0=_(function*(){const n=m_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ife={error:"UNKNOWN_ERROR"};function sfe(n){return Kg.encodeString(JSON.stringify(n),!1)}function v_(n){return G0.apply(this,arguments)}function G0(){return(G0=_(function*(n,e=!1){const t=n.app;MH(t);const r=Xt(t);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&b_(l)&&(i=l)}if(!e&&i&&b_(i))return{token:i.token};let a,o=!1;if(LH()){r.exchangeTokenPromise||(r.exchangeTokenPromise=V0(Khe(t,yield VH()),n.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const l=yield r.exchangeTokenPromise;return yield FH(t,l),yi(t,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?vh.warn(l.message):vh.error(l),s=l}return i?(a={token:i.token},yi(t,Object.assign(Object.assign({},r),{token:i})),yield FH(t,i)):a=afe(s),o&&UH(t,a),a})).apply(this,arguments)}function q0(n,e){const t=Xt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),yi(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function BH(n){const{app:e}=n,t=Xt(e);let r=t.tokenRefresher;r||(r=function ofe(n){const{app:e}=n;return new $he(_(function*(){let r;if(r=Xt(e).token?yield v_(n,!0):yield v_(n),r.error)throw r.error}),()=>!0,()=>{const t=Xt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),yi(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function UH(n,e){const t=Xt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function b_(n){return n.expireTimeMillis-Date.now()>0}function afe(n){return{token:sfe(ife),error:n}}class lfe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Xt(this.app);for(const t of e)q0(this.app,t.next);return Promise.resolve()}}const KH="app-check-internal";!function Cfe(){On(new mn("app-check",n=>function cfe(n,e){return new lfe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KH).initialize()})),On(new mn(KH,n=>function ufe(n){return{getToken:e=>v_(n,e),addTokenListener:e=>function W0(n,e,t,r){const{app:i}=n,s=Xt(i),o={next:t,error:r,type:e};if(yi(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&b_(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),BH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>BH(n))}(n,"INTERNAL",e),removeTokenListener:e=>q0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.5.12")}();class C_{constructor(){return h_("app-check")}}typeof window<"u"&&window;const Sfe=function QH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},XH=new Bi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ZH=new va("@firebase/auth");function E_(n,...e){ZH.logLevel<=Ee.ERROR&&ZH.error(`Auth (9.9.4): ${n}`,...e)}function hr(n,...e){throw Z0(n,...e)}function Ui(n,...e){return Z0(n,...e)}function JH(n,e,t){const r=Object.assign(Object.assign({},Sfe()),{[e]:t});return new Bi("auth","Firebase",r).create(e,{appName:n.name})}function Z0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XH.create(n,...e)}function N(n,e,...t){if(!n)throw Z0(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw E_(e),new Error(e)}function ao(n,e){n||ji(e)}const e$=new Map;function As(n){ao(n instanceof Function,"Expected a class definition");let e=e$.get(n);return e?(ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,e$.set(n,e),e)}function bh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function t$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ao(t>e,"Short delay should be less than long delay!"),this.isMobile=Qg()||PI()}get(){return function Mfe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function J0(){return"http:"===t$()||"https:"===t$()}()||Xg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eT(n,e){ao(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class n${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nfe=new wh(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zt(n,e,t,r){return tT.apply(this,arguments)}function tT(){return(tT=_(function*(n,e,t,r,i={}){return r$(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ph(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),n$.fetch()(i$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function r$(n,e,t){return nT.apply(this,arguments)}function nT(){return(nT=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rfe),e);try{const i=new Ofe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ch(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ch(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Ch(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Ch(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JH(n,u,c);hr(n,u)}}catch(i){if(i instanceof Jr)throw i;hr(n,"network-request-failed")}})).apply(this,arguments)}function xs(n,e,t,r){return rT.apply(this,arguments)}function rT(){return(rT=_(function*(n,e,t,r,i={}){const s=yield Zt(n,e,t,r,i);return"mfaPendingCredential"in s&&hr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function i$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?eT(n.config,i):`${n.config.apiScheme}://${i}`}class Ofe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),Nfe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ui(n,e,r);return i.customData._tokenResponse=t,i}function iT(){return(iT=_(function*(n,e){return Zt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Lfe(n,e){return oT.apply(this,arguments)}function oT(){return(oT=_(function*(n,e){return Zt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Eh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aT(){return(aT=_(function*(n,e=!1){const t=Rr(n),r=yield t.getIdToken(e),i=I_(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Eh(lT(i.auth_time)),issuedAtTime:Eh(lT(i.iat)),expirationTime:Eh(lT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function lT(n){return 1e3*Number(n)}function I_(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return E_("JWT malformed, contained fewer than 3 sections"),null;try{const s=OI(r);return s?JSON.parse(s):(E_("Failed to decode base64 JWT payload"),null)}catch(s){return E_("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Ms(n,e){return cT.apply(this,arguments)}function cT(){return(cT=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Jr&&Ufe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Ufe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class jfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class s${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ih(n){return uT.apply(this,arguments)}function uT(){return(uT=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ms(n,Lfe(t,{idToken:r}));N(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?zfe(s.providerUserInfo):[],a=$fe(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function dT(){return(dT=_(function*(n){const e=Rr(n);yield Ih(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $fe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zfe(n){return n.map(e=>{var{providerId:t}=e,r=BR(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hT(){return(hT=_(function*(n,e){const t=yield r$(n,{},_(function*(){const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=i$(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",n$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Dh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Bfe(n){const e=I_(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Gfe(n,e){return hT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Dh;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dh,this.toJSON())}_performRefresh(){return ji("not implemented")}}function lo(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=BR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield Ms(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Vfe(n){return aT.apply(this,arguments)}(this,e)}reload(){return function Hfe(n){return dT.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ih(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield Ms(e,function Pfe(n,e){return iT.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,I=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:T,isAnonymous:R,providerData:U,stsTokenManager:le}=t;N(v&&le,e,"internal-error");const xt=Dh.fromJSON(this.name,le);N("string"==typeof v,e,"internal-error"),lo(d,e.name),lo(h,e.name),N("boolean"==typeof T,e,"internal-error"),N("boolean"==typeof R,e,"internal-error"),lo(f,e.name),lo(p,e.name),lo(m,e.name),lo(g,e.name),lo(b,e.name),lo(I,e.name);const Dn=new Ra({uid:v,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:xt,createdAt:b,lastLoginAt:I});return U&&Array.isArray(U)&&(Dn.providerData=U.map(rr=>Object.assign({},rr))),g&&(Dn._redirectEventId=g),Dn}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new Dh;i.updateFromServerResponse(t);const s=new Ra({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ih(s),s})()}}const o$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function D_(n,e,t){return`firebase:${n}:${e}:${t}`}class Uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=D_(this.userKey,i.apiKey,s),this.fullPersistenceKey=D_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ra._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Uc(As(o$),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||As(o$);const o=D_(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Ra._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Uc(s,e,r)):new Uc(s,e,r)})()}}function a$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h$(e))return"Blackberry";if(f$(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||c$(e))&&!e.includes("edge/"))return"Chrome";if(d$(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function l$(n=Qt()){return/firefox\//i.test(n)}function fT(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c$(n=Qt()){return/crios\//i.test(n)}function u$(n=Qt()){return/iemobile/i.test(n)}function d$(n=Qt()){return/android/i.test(n)}function h$(n=Qt()){return/blackberry/i.test(n)}function f$(n=Qt()){return/webos/i.test(n)}function T_(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function p$(n=Qt()){return T_(n)||d$(n)||f$(n)||h$(n)||/windows phone/i.test(n)||u$(n)}function m$(n,e=[]){let t;switch(n){case"Browser":t=a$(Qt());break;case"Worker":t=`${a$(Qt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.9.4/${e.length?e.join(","):"FirebaseCore-web"}`}class Yfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Qfe{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g$(this),this.idTokenSubscription=new g$(this),this.beforeStateQueue=new Yfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XH,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=As(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Uc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){var r;try{yield Ih(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function kfe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?Rr(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(As(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&As(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield Uc.create(t,[As(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function fr(n){return Rr(n)}class g${constructor(e){this.auth=e,this.observer=null,this.addObserver=function kle(n,e){const t=new Rle(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ks(n,e){return TT.apply(this,arguments)}function TT(){return(TT=_(function*(n,e){return xs(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))})).apply(this,arguments)}class co{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gpe extends co{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Ra._fromIdTokenResponse(e,r,i),o=E$(r);return new ei({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=E$(r);return new ei({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function E$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class M_ extends Jr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new M_(e,t,r,i)}}function I$(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?M_._fromErrorAndOperation(n,s,e,r):s})}function PT(n,e){return FT.apply(this,arguments)}function FT(){return(FT=_(function*(n,e,t=!1){const r=yield Ms(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ei._forOperation(n,"link",r)})).apply(this,arguments)}function VT(){return(VT=_(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield Ms(n,I$(i,s,e,n),t);N(o.idToken,i,"internal-error");const a=I_(o.idToken);N(a,i,"internal-error");const{sub:l}=a;return N(n.uid===l,i,"user-mismatch"),ei._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&hr(i,"user-mismatch"),o}})).apply(this,arguments)}function BT(){return(BT=_(function*(n,e,t=!1){const r="signIn",i=yield I$(n,r,e),s=yield ei._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const N_="__sak";class x${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(N_,"1"),this.storage.removeItem(N_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fpe=(()=>{class n extends x${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Npe(){const n=Qt();return fT(n)||T_(n)}()&&function Kfe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=p$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function qfe(){return yj()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),M$=(()=>{class n extends x${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Vpe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Lpe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function pS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Bpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=pS("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function $t(){return window}function mS(){return typeof $t().WorkerGlobalScope<"u"&&"function"==typeof $t().importScripts}function gS(){return(gS=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const k$="firebaseLocalStorageDb",O_="firebaseLocalStorage",R$="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function P_(n,e){return n.transaction([O_],e?"readwrite":"readonly").objectStore(O_)}function _S(){const n=indexedDB.open(k$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(O_,{keyPath:R$})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(O_)?e(r):(r.close(),yield function Gpe(){const n=indexedDB.deleteDatabase(k$);return new xh(n).toPromise()}(),e(yield _S()))}))})}function N$(n,e,t){return yS.apply(this,arguments)}function yS(){return(yS=_(function*(n,e,t){const r=P_(n,!0).put({[R$]:e,value:t});return new xh(r).toPromise()})).apply(this,arguments)}function vS(){return(vS=_(function*(n,e){const t=P_(n,!1).get(e),r=yield new xh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function O$(n,e){const t=P_(n,!0).delete(e);return new xh(t).toPromise()}const Ype=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield _S()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return mS()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=Vpe._getInstance(function $pe(){return mS()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function jpe(){return gS.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Bpe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function Hpe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield _S();return yield N$(t,N_,"1"),yield O$(t,N_),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>N$(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function Wpe(n,e){return vS.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>O$(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=P_(o,!1).getAll();return new xh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function F$(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Oa(n,e){return e?As(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}F$("rcb"),new wh(3e4,6e4);class xS extends class Jfe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hme(n){return function S$(n,e){return BT.apply(this,arguments)}(n.auth,new xS(n),n.bypassAuthState)}function fme(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),function T$(n,e){return VT.apply(this,arguments)}(t,new xS(n),n.bypassAuthState)}function pme(n){return MS.apply(this,arguments)}function MS(){return(MS=_(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),PT(t,new xS(n),n.bypassAuthState)})).apply(this,arguments)}new wh(2e3,1e4);const Mh=new Map;class _me extends class mme{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hme;case"linkViaPopup":case"linkViaRedirect":return pme;case"reauthViaPopup":case"reauthViaRedirect":return fme;default:hr(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=Mh.get(t.auth._key());if(!r){try{const s=(yield function yme(n,e){return PS.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Mh.set(t.auth._key(),r)}return t.bypassAuthState||Mh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function PS(){return(PS=_(function*(n,e){const t=B$(e),r=V$(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function vme(n,e){Mh.set(n._key(),e)}function V$(n){return As(n._redirectPersistence)}function B$(n){return D_("pendingRedirect",n.config.apiKey,n.name)}function U$(n,e){return HS.apply(this,arguments)}function HS(){return(HS=_(function*(n,e,t=!1){const r=fr(n),i=Oa(r,e),o=yield new _me(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Ime{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Dme(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!$$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(H$(e))}saveEventToCache(e){this.cachedEventUids.add(H$(e)),this.lastProcessedEventTime=Date.now()}}function H$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Tme(n){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(n,e={}){return Zt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Sme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ame=/^https?/;function GS(){return(GS=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Tme(n);for(const t of e)try{if(Mme(t))return}catch{}hr(n,"unauthorized-domain")})).apply(this,arguments)}function Mme(n){const e=bh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Ame.test(t))return!1;if(Sme.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kme=new wh(3e4,6e4);function z$(){const n=$t().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let L_=null;function Nme(n){return L_=L_||function Rme(n){return new Promise((e,t)=>{var r,i,s;function o(){z$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z$(),t(Ui(n,"network-request-failed"))},timeout:kme.get()})}if(null!==(i=null===(r=$t().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=$t().gapi)||void 0===s||!s.load){const a=F$("iframefcb");return $t()[a]=()=>{gapi.load?o():t(Ui(n,"network-request-failed"))},function P$(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ui("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Jpe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw L_=null,e})}(n),L_}const Ome=new wh(5e3,15e3),Lme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bme(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?eT(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Ea},i=Vme.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ph(r).slice(1)}`}function WS(){return WS=_(function*(n){const e=yield Nme(n),t=$t().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:Bme(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lme,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ui(n,"network-request-failed"),l=$t().setTimeout(()=>{o(a)},Ome.get());function c(){$t().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),WS.apply(this,arguments)}const jme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class G${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W$(n,e,t,r,i,s){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ea,eventId:i};if(e instanceof co){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",LI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof gpe){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function Qme({config:n}){return n.emulator?eT(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${ph(a).slice(1)}`}const qS="webStorageSupport",Zme=class Xme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M$,this._completeRedirectFn=U$,this._overrideRedirectResult=vme}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;ao(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=W$(e,t,r,bh(),i);return function Wme(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jme),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Qt().toLowerCase();t&&(a=c$(c)?"_blank":t),l$(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Wfe(n=Qt()){var e;return T_(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function qme(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new G$(null);const d=window.open(e||"",a,u);N(d,n,"popup-blocked");try{d.focus()}catch{}return new G$(d)}(e,a,pS())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function Upe(n){$t().location.href=n}(W$(e,t,r,bh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function Ume(n){return WS.apply(this,arguments)}(e),i=new Ime(e);return r.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qS,{type:qS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[qS];void 0!==o&&t(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function xme(n){return GS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p$()||fT()||T_()}};var K$="@firebase/auth";class Jme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nge(n=s_()){const e=Ca(n,"auth");return e.isInitialized()?e.getImmediate():function Afe(n,e){const t=Ca(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(e_(t.getOptions(),e??{}))return i;hr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Zme,persistence:[Ype,Fpe,M$]})}!function tge(n){On(new mn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{N(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),N(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m$(n)},u=new Qfe(a,l,c);return function xfe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(As);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),On(new mn("auth-internal",e=>{const t=fr(e.getProvider("auth").getImmediate());return new Jme(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(K$,"0.20.6",function ege(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),st(K$,"0.20.6","esm2017")}("Browser");class KS{constructor(e){return e}}class YS{constructor(){return h_("auth")}}const QS=new k("angularfire2.auth-instances");function ige(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new KS(r)}}const sge={provide:YS,deps:[[new ft,QS]]},oge={provide:KS,useFactory:function rge(n,e){const t=d_("auth",n,e);return t&&new KS(t)},deps:[[new ft,QS],ka]};let age=(()=>{class n{constructor(){st("angularfire",_h.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[oge,sge]}),n})();function lge(n,...e){return{ngModule:age,providers:[{provide:QS,useFactory:ige(n),multi:!0,deps:[ae,pt,f_,p_,[new ft,C_],...e]}]}}const cge=Ma(nge,!0);var j,uge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rs={},XS=XS||{},re=uge||self;function V_(){}function ZS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JS="closure_uid_"+(1e9*Math.random()>>>0),hge=0;function fge(n,e,t){return n.call.apply(n.bind,arguments)}function pge(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yn(n,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fge:pge).apply(null,arguments)}function B_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function uo(){this.s=this.s,this.o=this.o}var gge={};uo.prototype.s=!1,uo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function dge(n){return Object.prototype.hasOwnProperty.call(n,JS)&&n[JS]||(n[JS]=++hge)}(this);delete gge[n]}},uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const X$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Z$=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function J$(n){return Array.prototype.concat.apply([],arguments)}function eA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function U_(n){return/^[\s\xa0]*$/.test(n)}var Jn,ez=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zn(n,e){return-1!=n.indexOf(e)}function tA(n,e){return n<e?-1:n>e?1:0}e:{var tz=re.navigator;if(tz){var nz=tz.userAgent;if(nz){Jn=nz;break e}}Jn=""}function nA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rz(n){const e={};for(const t in n)e[t]=n[t];return e}var iz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sz(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<iz.length;s++)t=iz[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function rA(n){return rA[" "](n),n}rA[" "]=V_;var j_,n,vge=Zn(Jn,"Opera"),jc=Zn(Jn,"Trident")||Zn(Jn,"MSIE"),oz=Zn(Jn,"Edge"),iA=oz||jc,az=Zn(Jn,"Gecko")&&!(Zn(Jn.toLowerCase(),"webkit")&&!Zn(Jn,"Edge"))&&!(Zn(Jn,"Trident")||Zn(Jn,"MSIE"))&&!Zn(Jn,"Edge"),bge=Zn(Jn.toLowerCase(),"webkit")&&!Zn(Jn,"Edge");function lz(){var n=re.document;return n?n.documentMode:void 0}e:{var sA="",oA=(n=Jn,az?/rv:([^\);]+)(\)|;)/.exec(n):oz?/Edge\/([\d\.]+)/.exec(n):jc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bge?/WebKit\/(\S+)/.exec(n):vge?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oA&&(sA=oA?oA[1]:""),jc){var aA=lz();if(null!=aA&&aA>parseFloat(sA)){j_=String(aA);break e}}j_=sA}var wge={};var Ege=re.document&&jc&&(lz()||parseInt(j_,10))||void 0,Ige=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",V_,e),re.removeEventListener("test",V_,e)}catch{}return n}();function Pn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Rh(n,e){if(Pn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(az){e:{try{rA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Dge[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rh.Z.h.call(this)}}Pn.prototype.h=function(){this.defaultPrevented=!0},vn(Rh,Pn);var Dge={2:"touch",3:"pen",4:"mouse"};Rh.prototype.h=function(){Rh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),Tge=0;function Sge(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Tge,this.ca=this.fa=!1}function H_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $_(n){this.src=n,this.g={},this.h=0}function cA(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=X$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(H_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uA(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}$_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=uA(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new Sge(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var dA="closure_lm_"+(1e6*Math.random()|0),hA={};function uz(n,e,t,r,i){if(r&&r.once)return hz(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uz(n,e[s],t,r,i);return null}return t=gA(t),n&&n[Nh]?n.N(e,t,kh(r)?!!r.capture:!!r,i):dz(n,e,t,!1,r,i)}function dz(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=kh(i)?!!i.capture:!!i,a=pA(n);if(a||(n[dA]=a=new $_(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Age(){var e=xge;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ige||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pz(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hz(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hz(n,e[s],t,r,i);return null}return t=gA(t),n&&n[Nh]?n.O(e,t,kh(r)?!!r.capture:!!r,i):dz(n,e,t,!0,r,i)}function fz(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)fz(n,e[s],t,r,i);else r=kh(r)?!!r.capture:!!r,t=gA(t),n&&n[Nh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uA(s=n.g[e],t,r,i))&&(H_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=pA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uA(e,t,r,i)),(t=-1<n?e[n]:null)&&fA(t))}function fA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Nh])cA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pz(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pA(e))?(cA(t,n),0==t.h&&(t.src=null,e[dA]=null)):H_(n)}}}function pz(n){return n in hA?hA[n]:hA[n]="on"+n}function xge(n,e){if(n.ca)n=!0;else{e=new Rh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&fA(n),n=t.call(r,e)}return n}function pA(n){return(n=n[dA])instanceof $_?n:null}var mA="__closure_events_fn_"+(1e9*Math.random()>>>0);function gA(n){return"function"==typeof n?n:(n[mA]||(n[mA]=function(e){return n.handleEvent(e)}),n[mA])}function Jt(){uo.call(this),this.i=new $_(this),this.P=this,this.I=null}function bn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Pn(e,n);else if(e instanceof Pn)e.target=e.target||n;else{var i=e;sz(e=new Pn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=z_(o,r,!0,e)&&i}if(i=z_(o=e.g=n,r,!0,e)&&i,i=z_(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=z_(o=e.g=t[s],r,!1,e)&&i}function z_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&cA(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}vn(Jt,uo),Jt.prototype[Nh]=!0,Jt.prototype.removeEventListener=function(n,e,t,r){fz(this,n,e,t,r)},Jt.prototype.M=function(){if(Jt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)H_(t[r]);delete n.g[e],n.h--}}this.I=null},Jt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _A=re.JSON.stringify;function Mge(){var n=gz;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vA,mz=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Rge,n=>n.reset());class Rge{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nge(n){re.setTimeout(()=>{throw n},0)}function yA(n,e){vA||function Oge(){var n=re.Promise.resolve(void 0);vA=function(){n.then(Pge)}}(),bA||(vA(),bA=!0),gz.add(n,e)}var bA=!1,gz=new class kge{constructor(){this.h=this.g=null}add(e,t){const r=mz.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Pge(){for(var n;n=Mge();){try{n.h.call(n.g)}catch(t){Nge(t)}var e=mz;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bA=!1}function G_(n,e){Jt.call(this),this.h=n||1,this.g=e||re,this.j=yn(this.kb,this),this.l=Date.now()}function wA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function CA(n,e,t){if("function"==typeof n)t&&(n=yn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yn(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function _z(n){n.g=CA(()=>{n.g=null,n.i&&(n.i=!1,_z(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vn(G_,Jt),(j=G_.prototype).da=!1,j.S=null,j.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bn(this,"tick"),this.da&&(wA(this),this.start()))}},j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.M=function(){G_.Z.M.call(this),wA(this),delete this.g};class Fge extends uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_z(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oh(n){uo.call(this),this.h=n,this.g={}}vn(Oh,uo);var yz=[];function vz(n,e,t,r){Array.isArray(t)||(t&&(yz[0]=t.toString()),t=yz);for(var i=0;i<t.length;i++){var s=uz(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function bz(n){nA(n.g,function(e,t){this.g.hasOwnProperty(t)&&fA(e)},n),n.g={}}function W_(){this.g=!0}function Hc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Uge(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _A(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Oh.prototype.M=function(){Oh.Z.M.call(this),bz(this)},Oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},W_.prototype.Aa=function(){this.g=!1},W_.prototype.info=function(){};var Pa={},wz=null;function q_(){return wz=wz||new Jt}function Cz(n){Pn.call(this,Pa.Ma,n)}function Ph(n){const e=q_();bn(e,new Cz(e,n))}function Ez(n,e){Pn.call(this,Pa.STAT_EVENT,n),this.stat=e}function er(n){const e=q_();bn(e,new Ez(e,n))}function Iz(n,e){Pn.call(this,Pa.Na,n),this.size=e}function Fh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Pa.Ma="serverreachability",vn(Cz,Pn),Pa.STAT_EVENT="statevent",vn(Ez,Pn),Pa.Na="timingevent",vn(Iz,Pn);var K_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dz={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EA(){}function Sz(){}EA.prototype.h=null;var TA,Lh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function IA(){Pn.call(this,"d")}function DA(){Pn.call(this,"c")}function Y_(){}function Vh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Oh(this),this.P=jge,this.W=new G_(n=iA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Az}function Az(){this.i=null,this.g="",this.h=!1}vn(IA,Pn),vn(DA,Pn),vn(Y_,EA),Y_.prototype.g=function(){return new XMLHttpRequest},Y_.prototype.i=function(){return{}},TA=new Y_;var jge=45e3,SA={},Q_={};function AA(n,e,t){n.K=1,n.v=ty(Ns(e)),n.s=t,n.U=!0,xz(n,null)}function xz(n,e){n.F=Date.now(),Bh(n),n.A=Ns(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vz(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Az,n.g=aG(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Fge(yn(n.Ia,n,n.g),n.O)),vz(n.V,n.g,"readystatechange",n.gb),e=n.H?rz(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ph(1),function Lge(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Mz(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function kz(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Hge(n,t),i==Q_){4==e&&(n.o=4,er(14),r=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(i==SA){n.o=4,er(15),Hc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hc(n.j,n.m,i,null),xA(n,i)}Mz(n)&&i!=Q_&&i!=SA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,er(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),UA(e),e.L=!0,er(11))):(Hc(n.j,n.m,t,"[Invalid Chunked Response]"),Fa(n),Uh(n))}function Hge(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Q_:(t=Number(e.substring(t,r)),isNaN(t)?SA:(r+=1)+t>e.length?Q_:(e=e.substr(r,t),n.C=r+t,e))}function Bh(n){n.Y=Date.now()+n.P,Rz(n,n.P)}function Rz(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Fh(yn(n.eb,n),e)}function X_(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function Uh(n){0==n.l.G||n.I||rG(n.l,n)}function Fa(n){X_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wA(n.W),bz(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||RA(t.i,n)))if(t.I=n.N,!n.J&&RA(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ay(t),sy(t)}BA(t),er(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Fh(yn(t.ab,t),6e3));if(1>=jz(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Ba(t,11)}else if((n.J||t.g==n)&&ay(t),!U_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const u=c[3];null!=u&&(t.ma=u,t.h.info("VER="+t.ma));const d=c[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Zn(p,"spdy")||Zn(p,"quic")||Zn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(NA(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,ct(r.F,r.D,m))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=oG(r,r.H?r.la:null,r.W),o.J){Hz(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(X_(a),Bh(a)),r.g=o}else tG(r);0<t.l.length&&oy(t)}else"stop"!=c[0]&&"close"!=c[0]||Ba(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ba(t,7):LA(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}Ph(4)}catch{}}function MA(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ZS(n)||"string"==typeof n)Z$(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ZS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function $ge(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ZS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function $c(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof $c)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kA(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];La(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)La(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function La(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(j=Vh.prototype).setTimeout=function(n){this.P=n},j.gb=function(n){n=n.target;const e=this.L;e&&3==Os(n)?e.l():this.Ia(n)},j.Ia=function(n){try{if(n==this.g)e:{const u=Os(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||iA||this.g&&(this.h.h||this.g.ga()||Qz(this.g)))){this.I||4!=u||7==e||Ph(8==e||0>=d?3:2),X_(this);var t=this.g.ba();this.N=t;t:if(Mz(this)){var r=Qz(this.g);n="";var i=r.length,s=4==Os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fa(this),Uh(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function Vge(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U_(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,er(12),Fa(this),Uh(this);break e}Hc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xA(this,t)}this.U?(kz(this,u,o),iA&&this.i&&3==u&&(vz(this.V,this.W,"tick",this.fb),this.W.start())):(Hc(this.j,this.m,o,null),xA(this,o)),4==u&&Fa(this),this.i&&!this.I&&(4==u?rG(this.l,this):(this.i=!1,Bh(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),Fa(this),Uh(this)}}}catch{}},j.fb=function(){if(this.g){var n=Os(this.g),e=this.g.ga();this.C<e.length&&(X_(this),kz(this,n,e),this.i&&4!=n&&Bh(this))}},j.cancel=function(){this.I=!0,Fa(this)},j.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Bge(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ph(3),er(17)),Fa(this),this.o=2,Uh(this)):Rz(this,this.Y-n)},(j=$c.prototype).R=function(){kA(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},j.T=function(){return kA(this),this.g.concat()},j.get=function(n,e){return La(this.h,n)?this.h[n]:e},j.set=function(n,e){La(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},j.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var Nz=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Va(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Va){this.g=void 0!==e?e:n.g,Z_(this,n.j),this.s=n.s,J_(this,n.i),ey(this,n.m),this.l=n.l,e=n.h;var t=new $h;t.i=e.i,e.g&&(t.g=new $c(e.g),t.h=e.h),Oz(this,t),this.o=n.o}else n&&(t=String(n).match(Nz))?(this.g=!!e,Z_(this,t[1]||"",!0),this.s=jh(t[2]||""),J_(this,t[3]||"",!0),ey(this,t[4]),this.l=jh(t[5]||"",!0),Oz(this,t[6]||"",!0),this.o=jh(t[7]||"")):(this.g=!!e,this.h=new $h(null,this.g))}function Ns(n){return new Va(n)}function Z_(n,e,t){n.j=t?jh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function J_(n,e,t){n.i=t?jh(e,!0):e}function ey(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Oz(n,e,t){e instanceof $h?(n.h=e,function Zge(n,e){e&&!n.j&&(ho(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Fz(this,r),Vz(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Hh(e,Qge)),n.h=new $h(e,n.g))}function ct(n,e,t){n.h.set(e,t)}function ty(n){return ct(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qge),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Va.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hh(e,Pz,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hh(e,Pz,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hh(t,"/"==t.charAt(0)?Yge:Kge,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hh(t,Xge)),n.join("")};var Pz=/[#\/\?@]/g,Kge=/[#\?:]/g,Yge=/[#\?]/g,Qge=/[#\?@]/g,Xge=/#/g;function $h(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ho(n){n.g||(n.g=new $c,n.h=0,n.i&&function zge(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Fz(n,e){ho(n),e=zc(n,e),La(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,La((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kA(n)))}function Lz(n,e){return ho(n),e=zc(n,e),La(n.g.h,e)}function Vz(n,e,t){Fz(n,e),0<t.length&&(n.i=null,n.g.set(zc(n,e),eA(t)),n.h+=t.length)}function zc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Bz(n){this.l=n||e_e,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ea&&re.g.Ea()&&re.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=$h.prototype).add=function(n,e){ho(this),this.i=null,n=zc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},j.forEach=function(n,e){ho(this),this.g.forEach(function(t,r){Z$(t,function(i){n.call(e,i,r,this)},this)},this)},j.T=function(){ho(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},j.R=function(n){ho(this);var e=[];if("string"==typeof n)Lz(this,n)&&(e=J$(e,this.g.get(zc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=J$(e,n[t])}return e},j.set=function(n,e){return ho(this),this.i=null,Lz(this,n=zc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},j.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var e_e=10;function Uz(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jz(n){return n.h?1:n.g?n.g.size:0}function RA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NA(n,e){n.g?n.g.add(e):n.h=e}function Hz(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $z(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return eA(n.i)}function OA(){}function t_e(){this.g=new OA}function n_e(n,e,t){const r=t||"";try{MA(n,function(i,s){let o=i;kh(i)&&(o=_A(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ny(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zh(n){this.l=n.$b||null,this.j=n.ib||!1}function ry(n,e){Jt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=PA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bz.prototype.cancel=function(){if(this.i=$z(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},OA.prototype.stringify=function(n){return re.JSON.stringify(n,void 0)},OA.prototype.parse=function(n){return re.JSON.parse(n,void 0)},vn(zh,EA),zh.prototype.g=function(){return new ry(this.l,this.j)},zh.prototype.i=function(n){return function(){return n}}({}),vn(ry,Jt);var PA=0;function zz(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Gh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wh(n)}function Wh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(j=ry.prototype).open=function(n,e){if(this.readyState!=PA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wh(this)},j.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gh(this)),this.readyState=PA},j.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zz(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},j.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gh(this):Wh(this),3==this.readyState&&zz(this)}},j.Ua=function(n){this.g&&(this.response=this.responseText=n,Gh(this))},j.Ta=function(n){this.g&&(this.response=n,Gh(this))},j.ha=function(){this.g&&Gh(this)},j.setRequestHeader=function(n,e){this.v.append(n,e)},j.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ry.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var i_e=re.JSON.parse;function Ft(n){Jt.call(this),this.headers=new $c,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gz,this.K=this.L=!1}vn(Ft,Jt);var Gz="",s_e=/^https?$/i,o_e=["POST","PUT"];function l_e(n){return"content-type"==n.toLowerCase()}function Wz(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qz(n),iy(n)}function qz(n){n.D||(n.D=!0,bn(n,"complete"),bn(n,"error"))}function Kz(n){if(n.h&&typeof XS<"u"&&(!n.C[1]||4!=Os(n)||2!=n.ba()))if(n.v&&4==Os(n))CA(n.Fa,0,n);else if(bn(n,"readystatechange"),4==Os(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(Nz)[1]||null;if(!i&&re.self&&re.self.location){var s=re.self.location.protocol;i=s.substr(0,s.length-1)}r=!s_e.test(i?i.toLowerCase():"")}t=r}if(t)bn(n,"complete"),bn(n,"success");else{n.m=6;try{var o=2<Os(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",qz(n)}}finally{iy(n)}}}function iy(n,e){if(n.g){Yz(n);const t=n.g,r=n.C[0]?V_:null;n.g=null,n.C=null,e||bn(n,"ready");try{t.onreadystatechange=r}catch{}}}function Yz(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Os(n){return n.g?n.g.readyState:0}function Qz(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Gz:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function c_e(n){let e="";return nA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ct(n,e,t))}function qh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Xz(n){this.za=0,this.l=[],this.h=new W_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qh("baseRetryDelayMs",5e3,n),this.$a=qh("retryDelaySeedMs",1e4,n),this.Ya=qh("forwardChannelMaxRetries",2,n),this.ra=qh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Bz(n&&n.concurrentRequestLimit),this.Ca=new t_e,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function LA(n){if(Zz(n),3==n.G){var e=n.V++,t=Ns(n.F);ct(t,"SID",n.J),ct(t,"RID",e),ct(t,"TYPE","terminate"),Kh(n,t),(e=new Vh(n,n.h,e,void 0)).K=2,e.v=ty(Ns(t)),t=!1,re.navigator&&re.navigator.sendBeacon&&(t=re.navigator.sendBeacon(e.v.toString(),"")),!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=aG(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Bh(e)}sG(n)}function sy(n){n.g&&(UA(n),n.g.cancel(),n.g=null)}function Zz(n){sy(n),n.u&&(re.clearTimeout(n.u),n.u=null),ay(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function VA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&oy(n)}function oy(n){Uz(n.i)||n.m||(n.m=!0,yA(n.Ha,n),n.C=0)}function Jz(n,e){var t;t=e?e.m:n.V++;const r=Ns(n.F);ct(r,"SID",n.J),ct(r,"RID",t),ct(r,"AID",n.U),Kh(n,r),n.o&&n.s&&FA(r,n.o,n.s),t=new Vh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=eG(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),NA(n.i,t),AA(t,r,e)}function Kh(n,e){n.j&&MA({},function(t,r){ct(e,r,t)})}function eG(n,e,t){t=Math.min(n.l.length,t);var r=n.j?yn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{n_e(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function tG(n){n.g||n.u||(n.Y=1,yA(n.Ga,n),n.A=0)}function BA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Fh(yn(n.Ga,n),iG(n,n.A)),n.A++,0))}function UA(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function nG(n){n.g=new Vh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ns(n.oa);ct(e,"RID","rpc"),ct(e,"SID",n.J),ct(e,"CI",n.N?"0":"1"),ct(e,"AID",n.U),Kh(n,e),ct(e,"TYPE","xmlhttp"),n.o&&n.s&&FA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ty(Ns(e)),t.s=null,t.U=!0,xz(t,n)}function ay(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function rG(n,e){var t=null;if(n.g==e){ay(n),UA(n),n.g=null;var r=2}else{if(!RA(n.i,e))return;t=e.D,Hz(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;bn(r=q_(),new Iz(r,t,e,i)),oy(n)}else tG(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function u_e(n,e){return!(jz(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Fh(yn(n.Ha,n,e),iG(n,n.C)),n.C++,0)))}(n,e)||2==r&&BA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ba(n,5);break;case 4:Ba(n,10);break;case 3:Ba(n,6);break;default:Ba(n,2)}}function iG(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ba(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=yn(n.jb,n);t||(t=new Va("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Z_(t,"https"),ty(t)),function r_e(n,e){const t=new W_;if(re.Image){const r=new Image;r.onload=B_(ny,t,r,"TestLoadImage: loaded",!0,e),r.onerror=B_(ny,t,r,"TestLoadImage: error",!1,e),r.onabort=B_(ny,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=B_(ny,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else er(2);n.G=0,n.j&&n.j.va(e),sG(n),Zz(n)}function sG(n){n.G=0,n.I=-1,n.j&&((0!=$z(n.i).length||0!=n.l.length)&&(n.i.i.length=0,eA(n.l),n.l.length=0),n.j.ua())}function oG(n,e,t){let r=function Gge(n){return n instanceof Va?Ns(n):new Va(n,void 0)}(t);if(""!=r.i)e&&J_(r,e+"."+r.i),ey(r,r.m);else{const i=re.location;r=function Wge(n,e,t,r){var i=new Va(null,void 0);return n&&Z_(i,n),e&&J_(i,e),t&&ey(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&nA(n.aa,function(i,s){ct(r,s,i)}),t=n.sa,(e=n.D)&&t&&ct(r,e,t),ct(r,"VER",n.ma),Kh(n,r),r}function aG(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ft(t&&n.Ba&&!n.qa?new zh({ib:!0}):n.qa)).L=n.H,e}function lG(){}function ly(){if(jc&&!(10<=Number(Ege)))throw Error("Environmental error: no available transport.")}function Or(n,e){Jt.call(this),this.g=new Xz(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!U_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!U_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gc(this)}function cG(n){IA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uG(){DA.call(this),this.status=1}function Gc(n){this.g=n}(j=Ft.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():TA.g(),this.C=function Tz(n){return n.h||(n.h=n.i())}(this.u?this.u:TA),this.g.onreadystatechange=yn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void Wz(this,s)}n=t||"";const i=new $c(this.headers);r&&MA(r,function(s,o){i.set(o,s)}),r=function _ge(n){e:{var e=l_e;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=re.FormData&&n instanceof re.FormData,!(0<=X$(o_e,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yz(this),0<this.B&&((this.K=function a_e(n){return jc&&function Cge(){return function yge(n){var e=wge;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ez(String(j_)).split("."),t=ez("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=tA(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||tA(0==i[2].length,0==s[2].length)||tA(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.pa,this)):this.A=CA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Wz(this,s)}},j.pa=function(){typeof XS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))},j.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bn(this,"complete"),bn(this,"abort"),iy(this))},j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iy(this,!0)),Ft.Z.M.call(this)},j.Fa=function(){this.s||(this.F||this.v||this.l?Kz(this):this.cb())},j.cb=function(){Kz(this)},j.ba=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},j.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},j.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),i_e(e)}},j.Da=function(){return this.m},j.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=Xz.prototype).ma=8,j.G=1,j.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},j.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Vh(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=rz(s),sz(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eG(this,i,e),ct(t=Ns(this.F),"RID",n),ct(t,"CVER",22),this.D&&ct(t,"X-HTTP-Session-Id",this.D),Kh(this,t),this.o&&s&&FA(t,this.o,s),NA(this.i,i),this.Ra&&ct(t,"TYPE","init"),this.ja?(ct(t,"$req",e),ct(t,"SID","null"),i.$=!0,AA(i,t,null)):AA(i,t,e),this.G=2}}else 3==this.G&&(n?Jz(this,n):0==this.l.length||Uz(this.i)||Jz(this))},j.Ga=function(){if(this.u=null,nG(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Fh(yn(this.bb,this),n)}},j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,er(10),sy(this),nG(this))},j.ab=function(){null!=this.v&&(this.v=null,sy(this),BA(this),er(19))},j.jb=function(n){n?(this.h.info("Successfully pinged google.com"),er(2)):(this.h.info("Failed to ping google.com"),er(1))},(j=lG.prototype).xa=function(){},j.wa=function(){},j.va=function(){},j.ua=function(){},j.Oa=function(){},ly.prototype.g=function(n,e){return new Or(n,e)},vn(Or,Jt),Or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yA(yn(n.hb,n,e))),er(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=oG(n,null,n.W),oy(n)},Or.prototype.close=function(){LA(this.g)},Or.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,VA(this.g,e)}else this.v?((e={}).__data__=_A(n),VA(this.g,e)):VA(this.g,n)},Or.prototype.M=function(){this.g.j=null,delete this.j,LA(this.g),delete this.g,Or.Z.M.call(this)},vn(cG,IA),vn(uG,DA),vn(Gc,lG),Gc.prototype.xa=function(){bn(this.g,"a")},Gc.prototype.wa=function(n){bn(this.g,new cG(n))},Gc.prototype.va=function(n){bn(this.g,new uG(n))},Gc.prototype.ua=function(){bn(this.g,"b")},ly.prototype.createWebChannel=ly.prototype.g,Or.prototype.send=Or.prototype.u,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,K_.NO_ERROR=0,K_.TIMEOUT=8,K_.HTTP_ERROR=6,Dz.COMPLETE="complete",Sz.EventType=Lh,Lh.OPEN="a",Lh.CLOSE="b",Lh.ERROR="c",Lh.MESSAGE="d",Jt.prototype.listen=Jt.prototype.N,Ft.prototype.listenOnce=Ft.prototype.O,Ft.prototype.getLastError=Ft.prototype.La,Ft.prototype.getLastErrorCode=Ft.prototype.Da,Ft.prototype.getStatus=Ft.prototype.ba,Ft.prototype.getResponseJson=Ft.prototype.Qa,Ft.prototype.getResponseText=Ft.prototype.ga,Ft.prototype.send=Ft.prototype.ea;var d_e=Rs.createWebChannelTransport=function(){return new ly},h_e=Rs.getStatEventTarget=function(){return q_()},jA=Rs.ErrorCode=K_,f_e=Rs.EventType=Dz,p_e=Rs.Event=Pa,dG=Rs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},m_e=Rs.FetchXmlHttpFactory=zh,cy=Rs.WebChannel=Sz,g_e=Rs.XhrIo=Ft;const hG="@firebase/firestore";class en{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Wc="9.9.4";const fo=new va("@firebase/firestore");function HA(){return fo.logLevel}function M(n,...e){if(fo.logLevel<=Ee.DEBUG){const t=e.map($A);fo.debug(`Firestore (${Wc}): ${n}`,...t)}}function Tt(n,...e){if(fo.logLevel<=Ee.ERROR){const t=e.map($A);fo.error(`Firestore (${Wc}): ${n}`,...t)}}function qc(n,...e){if(fo.logLevel<=Ee.WARN){const t=e.map($A);fo.warn(`Firestore (${Wc}): ${n}`,...t)}}function $A(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: `+n;throw Tt(e),new Error(e)}function ee(n,e){n||$()}function F(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class v_e{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new fG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new en(e)}}class b_e{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ee(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class w_e{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new b_e(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C_e{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee("string"==typeof t.token),this.A=t.token,new pG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E_e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mG{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=E_e(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(n,e){return n<e?-1:n>e?1:0}function Kc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class gt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new gt(0,0))}static max(){return new Y(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yh{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class De extends Yh{construct(e,t,r){return new De(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new De(t)}static emptyPath(){return new De([])}}const I_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Yh{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return I_e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new x(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(De.fromString(e))}static fromName(e){return new O(De.fromString(e).popFirst(5))}static empty(){return new O(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===De.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new De(e.slice()))}}function yG(n){return new Pr(n.readTime,n.key,-1)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(Y.min(),O.empty(),-1)}static max(){return new Pr(Y.max(),O.empty(),-1)}}function GA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=O.comparator(n.documentKey,e.documentKey),0!==t?t:ie(n.largestBatchId,e.largestBatchId))}const vG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function po(n){return WA.apply(this,arguments)}function WA(){return WA=_(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==vG)throw n;M("LocalStore","Unexpectedly lost primary lease")}),WA.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function mo(n){return"IndexedDbTransactionError"===n.name}class pr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function wG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}pr.at=-1;class Ct{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fy(this.root,e,this.comparator,!1)}getReverseIterator(){return new fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fy(this.root,e,this.comparator,!0)}}class fy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new wn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1,wn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new wn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EG(this.data.getIterator())}getIteratorFrom(e){return new EG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $e(this.comparator);return t.data=e,t}}class EG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new $e(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const R_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(n){if(ee(!!n),"string"==typeof n){let e=0;const t=R_e.exec(n);if(ee(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $a(n){return"string"==typeof n?zt.fromBase64String(n):zt.fromUint8Array(n)}function KA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function IG(n){const e=n.mapValue.fields.__previous_value__;return KA(e)?IG(e):e}function Zh(n){const e=go(n.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}class N_e{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}function Jh(n){return null==n}function ef(n){return 0===n&&1/n==-1/0}const _o_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?KA(n)?4:xG(n)?9007199254740991:10:$()}function Hi(n,e){if(n===e)return!0;const t=Ga(n);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zh(n).isEqual(Zh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=go(r.timestampValue),o=go(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,$a(n.bytesValue).isEqual($a(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Et(r.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(r.geoPointValue.longitude)===Et(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Et(r.integerValue)===Et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Et(r.doubleValue),o=Et(i.doubleValue);return s===o?ef(s)===ef(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Kc(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wG(s)!==wG(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Hi(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function tf(n,e){return void 0!==(n.values||[]).find(t=>Hi(t,e))}function yo(n,e){if(n===e)return 0;const t=Ga(n),r=Ga(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Et(i.integerValue||i.doubleValue),a=Et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return TG(n.timestampValue,e.timestampValue);case 4:return TG(Zh(n),Zh(e));case 5:return ie(n.stringValue,e.stringValue);case 6:return function(i,s){const o=$a(i),a=$a(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ie(o[l],a[l]);if(0!==c)return c}return ie(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(Et(i.latitude),Et(s.latitude));return 0!==o?o:ie(Et(i.longitude),Et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=yo(o[l],a[l]);if(c)return c}return ie(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===_o_mapValue&&s===_o_mapValue)return 0;if(i===_o_mapValue)return 1;if(s===_o_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ie(a[u],c[u]);if(0!==d)return d;const h=yo(o[a[u]],l[c[u]]);if(0!==h)return h}return ie(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function TG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ie(n,e);const t=go(n),r=go(e),i=ie(t.seconds,r.seconds);return 0!==i?i:ie(t.nanos,r.nanos)}function Qc(n){return YA(n)}function YA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=go(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$a(n.bytesValue).toBase64():"referenceValue"in n?O.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=YA(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${YA(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function QA(n){return!!n&&"integerValue"in n}function nf(n){return!!n&&"arrayValue"in n}function SG(n){return!!n&&"nullValue"in n}function AG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function my(n){return!!n&&"mapValue"in n}function rf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!my(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=rf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());my(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];my(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ha(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cn(rf(this.value))}}function RG(n){const e=[];return Ha(n.fields,(t,r)=>{const i=new St([t]);if(my(r)){const s=RG(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fr(e)}class tt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new tt(e,0,Y.min(),Y.min(),Cn.empty(),0)}static newFoundDocument(e,t,r){return new tt(e,1,t,Y.min(),r,0)}static newNoDocument(e,t){return new tt(e,2,t,Y.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,Y.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class F_e{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function NG(n,e=null,t=[],r=[],i=null,s=null,o=null){return new F_e(n,e,t,r,i,s,o)}function qa(n){const e=F(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Qc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qc(r)).join(",")),e.ht=t}return e.ht}function sf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!G_e(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Hi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VG(n.startAt,e.startAt)&&VG(n.endAt,e.endAt)}function gy(n){return O.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class En extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new V_e(e,t,r):"array-contains"===t?new j_e(e,r):"in"===t?new H_e(e,r):"not-in"===t?new $_e(e,r):"array-contains-any"===t?new z_e(e,r):new En(e,t,r)}static lt(e,t,r){return"in"===t?new B_e(e,r):new U_e(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(yo(t,this.value)):null!==t&&Ga(this.value)===Ga(t)&&this.ft(yo(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class V_e extends En{constructor(e,t,r){super(e,t,r),this.key=O.fromName(r.referenceValue)}matches(e){const t=O.comparator(e.key,this.key);return this.ft(t)}}class B_e extends En{constructor(e,t){super(e,"in",t),this.keys=FG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U_e extends En{constructor(e,t){super(e,"not-in",t),this.keys=FG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>O.fromName(r.referenceValue))}class j_e extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nf(t)&&tf(t.arrayValue,this.value)}}class H_e extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tf(this.value.arrayValue,t)}}class $_e extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tf(this.value.arrayValue,t)}}class z_e extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tf(this.value.arrayValue,r))}}class vo{constructor(e,t){this.position=e,this.inclusive=t}}class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function G_e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function LG(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),t.key):yo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hi(n.position[t],e.position[t]))return!1;return!0}class Ps{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function Zc(n){return new Ps(n)}function UG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jc(n){const e=F(n);if(null===e._t){e._t=[];const t=function ZA(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function XA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Xc(t)),e._t.push(new Xc(St.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Xc(St.keyField(),s))}}}return e._t}function mr(n){const e=F(n);if(!e.wt)if("F"===e.limitType)e.wt=NG(e.path,e.collectionGroup,Jc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Jc(e))t.push(new Xc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new vo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vo(e.startAt.position,e.startAt.inclusive):null;e.wt=NG(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function yy(n,e,t){return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return sf(mr(n),mr(e))&&n.limitType===e.limitType}function jG(n){return`${qa(mr(n))}|lt:${n.limitType}`}function ex(n){return`Query(target=${function L_e(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Qc(r.value)}`;var r}).join(", ")}]`),Jh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Qc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Qc(t)).join(",")),`Target(${e})`}(mr(n))}; limitType=${n.limitType})`}function tx(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):O.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=LG(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Jc(t),r)||t.endAt&&!function(i,s,o){const a=LG(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Jc(t),r)));var t,r}function $G(n){return(e,t)=>{let r=!1;for(const i of Jc(n)){const s=W_e(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function W_e(n,e,t){const r=n.field.isKeyField()?O.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?yo(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function zG(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function GG(n){return{integerValue:""+n}}function WG(n,e){return function DG(n){return"number"==typeof n&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?GG(e):zG(n,e)}class vy{constructor(){this._=void 0}}function q_e(n,e,t){return n instanceof eu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ka?KG(n,e):n instanceof Ya?YG(n,e):function(r,i){const s=qG(r,i),o=QG(s)+QG(r.yt);return QA(s)&&QA(r.yt)?GG(o):zG(r.It,o)}(n,e)}function K_e(n,e,t){return n instanceof Ka?KG(n,e):n instanceof Ya?YG(n,e):t}function qG(n,e){return n instanceof tu?QA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class eu extends vy{}class Ka extends vy{constructor(e){super(),this.elements=e}}function KG(n,e){const t=XG(e);for(const r of n.elements)t.some(i=>Hi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ya extends vy{constructor(e){super(),this.elements=e}}function YG(n,e){let t=XG(e);for(const r of n.elements)t=t.filter(i=>!Hi(i,r));return{arrayValue:{values:t}}}class tu extends vy{constructor(e,t){super(),this.It=e,this.yt=t}}function QG(n){return Et(n.integerValue||n.doubleValue)}function XG(n){return nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Q_e{constructor(e,t){this.version=e,this.transformResults=t}}class ut{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ut}static exists(e){return new ut(void 0,e)}static updateTime(e){return new ut(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function by(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wy{}function ZG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ru(n.key,ut.none()):new nu(n.key,n.data,ut.none());{const t=n.data,r=Cn.empty();let i=new $e(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(n.key,r,new Fr(i.toArray()),ut.none())}}function X_e(n,e,t){n instanceof nu?function(r,i,s){const o=r.value.clone(),a=tW(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(r,i,s){if(!by(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tW(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(eW(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cf(n,e,t,r){return n instanceof nu?function(i,s,o,a){if(!by(i.precondition,s))return o;const l=i.value.clone(),c=nW(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fs?function(i,s,o,a){if(!by(i.precondition,s))return o;const l=nW(i.fieldTransforms,a,s),c=s.data;return c.setAll(eW(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,by(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Z_e(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qG(r.transform,i||null);null!=s&&(null===t&&(t=Cn.empty()),t.set(r.field,s))}return t||null}function JG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Kc(t,r,(i,s)=>function Y_e(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ka&&r instanceof Ka||t instanceof Ya&&r instanceof Ya?Kc(t.elements,r.elements,Hi):t instanceof tu&&r instanceof tu?Hi(t.yt,r.yt):t instanceof eu&&r instanceof eu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class nu extends wy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends wy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eW(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tW(n,e,t){const r=new Map;ee(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,K_e(o,a,t[i]))}return r}function nW(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,q_e(s,o,e))}return r}class ru extends wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nx extends wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J_e{constructor(e){this.count=e}}var Lt,Te;function rW(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function iW(n){if(void 0===n)return Tt("GRPC error has no .code"),E.UNKNOWN;switch(n){case Lt.OK:return E.OK;case Lt.CANCELLED:return E.CANCELLED;case Lt.UNKNOWN:return E.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return E.INTERNAL;case Lt.UNAVAILABLE:return E.UNAVAILABLE;case Lt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Lt.NOT_FOUND:return E.NOT_FOUND;case Lt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Lt.ABORTED:return E.ABORTED;case Lt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Lt.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Te=Lt||(Lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CG(this.inner)}size(){return this.innerSize}}const eye=new Ct(O.comparator);function gr(){return eye}const sW=new Ct(O.comparator);function uf(...n){let e=sW;for(const t of n)e=e.insert(t.key,t);return e}function oW(n){let e=sW;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $i(){return df()}function aW(){return df()}function df(){return new bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const tye=new Ct(O.comparator),nye=new $e(O.comparator);function de(...n){let e=nye;for(const t of n)e=e.add(t);return e}const rye=new $e(ie);function Cy(){return rye}class hf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,t)),new hf(Y.min(),r,Cy(),gr(),de())}}class ff{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ff(zt.EMPTY_BYTE_STRING,t,de(),de(),de())}}class Ey{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class lW{constructor(e,t){this.targetId=e,this.At=t}}class cW{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class uW{constructor(){this.Rt=0,this.bt=hW(),this.Pt=zt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=de(),t=de(),r=de();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new ff(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=hW()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class iye{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=gr(),this.qt=dW(),this.Kt=new $e(ie)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(gy(s))if(0===r){const o=new O(s.path);this.jt(t,o,tt.newNoDocument(o,Y.min()))}else ee(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&gy(a.target)){const l=new O(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,tt.newNoDocument(l,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=de();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new hf(e,t,this.Kt,this.Ut,r);return this.Ut=gr(),this.qt=dW(),this.Kt=new $e(ie),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new uW,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new $e(ie),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new uW),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function dW(){return new Ct(O.comparator)}function hW(){return new Ct(O.comparator)}const sye={asc:"ASCENDING",desc:"DESCENDING"},oye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aye{constructor(e,t){this.databaseId=e,this.gt=t}}function pf(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fW(n,e){return n.gt?e.toBase64():e.toUint8Array()}function lye(n,e){return pf(n,e.toTimestamp())}function nn(n){return ee(!!n),Y.fromTimestamp(function(e){const t=go(e);return new gt(t.seconds,t.nanos)}(n))}function rx(n,e){return(t=n,new De(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pW(n){const e=De.fromString(n);return ee(EW(e)),e}function mf(n,e){return rx(n.databaseId,e.path)}function zi(n,e){const t=pW(e);if(t.get(1)!==n.databaseId.projectId)throw new x(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new O(gW(t))}function ix(n,e){return rx(n.databaseId,e)}function gf(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gW(n){return ee(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _W(n,e,t){return{name:mf(n,e),fields:t.value.mapValue.fields}}function vW(n,e){return{documents:[ix(n,e.path)]}}function bW(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ix(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ix(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(AG(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NAN"}};if(SG(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(AG(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NOT_NAN"}};if(SG(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(d.field),op:pye(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:iu((u=c).field),direction:fye(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||Jh(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function wW(n){let e=function mW(n){const e=pW(n);return 4===e.length?De.emptyPath():gW(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ee(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=CW(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Xc(su((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Jh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new vo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new vo(u.values||[],!u.before)}(t.endAt)),function BG(n,e,t,r,i,s,o,a){return new Ps(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function CW(n){return n?void 0!==n.unaryFilter?[gye(n)]:void 0!==n.fieldFilter?[mye(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>CW(e)).reduce((e,t)=>e.concat(t)):$():[]}function fye(n){return sye[n]}function pye(n){return oye[n]}function iu(n){return{fieldPath:n.canonicalString()}}function su(n){return St.fromServerFormat(n.fieldPath)}function mye(n){return En.create(su(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}function gye(n){switch(n.unaryFilter.op){case"IS_NAN":const e=su(n.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=su(n.unaryFilter.field);return En.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=su(n.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=su(n.unaryFilter.field);return En.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $()}}function _ye(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ax{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&X_e(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aW();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=ZG(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(t,r)=>JG(t,r))&&Kc(this.baseMutations,e.baseMutations,(t,r)=>JG(t,r))}}class lx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ee(e.mutations.length===r.length);let i=tye;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lx(e,t,r,i)}}class cx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wo{constructor(e,t,r,i,s=Y.min(),o=Y.min(),a=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MW{constructor(e){this.re=e}}function ux(n){const e=wW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yy(e,e.limit,"L"):e}class Ja{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),ef(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me($a(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?xG(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):$()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),O.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Ja.Te=new Ja;class $ye{constructor(){this.Ye=new hx}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Pr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $e(De.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(De.comparator)).toArray()}}new Uint8Array(0);class _r{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nl(0)}static vn(){return new nl(-1)}}class Jye{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&cf(r.mutation,i,Fr.empty(),gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=$i();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=uf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=$i();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=gr();const o=df(),a=df();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Fs)?s=s.insert(c.key,c):void 0!==u&&(o.set(c.key,u.mutation.getFieldMask()),cf(u.mutation,c,u.mutation.getFieldMask(),gt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Jye(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=df();let i=new Ct((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Fr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=aW();u.forEach(h=>{if(!s.has(h)){const f=ZG(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return O.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function JA(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve($i());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.getBaseDocument(e,u,d).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(u=>({batchId:a,changes:oW(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new O(t)).next(r=>{let i=uf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=uf();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(i),new Ps(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,tt.newInvalidDocument(c)))});let o=uf();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&cf(c.mutation,l,Fr.empty(),gt.now()),tx(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(tt.newInvalidDocument(t))}}class eve{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:nn(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ux(r.bundledQuery),readTime:nn(r.readTime)}),w.resolve();var r}}class tve{constructor(){this.overlays=new Ct(O.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$i();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=$i(),s=t.length+1,o=new O(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=$i(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$i(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cx(t,r));let s=this.es.get(t);void 0===s&&(s=de(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class fx{constructor(){this.ns=new $e(sn.ss),this.rs=new $e(sn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new sn(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new sn(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new O(new De([])),r=new sn(t,e),i=new sn(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new O(new De([])),r=new sn(t,e),i=new sn(t,e+1);let s=de();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new sn(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class sn{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return O.comparator(e.key,t.key)||ie(e._s,t._s)}static os(e,t){return ie(e._s,t._s)||O.comparator(e.key,t.key)}}class nve{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new $e(sn.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new ax(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new sn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new sn(t,0),i=new sn(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(ie);return t.forEach(i=>{const s=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new sn(new O(s),0);let a=new $e(ie);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ee(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const s=new sn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new sn(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rve{constructor(e){this.Es=e,this.docs=new Ct(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=gr();const s=new O(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||GA(yG(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){$()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ive(this)}getSize(e){return w.resolve(this.size)}}class ive extends class Qye{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class sve{constructor(e){this.persistence=e,this.Rs=new bo(t=>qa(t),sf),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fx,this.targetCount=0,this.vs=nl.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class ZW{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new pr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new sve(this),this.indexManager=new $ye,this.remoteDocumentCache=new rve(r=>this.referenceDelegate.xs(r)),this.It=new MW(t),this.Ns=new eve(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tve,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new nve(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new ove(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ove extends class S_e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Fs=new fx,this.$s=null}static Bs(e){return new Ry(e)}get Ls(){if(this.$s)return this.$s;throw $()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=O.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,Y.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class _x{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _x(e,t.fromCache,r,i)}}class eq{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Mi(e,t,i,r)).next(s=>s||this.Oi(e,t))}ki(e,t){if(UG(t))return w.resolve(null);let r=mr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=yy(t,null,"F"),r=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,yy(t,null,"F")):this.Bi(e,c,t,l)}))})))}Mi(e,t,r,i){return UG(t)||i.isEqual(Y.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Oi(e,t):(HA()<=Ee.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ex(t)),this.Bi(e,o,t,function _G(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new gt(t+1,0):new gt(t,r));return new Pr(i,O.empty(),e)}(i,-1)))})}Fi(e,t){let r=new $e($G(e));return t.forEach((i,s)=>{tx(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,t){return HA()<=Ee.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",ex(t)),this.Ni.getDocumentsMatchingQuery(e,t,Pr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class lve{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Ct(ie),this.qi=new bo(s=>qa(s),sf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function nq(n,e){return yx.apply(this,arguments)}function yx(){return yx=_(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),yx.apply(this,arguments)}function cve(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);ee(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=de();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rq(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function uve(n,e){const t=F(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,g;e.targetMismatches.has(d)?f=f.withResumeToken(zt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=gr(),c=de();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function iq(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=gr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(Y.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ui=i,s))}function dve(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lu(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new wo(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function cu(n,e,t){return vx.apply(this,arguments)}function vx(){return vx=_(function*(n,e,t){const r=F(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!mo(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),vx.apply(this,arguments)}function Oy(n,e,t){const r=F(n);let i=Y.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=F(a),d=u.qi.get(c);return void 0!==d?w.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(r,o,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:Y.min(),t?s:de())).next(a=>(function aq(n,e,t){let r=Y.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function HG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class Ix{constructor(){this.activeTargetIds=Cy()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uq{constructor(){this.Lr=new Ix,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ix,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pve{qr(e){}shutdown(){}}class dq{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gve{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class _ve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const o=this.ao(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw qc("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,t,r,i,s,o){return this.co(e,t,r,i,s)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,t){return`${this.oo}/v1/${t}:${mve[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((s,o)=>{const a=new g_e;a.listenOnce(f_e.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case jA.NO_ERROR:const c=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(c)),s(c);break;case jA.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new x(E.DEADLINE_EXCEEDED,"Request time out"));break;case jA.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new x(h,d.message))}else o(new x(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new x(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=d_e(),o=h_e(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new m_e({})),this.ho(a.initMessageHeaders,t,r),Qg()||PI()||function Ele(){return Qt().indexOf("Electron/")>=0}()||yj()||function Ile(){return Qt().indexOf("MSAppHost/")>=0}()||Xg()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new gve({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(u||(M("Connection","Opening WebChannel transport."),c.open(),u=!0),M("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,g)=>{p.listen(m,b=>{try{g(b)}catch(I){setTimeout(()=>{throw I},0)}})};return f(c,cy.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(c,cy.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(c,cy.EventType.ERROR,p=>{d||(d=!0,qc("Connection","WebChannel transport errored:",p),h.io(new x(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,cy.EventType.MESSAGE,p=>{var m;if(!d){const g=p.data[0];ee(!!g);const b=g,I=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(I){M("Connection","WebChannel received error:",I);const v=I.status;let T=function(U){const le=Lt[U];if(void 0!==le)return iW(le)}(v),R=I.message;void 0===T&&(T=E.INTERNAL,R="Unknown error status: "+v+" with message "+I.message),d=!0,h.io(new x(T,R)),c.close()}else M("Connection","WebChannel received:",g),h.ro(g)}}),f(o,p_e.STAT_EVENT,p=>{p.stat===dG.PROXY?M("Connection","Detected buffering proxy"):p.stat===dG.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Ly(){return typeof document<"u"?document:null}function Tf(n){return new aye(n,!0)}class Tx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class fq{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Tx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return _(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return _(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return _(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(Tt(t.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new x(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao(_(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yve extends fq{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function uye(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(ee(void 0===c||"string"==typeof c),zt.fromBase64String(c||"")):(ee(void 0===c||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:iW(l.code);return new x(c,l.message||"")}(o);t=new cW(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=zi(n,r.document.name),s=nn(r.document.updateTime),o=new Cn({mapValue:{fields:r.document.fields}}),a=tt.newFoundDocument(i,s,o);t=new Ey(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=zi(n,r.document),s=r.readTime?nn(r.readTime):Y.min(),o=tt.newNoDocument(i,s);t=new Ey([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=zi(n,r.document);t=new Ey([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new J_e(r.count||0);t=new lW(r.targetId,s)}}var l;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?nn(s.readTime):Y.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=gf(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=gy(a)?{documents:vW(i,a)}:{query:bW(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=fW(i,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=pf(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function hye(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=gf(this.It),t.removeTarget=e,this.Bo(t)}}class vve extends fq{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function dye(n,e){return n&&n.length>0?(ee(void 0!==e),n.map(t=>function(r,i){let s=nn(r.updateTime?r.updateTime:i);return s.isEqual(Y.min())&&(s=nn(i)),new Q_e(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.Zo(r,t)}return ee(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gf(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function _f(n,e){let t;if(e instanceof nu)t={update:_W(n,e.key,e.value)};else if(e instanceof ru)t={delete:mf(n,e.key)};else if(e instanceof Fs)t={update:_W(n,e.key,e.data),updateMask:_ye(e.fieldMask)};else{if(!(e instanceof nx))return $();t={verify:mf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof eu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ka)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tu)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lye(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.It,r))};this.Bo(t)}}class bve extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new x(E.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(E.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class wve{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Tt(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Cve{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(_(function*(){var l;Io(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=F(c);u._u.add(4),yield uu(u),u.gu.set("Unknown"),u._u.delete(4),yield Sf(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new wve(r,i)}}function Sf(n){return Sx.apply(this,arguments)}function Sx(){return Sx=_(function*(n){if(Io(n))for(const e of n.wu)yield e(!0)}),Sx.apply(this,arguments)}function uu(n){return Ax.apply(this,arguments)}function Ax(){return Ax=_(function*(n){for(const e of n.wu)yield e(!1)}),Ax.apply(this,arguments)}function Vy(n,e){const t=F(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),kx(t)?Mx(t):hu(t).ko()&&xx(t,e))}function Af(n,e){const t=F(n),r=hu(t);t.du.delete(e),r.ko()&&pq(t,e),0===t.du.size&&(r.ko()?r.Fo():Io(t)&&t.gu.set("Unknown"))}function xx(n,e){n.yu.Ot(e.targetId),hu(n).zo(e)}function pq(n,e){n.yu.Ot(e),hu(n).Ho(e)}function Mx(n){n.yu=new iye({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),hu(n).start(),n.gu.uu()}function kx(n){return Io(n)&&!hu(n).No()&&n.du.size>0}function Io(n){return 0===F(n)._u.size}function mq(n){n.yu=void 0}function Eve(n){return Rx.apply(this,arguments)}function Rx(){return Rx=_(function*(n){n.du.forEach((e,t)=>{xx(n,e)})}),Rx.apply(this,arguments)}function Ive(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=_(function*(n,e){mq(n),kx(n)?(n.gu.hu(e),Mx(n)):n.gu.set("Unknown")}),Nx.apply(this,arguments)}function Dve(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=_(function*(n,e,t){if(n.gu.set("Online"),e instanceof cW&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield By(n,r)}else if(e instanceof Ey?n.yu.Gt(e):e instanceof lW?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Y.min()))try{const r=yield rq(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(zt.EMPTY_BYTE_STRING,l.snapshotVersion)),pq(i,a);const c=new wo(l.target,a,1,l.sequenceNumber);xx(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield By(n,r)}var r}),Ox.apply(this,arguments)}function By(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=_(function*(n,e,t){if(!mo(e))throw e;n._u.add(1),yield uu(n),n.gu.set("Offline"),t||(t=()=>rq(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Sf(n)}))}),Px.apply(this,arguments)}function gq(n,e){return e().catch(t=>By(n,t,e))}function du(n){return Fx.apply(this,arguments)}function Fx(){return Fx=_(function*(n){const e=F(n),t=Do(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Tve(e);)try{const i=yield dve(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Sve(e,i)}catch(i){yield By(e,i)}_q(e)&&yq(e)}),Fx.apply(this,arguments)}function Tve(n){return Io(n)&&n.fu.length<10}function Sve(n,e){n.fu.push(e);const t=Do(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function _q(n){return Io(n)&&!Do(n).No()&&n.fu.length>0}function yq(n){Do(n).start()}function Ave(n){return Lx.apply(this,arguments)}function Lx(){return Lx=_(function*(n){Do(n).eu()}),Lx.apply(this,arguments)}function xve(n){return Vx.apply(this,arguments)}function Vx(){return Vx=_(function*(n){const e=Do(n);for(const t of n.fu)e.Xo(t.mutations)}),Vx.apply(this,arguments)}function Mve(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=_(function*(n,e,t){const r=n.fu.shift(),i=lx.from(r,e,t);yield gq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield du(n)}),Bx.apply(this,arguments)}function kve(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=_(function*(n,e){var t;e&&Do(n).Yo&&(yield(t=_(function*(r,i){if(rW(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();Do(r).Oo(),yield gq(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield du(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),_q(n)&&yq(n)}),Ux.apply(this,arguments)}function vq(n,e){return jx.apply(this,arguments)}function jx(){return jx=_(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Io(t);t._u.add(3),yield uu(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Sf(t)}),jx.apply(this,arguments)}function $x(){return $x=_(function*(n,e){const t=F(n);e?(t._u.delete(2),yield Sf(t)):e||(t._u.add(2),yield uu(t),t.gu.set("Unknown"))}),$x.apply(this,arguments)}function hu(n){return n.pu||(n.pu=function(e,t,r){const i=F(e);return i.su(),new yve(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Eve.bind(null,n),Zr:Ive.bind(null,n),Wo:Dve.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.pu.Oo(),kx(n)?Mx(n):n.gu.set("Unknown")):(yield n.pu.stop(),mq(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Do(n){return n.Iu||(n.Iu=function(e,t,r){const i=F(e);return i.su(),new vve(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Ave.bind(null,n),Zr:kve.bind(null,n),tu:xve.bind(null,n),Zo:Mve.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.Iu.Oo(),yield du(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class zx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new zx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(n,e){if(Tt("AsyncQueue",`${e}: ${n}`),mo(n))return new x(E.UNAVAILABLE,`${e}: ${n}`);throw n}class pu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||O.comparator(t.key,r.key):(t,r)=>O.comparator(t.key,r.key),this.keyedMap=uf(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bq{constructor(){this.Tu=new Ct(O.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class mu{constructor(e,t,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new mu(e,t,pu.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Rve{constructor(){this.Au=void 0,this.listeners=[]}}class Nve{constructor(){this.queries=new bo(e=>jG(e),af),this.onlineState="Unknown",this.Ru=new Set}}function Wx(){return Wx=_(function*(n,e){const t=F(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Rve),i)try{s.Au=yield t.onListen(r)}catch(o){const a=fu(o,`Initialization of query '${ex(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Yx(t)}),Wx.apply(this,arguments)}function Kx(){return Kx=_(function*(n,e){const t=F(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Kx.apply(this,arguments)}function Ove(n,e){const t=F(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Yx(t)}function Pve(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Yx(n){n.Ru.forEach(e=>{e.next()})}class Qx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Eq{constructor(e){this.key=e}}class Iq{constructor(e){this.key=e}}class Dq{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=de(),this.mutatedKeys=de(),this.Ku=$G(e),this.Gu=new pu(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new bq,i=t?t.Gu:this.Gu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=tx(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.zu(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.Ku(f,l)>0||c&&this.Ku(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(r);const o=t?this.Ju():[],a=0===this.qu.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new mu(this.query,e.Gu,i,s,e.mutatedKeys,0===a,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new bq,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=de(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new Iq(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new Eq(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=de();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return mu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Vve{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bve{constructor(e){this.key=e,this.ec=!1}}class Uve{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new bo(a=>jG(a),af),this.ic=new Map,this.rc=new Set,this.oc=new Ct(O.comparator),this.uc=new Map,this.cc=new fx,this.ac={},this.hc=new Map,this.lc=nl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function jve(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=_(function*(n,e){const t=bM(n);let r,i;const s=t.sc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield lu(t.localStore,mr(e));t.isPrimaryClient&&Vy(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Zx(t,e,r,"current"===a)}return i}),Xx.apply(this,arguments)}function Zx(n,e,t,r){return Jx.apply(this,arguments)}function Jx(){return Jx=_(function*(n,e,t,r){n.dc=(u,d,h)=>{return(f=_(function*(p,m,g,b){let I=m.view.ju(g);I.$i&&(I=yield Oy(p.localStore,m.query,!1).then(({documents:R})=>m.view.ju(R,I)));const v=b&&b.targetChanges.get(m.targetId),T=m.view.applyChanges(I,p.isPrimaryClient,v);return cM(p,m.targetId,T.Yu),T.snapshot}),function(p,m,g,b){return f.apply(this,arguments)})(n,u,d,h);var f};const i=yield Oy(n.localStore,e,!0),s=new Dq(e,i.Hi),o=s.ju(i.documents),a=ff.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);cM(n,t,l.Yu);const c=new Vve(e,t,s);return n.sc.set(e,c),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),l.snapshot}),Jx.apply(this,arguments)}function Hve(n,e){return eM.apply(this,arguments)}function eM(){return eM=_(function*(n,e){const t=F(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(s=>!af(s,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Af(t.remoteStore,r.targetId),gu(t,r.targetId)}).catch(po))):(gu(t,r.targetId),yield cu(t.localStore,r.targetId,!0))}),eM.apply(this,arguments)}function tM(){return tM=_(function*(n,e,t){const r=wM(n);try{const i=yield function(s,o){const a=F(s),l=gt.now(),c=o.reduce((h,f)=>h.add(f.key),de());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gr(),p=de();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((g,b)=>{b.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const g=[];for(const b of o){const I=Z_e(b,u.get(b.key).overlayedDocument);null!=I&&g.push(new Fs(b.key,I,RG(I.value.mapValue),ut.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:oW(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ct(ie)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ls(r,i.changes),yield du(r.remoteStore)}catch(i){const s=fu(i,"Failed to persist write");t.reject(s)}}),tM.apply(this,arguments)}function Tq(n,e){return nM.apply(this,arguments)}function nM(){return nM=_(function*(n,e){const t=F(n);try{const r=yield uve(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.uc.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?ee(o.ec):i.removedDocuments.size>0&&(ee(o.ec),o.ec=!1))}),yield Ls(t,r,e)}catch(r){yield po(r)}}),nM.apply(this,arguments)}function Sq(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&Yx(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zve(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=_(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ct(O.comparator);o=o.insert(s,tt.newNoDocument(s,Y.min()));const a=de().add(s),l=new hf(Y.min(),new Map,new $e(ie),o,a);yield Tq(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),uM(r)}else yield cu(r.localStore,e,!1).then(()=>gu(r,e,t)).catch(po)}),rM.apply(this,arguments)}function Gve(n,e){return iM.apply(this,arguments)}function iM(){return iM=_(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield cve(t.localStore,e);lM(t,r,null),aM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ls(t,i)}catch(i){yield po(i)}}),iM.apply(this,arguments)}function Wve(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=_(function*(n,e,t){const r=F(n);try{const i=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ee(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);lM(r,e,t),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ls(r,i)}catch(i){yield po(i)}}),sM.apply(this,arguments)}function aM(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function lM(n,e,t){const r=F(n);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function gu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||Aq(n,r)})}function Aq(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Af(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),uM(n))}function cM(n,e,t){for(const r of t)r instanceof Eq?(n.cc.addReference(r.key,e),Kve(n,r)):r instanceof Iq?(M("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Aq(n,r.key)):$()}function Kve(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.rc.add(r),uM(n))}function uM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new O(De.fromString(e)),r=n.lc.next();n.uc.set(r,new Bve(t)),n.oc=n.oc.insert(t,r),Vy(n.remoteStore,new wo(mr(Zc(t.path)),r,2,pr.at))}}function Ls(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=_(function*(n,e,t){const r=F(n),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,t).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);const u=_x.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(a=_(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!mo(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ui=u.Ui.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),dM.apply(this,arguments)}function Yve(n,e){return hM.apply(this,arguments)}function hM(){return hM=_(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield nq(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(o=>{o.forEach(a=>{a.reject(new x(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ls(t,r.ji)}var i}),hM.apply(this,arguments)}function Qve(n,e){const t=F(n),r=t.uc.get(e);if(r&&r.ec)return de().add(r.key);{let i=de();const s=t.ic.get(e);if(!s)return i;for(const o of s){const a=t.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function bM(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qve.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zve.bind(null,e),e.nc.Wo=Ove.bind(null,e.eventManager),e.nc._c=Pve.bind(null,e.eventManager),e}function wM(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gve.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wve.bind(null,e),e}class sbe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.It=Tf(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return function tq(n,e,t,r){return new lve(n,e,t,r)}(this.persistence,new eq,e.initialUser,this.It)}gc(e){return new ZW(Ry.Bs,this.It)}mc(e){return new uq}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CM{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Sq(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yve.bind(null,r.syncEngine),yield function Hx(n,e){return $x.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nve}createDatastore(e){const t=Tf(e.databaseInfo.databaseId),r=new _ve(e.databaseInfo);return new bve(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Sq(this.syncEngine,a,0),o=dq.C()?new dq:new pve,new Cve(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new Uve(r,i,s,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=F(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield uu(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dbe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=mG.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Rq(n,e){return EM.apply(this,arguments)}function EM(){return EM=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield nq(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),EM.apply(this,arguments)}function Nq(n,e){return IM.apply(this,arguments)}function IM(){return IM=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DM(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>vq(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>vq(e.remoteStore,s)),n.onlineComponents=e}),IM.apply(this,arguments)}function DM(n){return TM.apply(this,arguments)}function TM(){return TM=_(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield Rq(n,new sbe)),n.offlineComponents}),TM.apply(this,arguments)}function jy(n){return SM.apply(this,arguments)}function SM(){return SM=_(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield Nq(n,new CM)),n.onlineComponents}),SM.apply(this,arguments)}function _u(n){return xM.apply(this,arguments)}function xM(){return xM=_(function*(n){const e=yield jy(n),t=e.eventManager;return t.onListen=jve.bind(null,e.syncEngine),t.onUnlisten=Hve.bind(null,e.syncEngine),t}),xM.apply(this,arguments)}const Vq=new Map;function MM(n,e,t){if(!t)throw new x(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bq(n){if(!O.isDocumentKey(n))throw new x(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uq(n){if(O.isDocumentKey(n))throw new x(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $y(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Se(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$y(n);throw new x(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Hq{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function bbe(n,e,t,r){if(!0===e&&!0===r)throw new x(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hq({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hq(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new __e;switch(t.type){case"gapi":return new w_e(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new x(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vq.get(e);t&&(M("ComponentProvider","Removing Datastore"),Vq.delete(e),t.terminate())}(this),Promise.resolve()}}class At{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class Fn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fn(this.firestore,e,this._query)}}class Wi extends Fn{constructor(e,t,r){super(e,t,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new O(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function wbe(n,e,...t){if(n=Rr(n),MM("collection","path",e),n instanceof xf){const r=De.fromString(e,...t);return Uq(r),new Wi(n,null,r)}{if(!(n instanceof At||n instanceof Wi))throw new x(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return Uq(r),new Wi(n.firestore,null,r)}}class Ibe{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Tx(this,"async_queue_retry"),this.jc=()=>{const t=Ly();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Ly();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Ly();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new tn;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return _(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!mo(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=zx.createAndSchedule(this,e,t,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&$()}verifyOperationInProgress(){}Yc(){var e=this;return _(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function kM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dt extends xf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ibe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$q(this),this._firestoreClient.terminate()}}function Tbe(n,e){const r="string"==typeof n?n:e||"(default)";return Ca("object"==typeof n?n:s_(),"firestore").getImmediate({identifier:r})}function Gt(n){return n._firestoreClient||$q(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $q(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new N_e(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new dbe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(zt.fromBase64String(e))}catch(t){throw new x(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new il(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wq{constructor(e){this._methodName=e}}class RM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const Sbe=/^__.*__$/;class Abe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}function Kq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class zy{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new zy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Wy(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Kq(this.na)&&Sbe.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class xbe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Tf(e)}fa(e,t,r,i=!1){return new zy({na:e,methodName:t,la:r,path:St.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function vu(n){const e=n._freezeSettings(),t=Tf(n._databaseId);return new xbe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NM(n,e,t,r,i,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,e,t,i);PM("Data must be an object, but it was:",o,r);const a=Jq(r,o);let l,c;if(s.merge)l=new Fr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=FM(e,d,t);if(!o.contains(h))throw new x(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t3(u,h)||u.push(h)}l=new Fr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Abe(new Cn(a),l,c)}function sl(n,e){if(e3(n=Rr(n)))return PM("Unsupported field value:",e,n),Jq(n,e);if(n instanceof Wq)return function(t,r){if(!Kq(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=sl(o,r.ca(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Rr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WG(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gt.fromDate(t);return{timestampValue:pf(r.It,i)}}if(t instanceof gt){const i=new gt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pf(r.It,i)}}if(t instanceof RM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof il)return{bytesValue:fW(r.It,t._byteString)};if(t instanceof At){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${$y(t)}`)}(n,e)}function Jq(n,e){const t={};return CG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(r,i)=>{const s=sl(i,e.ia(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function e3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof RM||n instanceof il||n instanceof At||n instanceof Wq)}function PM(n,e,t){if(!e3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$y(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function FM(n,e,t){if((e=Rr(e))instanceof yu)return e._internalPath;if("string"==typeof e)return Gy(n,e);throw Wy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Nbe=new RegExp("[~\\*/\\[\\]]");function Gy(n,e,t){if(e.search(Nbe)>=0)throw Wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yu(...e.split("."))._internalPath}catch{throw Wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wy(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new x(E.INVALID_ARGUMENT,a+n+l)}function t3(n,e){return n.some(t=>t.isEqual(e))}class LM{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Obe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Obe extends LM{data(){return super.data()}}function qy(n,e){return"string"==typeof e?Gy(n,e):e instanceof yu?e._internalPath:e._delegate._internalPath}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends LM{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ky extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ky(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ky(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ol(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ky(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ol(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Pbe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Pbe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class al extends class Bbe{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return Ha(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new RM(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=IG(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zh(e));default:return null}}convertTimestamp(e){const t=go(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=De.fromString(e);ee(EW(r));const i=new za(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(t)||Tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function jbe(n,e){const t=Se(n.firestore,dt),r=function Cbe(n,e,...t){if(n=Rr(n),1===arguments.length&&(e=mG.R()),MM("doc","path",e),n instanceof xf){const r=De.fromString(e,...t);return Bq(r),new At(n,null,new O(r))}{if(!(n instanceof At||n instanceof Wi))throw new x(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return Bq(r),new At(n.firestore,n instanceof Wi?n.converter:null,new O(r))}}(n),i=function VM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function kf(n,e){return function(t,r){const i=new tn;return t.asyncQueue.enqueueAndForget(_(function*(){return function $ve(n,e,t){return tM.apply(this,arguments)}(yield function AM(n){return jy(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Gt(n),e)}(t,[NM(vu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ut.exists(!1))]).then(()=>r)}!function(n,e=!0){Wc="9.9.4",On(new mn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new dt(new v_e(t.getProvider("auth-internal")),new C_e(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new x(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),st(hG,"3.4.15",n),st(hG,"3.4.15","esm2017")}();var zbe={includeMetadataChanges:!1};function UM(n,e){return void 0===e&&(e=zbe),new He(function(t){var r=function Hbe(n,...e){var t,r,i;n=Rr(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||kM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(kM(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof At)c=Se(n.firestore,dt),u=Zc(n._key.path),l={next:d=>{e[o]&&e[o](function BM(n,e,t){const r=t.docs.get(e._key),i=new al(n);return new bu(n,i,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Se(n,Fn);c=Se(d.firestore,dt),u=d._query;const h=new al(c);l={next:f=>{e[o]&&e[o](new wu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function n3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new x(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new Uy(p),g=new Qx(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function Gx(n,e){return Wx.apply(this,arguments)}(yield _u(d),g)})),()=>{m.Rc(),d.asyncQueue.enqueueAndForget(_(function*(){return function qx(n,e){return Kx.apply(this,arguments)}(yield _u(d),g)}))}}(Gt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Xbe(n,e){return void 0===e&&(e={}),function Qbe(n){return UM(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}(n).pipe(te(function(t){return t.map(function(r){return function h3(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Qy{constructor(e){return e}}const g3="firestore",$M=new k("angularfire2.firestore-instances");function ewe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Qy(r)}}const twe={provide:class Zbe{constructor(){return h_(g3)}},deps:[[new ft,$M]]},nwe={provide:Qy,useFactory:function Jbe(n,e){const t=d_(g3,n,e);return t&&new Qy(t)},deps:[[new ft,$M],ka]};let rwe=(()=>{class n{constructor(){st("angularfire",_h.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[nwe,twe]}),n})();function iwe(n,...e){return{ngModule:rwe,providers:[{provide:$M,useFactory:ewe(n),multi:!0,deps:[ae,pt,f_,p_,[new ft,YS],[new ft,C_],...e]}]}}const swe=Ma(Xbe,!0),owe=Ma(jbe,!0),_3=Ma(wbe,!0),awe=Ma(Tbe,!0);class lwe{}class To{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof To?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new To;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof To?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cwe{encodeKey(e){return y3(e)}encodeValue(e){return y3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const dwe=/%(\d[a-f0-9])/gi,hwe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function y3(n){return encodeURIComponent(n).replace(dwe,(e,t)=>hwe[t]??e)}function Xy(n){return`${n}`}class So{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cwe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uwe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Xy):[Xy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new So({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Xy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Xy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fwe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function v3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function b3(n){return typeof Blob<"u"&&n instanceof Blob}function w3(n){return typeof FormData<"u"&&n instanceof FormData}class Rf{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pwe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new To),this.context||(this.context=new fwe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new So,this.urlWithParams=t}serializeBody(){return null===this.body?null:v3(this.body)||b3(this.body)||w3(this.body)||function mwe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof So?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||w3(this.body)?null:b3(this.body)?this.body.type||null:v3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof So?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Rf(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var In=(()=>((In=In||{})[In.Sent=0]="Sent",In[In.UploadProgress=1]="UploadProgress",In[In.ResponseHeader=2]="ResponseHeader",In[In.DownloadProgress=3]="DownloadProgress",In[In.Response=4]="Response",In[In.User=5]="User",In))();class zM extends class gwe{constructor(e,t=200,r="OK"){this.headers=e.headers||new To,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=In.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function GM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let E3=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Rf)s=t;else{let l,c;l=i.headers instanceof To?i.headers:new To(i.headers),i.params&&(c=i.params instanceof So?i.params:new So({fromObject:i.params})),s=new Rf(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe(eo(l=>this.handler.handle(l)));if(t instanceof Rf||"events"===i.observe)return o;const a=o.pipe(Yn(l=>l instanceof zM));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(te(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(te(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(te(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(te(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new So).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,GM(i,r))}post(t,r,i={}){return this.request("POST",t,GM(i,r))}put(t,r,i={}){return this.request("PUT",t,GM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(C(lwe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const ywe=["*"];let Zy;function Nf(n){return function vwe(){if(void 0===Zy&&(Zy=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Zy=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Zy}()?.createHTML(n)||n}function I3(n){return Error(`Unable to find icon with the name "${n}"`)}function D3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function T3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ll{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Jy=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new ll(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Le.HTML,i);if(!o)throw T3(i);const a=Nf(o);return this._addSvgIconConfig(t,r,new ll("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ll(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Le.HTML,r);if(!s)throw T3(r);const o=Nf(s);return this._addSvgIconSetConfig(t,new ll("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Le.RESOURCE_URL,t);if(!r)throw D3(t);const i=this._cachedIconsByUrl.get(r);return i?G(ev(i)):this._loadSvgIconFromConfig(new ll(t,null)).pipe(Ot(s=>this._cachedIconsByUrl.set(r,s)),te(s=>ev(s)))}getNamedSvgIcon(t,r=""){const i=S3(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):_c(I3(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?G(ev(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(te(r=>ev(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?G(i):a2(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ms(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Le.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),G(null)})))).pipe(te(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw I3(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ot(r=>t.svgText=r),te(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?G(null):this._fetchIcon(t).pipe(Ot(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Nf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Nf("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function bwe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(Le.RESOURCE_URL,r);if(!o)throw D3(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(te(c=>Nf(c)),Ym(()=>this._inProgressUrlFetches.delete(o)),eN());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(S3(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Cwe(s)?new ll(s.url,null,s.options):new ll(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(E3,8),C(hE),C(pe,8),C(as))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ev(n){return n.cloneNode(!0)}function S3(n,e){return n+":"+e}function Cwe(n){return!(!n.url||!n.options)}const Ewe=oI(class{constructor(n){this._elementRef=n}}),Iwe=new k("MAT_ICON_DEFAULT_OPTIONS"),Dwe=new k("mat-icon-location",{providedIn:"root",factory:function Twe(){const n=it(pe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),A3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Swe=A3.map(n=>`[${n}]`).join(", "),Awe=/^url\(['"]?#(.*?)['"]?\)$/;let xwe=(()=>{class n extends Ewe{constructor(t,r,i,s,o,a){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=cn.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=no(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Swe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)A3.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(Awe):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Mr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(y(qe),y(Jy),Fl("aria-hidden"),y(Dwe),y(as),y(Iwe,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(un("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Gn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[be],ngContentSelectors:ywe,decls:1,vars:0,template:function(t,r){1&t&&(Cd(),xr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Mwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[kr,kr]}),n})(),kwe=(()=>{class n{constructor(){this.playerActive=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tn({type:n,selectors:[["app-player"]],inputs:{name:"name",playerActive:"playerActive"},decls:4,vars:3,consts:[[1,"player"],["src","/assets/user (1).png","alt",""]],template:function(t,r){1&t&&(Ce(0,"div",0),lr(1,"img",1),Ce(2,"span"),Wn(3),ke()()),2&t&&(Gn("player-active",r.playerActive),Xe(3),ta(r.name))},styles:[".player[_ngcontent-%COMP%]{display:flex;align-items:center;width:300px;background-color:#646464;border-top-left-radius:50px;border-bottom-left-radius:50px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;margin-left:16px}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:cover;border-radius:100%}.player-active[_ngcontent-%COMP%]{background-color:orange!important}"]}),n})();const Rwe=["*",[["mat-card-footer"]]],Nwe=["*","mat-card-footer"];let Owe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Pwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Fwe=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(y(Qs,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&Gn("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Nwe,decls:2,vars:0,template:function(t,r){1&t&&(Cd(Rwe),xr(0),xr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Lwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[kr,kr]}),n})(),Vwe=(()=>{class n{constructor(){this.cardAction=[{title:"Waterfall",description:"Everyone has to start drinking at the same time. As soon as player 1 stops drinking, player 2 may stop drinking. Player 3 may stop as soon as player 2 stops drinking, and so on."},{title:"You",description:"You decide who drinks"},{title:"Me",description:"Congrats! Drink a shot!"},{title:"Category",description:"Come up with a category (e.g. Colors). Each player must enumerate one item from the category."},{title:"Bust a jive",description:"Player 1 makes a dance move. Player 2 repeats the dance move and adds a second one. "},{title:"Chicks",description:"All girls drink."},{title:"Heaven",description:"Put your hands up! The last player drinks!"},{title:"Mate",description:"Pick a mate. Your mate must always drink when you drink and the other way around."},{title:"Thumbmaster",description:""},{title:"Men",description:"All men drink."},{title:"Quizmaster",description:""},{title:"Never have i ever...",description:"Say something you nnever did. Everyone who did it has to drink."},{title:"Rule",description:"Make a rule. Everyone needs to drink when he breaks the rule."}],this.title="",this.description=""}ngOnInit(){}ngOnChanges(t){if(this.card){console.log("current Card is:",this.card);let r=+this.card.split("_")[1];this.title=this.cardAction[r-1].title,this.description=this.cardAction[r-1].description}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tn({type:n,selectors:[["app-game-info"]],inputs:{card:"card"},features:[jn],decls:5,vars:2,template:function(t,r){1&t&&(Ce(0,"mat-card")(1,"mat-card-title"),Wn(2),ke(),Ce(3,"mat-card-content"),Wn(4),ke()()),2&t&&(Xe(2),ta(r.card?r.title:"Please pick a card"),Xe(2),ta(r.card?r.description:"Please click on the card stack to select the next card"))},dependencies:[Fwe,Owe,Pwe]}),n})();const Bwe=function(n){return{"top.px":n}};function Uwe(n,e){if(1&n&&lr(0,"app-player",10),2&n){const t=e.$implicit,r=e.index,i=Ar();je("ngStyle",gC(3,Bwe,100+90*r))("playerActive",r==i.game.currentPlayer)("name",t)}}const jwe=function(n){return{"right.px":n}};function Hwe(n,e){1&n&&lr(0,"img",11),2&n&&je("ngStyle",gC(1,jwe,5*e.index))}function $we(n,e){1&n&&lr(0,"img",12),2&n&&Ed("src","/assets/cards/",e.$implicit,".png",ld)}function zwe(n,e){if(1&n){const t=dm();Ce(0,"img",13),lt("click",function(){return Ap(t),xp(Ar().takeCard())}),ke()}2&n&&Ed("src","/assets/cards/",Ar().currentCard,".png",ld)}const Gwe=function(){return[0,1,2,3]},Wwe=[{path:"",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}newGame(){this.router.navigateByUrl("/game")}}return n.\u0275fac=function(t){return new(t||n)(y(Yt))},n.\u0275cmp=Tn({type:n,selectors:[["app-start-screen"]],decls:5,vars:0,consts:[[1,"start-screen"],[1,"game-titel"],[1,"start-label-box",3,"click"]],template:function(t,r){1&t&&(Ce(0,"div",0)(1,"h1",1),Wn(2,"Ring of Fire"),ke(),Ce(3,"div",2),lt("click",function(){return r.newGame()}),Wn(4," START "),ke()())},styles:["body[_ngcontent-%COMP%]{display:flex}.start-screen[_ngcontent-%COMP%]{background-color:#404040;width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-image:url(start-screen.f68b96a8922a1a5f.jpg)}.start-label-box[_ngcontent-%COMP%]{width:260px;height:100px;font-size:56px;margin-top:50px;color:gold;border:2px solid gold;display:flex;flex-direction:column;justify-content:center;align-items:center}.start-label-box[_ngcontent-%COMP%]:hover{cursor:pointer;color:#404040;background-color:gold}.game-titel[_ngcontent-%COMP%]{color:gold;text-align:center;font-size:40px}"]}),n})()},{path:"game",component:(()=>{class n{constructor(t,r){this.firestore=t,this.dialog=r,this.pickCardAnimation=!1,this.currentCard=""}openDialog(){this.dialog.open(yle).afterClosed().subscribe(r=>{r&&r.length>0&&this.game.players.push(r)})}ngOnInit(){this.newGame();const t=_3(this.firestore,"games");this.games$=swe(t),this.games$.subscribe(r=>{console.log("Game update",r)})}newGame(){var t=this;return _(function*(){t.game=new vie,console.log(t.game);const r=_3(t.firestore,"games");let i=yield owe(r,{game:t.game.toJSON()});console.log(i)})()}takeCard(){this.pickCardAnimation||(this.currentCard=this.game.stack.pop(),console.log(this.currentCard),this.pickCardAnimation=!0,console.log("New Card ",this.currentCard),console.log("Game is ",this.game),this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,setTimeout(()=>{this.game.playedCards.push(this.currentCard),this.pickCardAnimation=!1},1e3))}}return n.\u0275fac=function(t){return new(t||n)(y(Qy),y(Pg))},n.\u0275cmp=Tn({type:n,selectors:[["app-game"]],decls:11,vars:6,consts:[["class","player-position",3,"ngStyle","playerActive","name",4,"ngFor","ngForOf"],[1,"field"],[1,"card-stack"],["src","/assets/cards/card_cover.png","alt","",3,"ngStyle",4,"ngFor","ngForOf"],["src","/assets/cards/card_cover.png","alt","",1,"top-card",2,"right","25px",3,"click"],["class","played-card","style","right: 25px;",3,"src",4,"ngFor","ngForOf"],["class","top-card pick-card","style","right: 25px;","alt","",3,"src","click",4,"ngIf"],[1,"pin-bottom",3,"card"],["mat-fab","","color","primary",1,"btn-add"],[3,"click"],[1,"player-position",3,"ngStyle","playerActive","name"],["src","/assets/cards/card_cover.png","alt","",3,"ngStyle"],[1,"played-card",2,"right","25px",3,"src"],["alt","",1,"top-card","pick-card",2,"right","25px",3,"src","click"]],template:function(t,r){1&t&&(Kt(0,Uwe,1,5,"app-player",0),Ce(1,"div",1)(2,"div",2),Kt(3,Hwe,1,3,"img",3),Ce(4,"img",4),lt("click",function(){return r.takeCard()}),ke(),Kt(5,$we,1,1,"img",5),Kt(6,zwe,1,1,"img",6),ke()(),lr(7,"app-game-info",7),Ce(8,"button",8)(9,"mat-icon",9),lt("click",function(){return r.openDialog()}),Wn(10,"add"),ke()()),2&t&&(je("ngForOf",r.game.players),Xe(3),je("ngForOf",function RF(n,e,t){const r=Hn()+n,i=S();return i[r]===oe?Mi(i,r,t?e.call(t):e()):function yd(n,e){return n[e]}(i,r)}(5,Gwe)),Xe(2),je("ngForOf",r.game.playedCards),Xe(1),je("ngIf",r.pickCardAnimation),Xe(1),je("card",r.currentCard))},dependencies:[nV,eE,aV,xwe,r2,kwe,Vwe],styles:[".field[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100%;background-image:url(wood-g91175600d_1920.444f0ac394fef90f.jpg);display:flex;justify-content:center;align-items:center}.card-stack[_ngcontent-%COMP%]{position:relative}.card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:120px}.played-card[_ngcontent-%COMP%]{transform:scale(1.3) translate(140px) translateY(-180px) rotate(-11deg)}.pick-card[_ngcontent-%COMP%]{animation:pick-card-animation 1s ease-in-out;transform:scale(1.3) translate(140px) translateY(-180px) rotate(-11deg)}@keyframes pick-card-animation{0%{transform:scale(1)}40%{transform:scale(1.7)}60%{transform:scale(1.7)}to{transform:scale(1.3) translate(140px) translateY(-180px) rotate(-11deg)}}.player-position[_ngcontent-%COMP%]{position:absolute;right:0}.btn-add[_ngcontent-%COMP%]{position:absolute;right:32px;bottom:32px}.pin-bottom[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:100px;right:100px}"]}),n})()}];let qwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({imports:[WB.forRoot(Wwe),WB]}),n})(),Kwe=(()=>{class n{constructor(){this.title="ringoffire"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&lr(0,"router-outlet")},dependencies:[kE]}),n})();function x3(n){return new D(3e3,!1)}function xCe(){return typeof window<"u"&&typeof window.document<"u"}function WM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ao(n){switch(n.length){case 0:return new ah;case 1:return n[0];default:return new QU(n)}}function M3(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,b=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),b){case"!":b=i.get(m);break;case vs:b=s.get(m);break;default:b=e.normalizeStyleValue(m,g,b,o)}f.set(g,b)}),h||a.push(f),c=f,l=d}),o.length)throw function _Ce(n){return new D(3502,!1)}();return a}function qM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&KM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&KM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&KM(t,"destroy",n)))}}function KM(n,e,t){const s=YM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function YM(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Lr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function k3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let QM=(n,e)=>!1,R3=(n,e,t)=>[],N3=null;function XM(n){const e=n.parentNode||n.host;return e===N3?null:e}(WM()||typeof Element<"u")&&(xCe()?(N3=(()=>document.documentElement)(),QM=(n,e)=>{for(;e;){if(e===n)return!0;e=XM(e)}return!1}):QM=(n,e)=>n.contains(e),R3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let cl=null,O3=!1;const P3=QM,F3=R3;let L3=(()=>{class n{validateStyleProperty(t){return function kCe(n){cl||(cl=function RCe(){return typeof document<"u"?document.body:null}()||{},O3=!!cl.style&&"WebkitAppearance"in cl.style);let e=!0;return cl.style&&!function MCe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cl.style,!e&&O3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return P3(t,r)}getParentElement(t){return XM(t)}query(t,r,i){return F3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new ah(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),ZM=(()=>{class n{}return n.NOOP=new L3,n})();const JM="ng-enter",tv="ng-leave",nv="ng-trigger",rv=".ng-trigger",B3="ng-animating",ek=".ng-animating";function xo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tk(parseFloat(e[1]),e[2])}function tk(n,e){return"s"===e?1e3*n:n}function iv(n,e,t){return n.hasOwnProperty("duration")?n:function PCe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(x3()),{duration:0,delay:0,easing:""};i=tk(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=tk(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Ywe(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function Qwe(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,x3())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Of(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function U3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Mo(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function H3(n,e,t){return t?e+":"+t+";":""}function $3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=H3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=H3(0,BCe(t),n.style[t]));n.setAttribute("style",e)}function qi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=rk(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),WM()&&$3(n))}function ul(n,e){n.style&&(e.forEach((t,r)=>{const i=rk(r);n.style[i]=""}),WM()&&$3(n))}function Pf(n){return Array.isArray(n)?1==n.length?n[0]:WU(n):n}const nk=new RegExp("{{\\s*(.+?)\\s*}}","g");function z3(n){let e=[];if("string"==typeof n){let t;for(;t=nk.exec(n);)e.push(t[1]);nk.lastIndex=0}return e}function sv(n,e,t){const r=n.toString(),i=r.replace(nk,(s,o)=>{let a=e[o];return null==a&&(t.push(function Zwe(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function ov(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const VCe=/-+([a-z0-9])/g;function rk(n){return n.replace(VCe,(...e)=>e[1].toUpperCase())}function BCe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Jwe(n){return new D(3004,!1)}()}}function G3(n,e){return window.getComputedStyle(n)[e]}function GCe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function WCe(n,e,t){if(":"==n[0]){const l=function qCe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function fCe(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function hCe(n){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(W3(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(W3(o,i))}(r,t,e)):t.push(n),t}const uv=new Set(["true","1"]),dv=new Set(["false","0"]);function W3(n,e){const t=uv.has(n)||dv.has(n),r=uv.has(e)||dv.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?uv.has(n):dv.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?uv.has(e):dv.has(e)),o&&a}}const KCe=new RegExp("s*:selfs*,?","g");function ik(n,e,t,r){return new YCe(n).build(e,t,r)}class YCe{constructor(e){this._driver=e}build(e,t,r){const i=new ZCe(t);return this._resetContextStyleTimingState(i),Vr(this,Pf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function tCe(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function nCe(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{z3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(ov(s.values()),t.errors.push(function rCe(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vr(this,Pf(e.animation),t);return{type:1,matchers:GCe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vr(this,r,t)),options:dl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Vr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:dl(e.options)}}visitAnimate(e,t){const r=function eEe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sk(iv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=sk(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=iv(t,e);return sk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ro({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=ro(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===vs?r.push(a):t.errors.push(new D(3002,!1)):r.push(U3(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function sCe(n,e,t,r,i){return new D(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function LCe(n,e,t){const r=e.params||{},i=z3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Xwe(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oCe(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const I=this._makeStyleAst(b,t);let v=null!=I.offset?I.offset:function JCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),T=0;return null!=v&&(s++,T=I.offset=v),l=l||T<0||T>1,a=a||T<c,c=T,o.push(T),I});l&&t.errors.push(function aCe(){return new D(3012,!1)}()),a&&t.errors.push(function lCe(){return new D(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function cCe(){return new D(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((b,I)=>{const v=h>0?I==f?1:h*I:o[I],T=v*g;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(b,t),b.offset=v,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:Vr(this,Pf(e.animation),t),options:dl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function QCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(KCe,"")),n=n.replace(/@\*/g,rv).replace(/@\w+/g,t=>rv+"-"+t.slice(1)).replace(/:animating/g,ek),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Lr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Vr(this,Pf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:dl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function uCe(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iv(e.timings,t.errors,!0);return{type:12,animation:Vr(this,Pf(e.animation),t),timings:r,options:null}}}class ZCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dl(n){return n?(n=Of(n)).params&&(n.params=function XCe(n){return n?Of(n):null}(n.params)):n={},n}function sk(n,e,t){return{duration:n,delay:e,easing:t}}function ok(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class hv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rEe=new RegExp(":enter","g"),sEe=new RegExp(":leave","g");function ak(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new oEe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class oEe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new hv;const d=new lk(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?xo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Vr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[ok(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?xo(r.duration):null,a=null!=r.delay?xo(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Vr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fv);const o=xo(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Vr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?xo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Vr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iv(t.params?sv(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?xo(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fv);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Vr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Vr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const fv={};class lk{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new pv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xo(r.duration)),null!=r.delay&&(i.delay=xo(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sv(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new lk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new aEe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(rEe,"."+this._enterClassName)).replace(sEe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function dCe(n){return new D(3014,!1)}()),a}}class pv{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vs),this._currentKeyframe.set(t,vs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function lEe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,vs)}else Mo(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=sv(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Mo(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===vs&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?ov(e.values()):[],o=t.size?ov(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return ok(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class aEe extends pv{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Mo(e[0]);l.set("offset",0),s.push(l);const c=Mo(e[0]);c.set("offset",Y3(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Mo(e[d]);const f=h.get("offset");h.set("offset",Y3((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return ok(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Y3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ck{}const cEe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uEe extends ck{normalizePropertyName(e,t){return rk(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(cEe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function eCe(n,e){return new D(3005,!1)}())}return o+s}}function Q3(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const uk={};class X3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function dEe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||uk,p=this.buildStyles(r,a&&a.params||uk,d),m=l&&l.params||uk,g=this.buildStyles(i,m,d),b=new Set,I=new Map,v=new Map,T="void"===i,R={params:hEe(m,h),delay:this.ast.options?.delay},U=u?[]:ak(e,t,this.ast.animation,s,o,p,g,R,c,d);let le=0;if(U.forEach(Dn=>{le=Math.max(Dn.duration+Dn.delay,le)}),d.length)return Q3(t,this._triggerName,r,i,T,p,g,[],[],I,v,le,d);U.forEach(Dn=>{const rr=Dn.element,Lu=Lr(I,rr,new Set);Dn.preStyleProps.forEach(Ei=>Lu.add(Ei));const Us=Lr(v,rr,new Set);Dn.postStyleProps.forEach(Ei=>Us.add(Ei)),rr!==t&&b.add(rr)});const xt=ov(b.values());return Q3(t,this._triggerName,r,i,T,p,g,U,xt,I,v,le)}}function hEe(n,e){const t=Of(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class fEe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Of(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=sv(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(l,o)})}),r}}class mEe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new fEe(i.style,i.options&&i.options.params||{},r))}),Z3(this.states,"true","1"),Z3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new X3(e,i,this.states))}),this.fallbackTransition=function gEe(n,e,t){return new X3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Z3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _Ee=new hv;class yEe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=ik(this._driver,t,r,[]);if(r.length)throw function yCe(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=M3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=ak(this._driver,t,s,JM,tv,new Map,new Map,r,_Ee,i),o.forEach(u=>{const d=Lr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function vCe(){return new D(3300,!1)}()),o=[]),i.length)throw function bCe(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,vs))})});const c=Ao(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function wCe(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const s=YM(t,"","","");return qM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const J3="ng-animate-queued",dk="ng-animate-disabled",EEe=[],e4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},IEe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed";class hk{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function AEe(n){return n??null}(r?e.value:e),r){const s=Of(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ff="void",fk=new hk(Ff);class DEe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ni(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CCe(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function ECe(n){return new D(3303,!1)}();if(!function xEe(n){return"start"==n||"done"==n}(r))throw function ICe(n,e){return new D(3400,!1)}();const s=Lr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Lr(this._engine.statesByElement,e,new Map);return a.has(t)||(ni(e,nv),ni(e,nv+"-"+t),a.set(t,fk)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function DCe(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new pk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ni(e,nv),ni(e,nv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new hk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=fk),c.value!==Ff&&l.value===c.value){if(!function REe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{ul(e,g),qi(e,b)})}return}const h=Lr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ni(e,J3),o.onStart(()=>{Cu(e,J3)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(o);b>=0&&g.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rv,!0);r.forEach(i=>{if(i[ti])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Ff,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ao(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||fk,u=new hk(Ff),d=new pk(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ti];(!s||s===e4)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ni(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=YM(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,qM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class TEe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new DEe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(mv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mv(t))return;const s=t[ti];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ni(e,dk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cu(e,dk))}removeNode(e,t,r,i){if(mv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ti]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return mv(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,rv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ek,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ao(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ti];if(t&&t.setForRemoval){if(e[ti]=e4,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(dk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ni(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ao(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function TCe(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new hv,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);const W=this.driver.query(H,".ng-animate-queued",!0);for(let X=0;X<W.length;X++)u.add(W[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=r4(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((H,W)=>{const X=JM+m++;p.set(W,X),H.forEach(Re=>ni(Re,X))});const g=[],b=new Set,I=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){const W=this.collectedLeaveElements[H],X=W[ti];X&&X.setForRemoval&&(g.push(W),b.add(W),X.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(Re=>b.add(Re)):I.add(W))}const v=new Map,T=r4(h,Array.from(b));T.forEach((H,W)=>{const X=tv+m++;v.set(W,X),H.forEach(Re=>ni(Re,X))}),e.push(()=>{f.forEach((H,W)=>{const X=p.get(W);H.forEach(Re=>Cu(Re,X))}),T.forEach((H,W)=>{const X=v.get(W);H.forEach(Re=>Cu(Re,X))}),g.forEach(H=>{this.processLeaveNode(H)})});const R=[],U=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(t).forEach(X=>{const Re=X.player,ln=X.element;if(R.push(Re),this.collectedEnterElements.length){const Vn=ln[ti];if(Vn&&Vn.setForMove){if(Vn.previousTriggersValues&&Vn.previousTriggersValues.has(X.triggerName)){const Cl=Vn.previousTriggersValues.get(X.triggerName),si=this.statesByElement.get(X.element);if(si&&si.has(X.triggerName)){const Jv=si.get(X.triggerName);Jv.value=Cl,si.set(X.triggerName,Jv)}}return void Re.destroy()}}const Ji=!d||!this.driver.containsElement(d,ln),jr=v.get(ln),Uo=p.get(ln),yt=this._buildInstruction(X,r,Uo,jr,Ji);if(yt.errors&&yt.errors.length)return void U.push(yt);if(Ji)return Re.onStart(()=>ul(ln,yt.fromStyles)),Re.onDestroy(()=>qi(ln,yt.toStyles)),void i.push(Re);if(X.isFallbackTransition)return Re.onStart(()=>ul(ln,yt.fromStyles)),Re.onDestroy(()=>qi(ln,yt.toStyles)),void i.push(Re);const p8=[];yt.timelines.forEach(Vn=>{Vn.stretchStartingKeyframe=!0,this.disabledNodes.has(Vn.element)||p8.push(Vn)}),yt.timelines=p8,r.append(ln,yt.timelines),o.push({instruction:yt,player:Re,element:ln}),yt.queriedElements.forEach(Vn=>Lr(a,Vn,[]).push(Re)),yt.preStyleProps.forEach((Vn,Cl)=>{if(Vn.size){let si=l.get(Cl);si||l.set(Cl,si=new Set),Vn.forEach((Jv,xR)=>si.add(xR))}}),yt.postStyleProps.forEach((Vn,Cl)=>{let si=c.get(Cl);si||c.set(Cl,si=new Set),Vn.forEach((Jv,xR)=>si.add(xR))})});if(U.length){const H=[];U.forEach(W=>{H.push(function SCe(n,e){return new D(3505,!1)}())}),R.forEach(W=>W.destroy()),this.reportError(H)}const le=new Map,xt=new Map;o.forEach(H=>{const W=H.element;r.has(W)&&(xt.set(W,W),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,le))}),i.forEach(H=>{const W=H.element;this._getPreviousPlayers(W,!1,H.namespaceId,H.triggerName,null).forEach(Re=>{Lr(le,W,[]).push(Re),Re.destroy()})});const Dn=g.filter(H=>s4(H,l,c)),rr=new Map;n4(rr,this.driver,I,c,vs).forEach(H=>{s4(H,l,c)&&Dn.push(H)});const Us=new Map;f.forEach((H,W)=>{n4(Us,this.driver,new Set(H),l,"!")}),Dn.forEach(H=>{const W=rr.get(H),X=Us.get(H);rr.set(H,new Map([...Array.from(W?.entries()??[]),...Array.from(X?.entries()??[])]))});const Ei=[],Vu=[],Bu={};o.forEach(H=>{const{element:W,player:X,instruction:Re}=H;if(r.has(W)){if(u.has(W))return X.onDestroy(()=>qi(W,Re.toStyles)),X.disabled=!0,X.overrideTotalTime(Re.totalTime),void i.push(X);let ln=Bu;if(xt.size>1){let jr=W;const Uo=[];for(;jr=jr.parentNode;){const yt=xt.get(jr);if(yt){ln=yt;break}Uo.push(jr)}Uo.forEach(yt=>xt.set(yt,ln))}const Ji=this._buildAnimation(X.namespaceId,Re,le,s,Us,rr);if(X.setRealPlayer(Ji),ln===Bu)Ei.push(X);else{const jr=this.playersByElement.get(ln);jr&&jr.length&&(X.parentPlayer=Ao(jr)),i.push(X)}}else ul(W,Re.fromStyles),X.onDestroy(()=>qi(W,Re.toStyles)),Vu.push(X),u.has(W)&&i.push(X)}),Vu.forEach(H=>{const W=s.get(H.element);if(W&&W.length){const X=Ao(W);H.setRealPlayer(X)}}),i.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<g.length;H++){const W=g[H],X=W[ti];if(Cu(W,tv),X&&X.hasAnimation)continue;let Re=[];if(a.size){let Ji=a.get(W);Ji&&Ji.length&&Re.push(...Ji);let jr=this.driver.query(W,ek,!0);for(let Uo=0;Uo<jr.length;Uo++){let yt=a.get(jr[Uo]);yt&&yt.length&&Re.push(...yt)}}const ln=Re.filter(Ji=>!Ji.destroyed);ln.length?MEe(this,W,ln):this.processLeaveNode(W)}return g.length=0,Ei.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();const W=this.players.indexOf(H);this.players.splice(W,1)}),H.play()}),Ei}elementContainsData(e,t){let r=!1;const i=t[ti];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ff;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Lr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ul(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ti];if(g&&g.removedBeforeQueried)return new ah(p.duration,p.delay);const b=m!==l,I=function kEe(n){const e=[];return i4(n,e),e}((r.get(m)||EEe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===m),v=s.get(m),T=o.get(m),R=M3(0,this._normalizer,0,p.keyframes,v,T),U=this._buildPlayer(p,R,I);if(p.subTimeline&&i&&d.add(m),b){const le=new pk(e,a,m);le.setRealPlayer(U),c.push(le)}return U});c.forEach(p=>{Lr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function SEe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ni(p,B3));const f=Ao(h);return f.onDestroy(()=>{u.forEach(p=>Cu(p,B3)),qi(l,t.toStyles)}),d.forEach(p=>{Lr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ah(e.duration,e.delay)}}class pk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ah,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>qM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Lr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mv(n){return n&&1===n.nodeType}function t4(n,e){const t=n.style.display;return n.style.display=e??"none",t}function n4(n,e,t,r,i){const s=[];t.forEach(l=>s.push(t4(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[ti]=IEe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>t4(l,s[a++])),o}function r4(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function ni(n,e){n.classList?.add(e)}function Cu(n,e){n.classList?.remove(e)}function MEe(n,e,t){Ao(t).onDone(()=>n.processLeaveNode(e))}function i4(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof QU?i4(r.players,e):e.push(r)}}function s4(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class gv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new TEe(e,t,r),this._timelineEngine=new yEe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=ik(this._driver,s,l,[]);if(l.length)throw function gCe(n,e){return new D(3404,!1)}();a=function pEe(n,e,t){return new mEe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=k3(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=k3(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let OEe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qi(this._element,this._initialStyles),this._endStyles&&(qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ul(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ul(this._element,this._endStyles),this._endStyles=null),qi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mk(n){let e=null;return n.forEach((t,r)=>{(function PEe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class o4{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:G3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class FEe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return P3(e,t)}getParentElement(e){return XM(e)}query(e,t,r){return F3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof o4);(function UCe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function FCe(n){return n.length?n[0]instanceof Map?n:n.map(e=>U3(e)):[]}(t).map(f=>Mo(f));d=function jCe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,G3(n,a)))}}return e}(e,d,c);const h=function NEe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=mk(e[0]),e.length>1&&(r=mk(e[e.length-1]))):e instanceof Map&&(t=mk(e)),t||r?new OEe(n,t,r):null}(e,d);return new o4(e,d,l,h)}}let LEe=(()=>{class n extends $U{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ai.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?WU(t):t;return a4(this._renderer,null,r,"register",[i]),new VEe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(ud),C(pe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class VEe extends class moe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new BEe(this._id,e,t||{},this._renderer)}}class BEe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return a4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function a4(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const l4="@.disabled";let UEe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new c4("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new jEe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(ud),C(gv),C(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class c4{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==l4?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jEe extends c4{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==l4?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function HEe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function $Ee(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let zEe=(()=>{class n extends gv{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(pe),C(ZM),C(ck),C(mc))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const u4=[{provide:$U,useClass:LEe},{provide:ck,useFactory:function GEe(){return new uEe}},{provide:gv,useClass:zEe},{provide:ud,useFactory:function WEe(n,e,t){return new UEe(n,e,t)},deps:[zm,gv,ae]}],gk=[{provide:ZM,useFactory:()=>new FEe},{provide:Qs,useValue:"BrowserAnimations"},...u4],d4=[{provide:ZM,useClass:L3},{provide:Qs,useValue:"NoopAnimations"},...u4];let qEe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?d4:gk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:gk,imports:[MV]}),n})();const h4_firebase={projectId:"ps-ring-of-fire",appId:"1:34795334102:web:b07b68cd6d62f218d9dc77",storageBucket:"ps-ring-of-fire.appspot.com",apiKey:"AIzaSyDTEd-bYrQhXXwTCEgpv-5USwlwxjbqWzk",authDomain:"ps-ring-of-fire.firebaseapp.com",messagingSenderId:"34795334102"},f4="@firebase/database";let _k="";class YEe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:fh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class QEe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const m4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YEe(e)}}catch{}return new QEe},hl=m4("localStorage"),yk=m4("sessionStorage"),Eu=new va("@firebase/database"),g4=function(){let n=1;return function(){return n++}}(),_4=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new Mle;t.update(e);const r=t.digest();return Kg.encodeByteArray(r)},Lf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Lf.apply(null,r):e+="object"==typeof r?pn(r):r,e+=" "}return e};let fl=null,y4=!0;const on=function(...n){if(!0===y4&&(y4=!1,null===fl&&!0===yk.get("logging_enabled")&&function(n,e){P(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Eu.logLevel=Ee.VERBOSE,fl=Eu.log.bind(Eu),e&&yk.set("logging_enabled",!0)):"function"==typeof n?fl=n:(fl=null,yk.remove("logging_enabled"))}(!0)),fl){const e=Lf.apply(null,n);fl(e)}},Vf=function(n){return function(...e){on(n,...e)}},vk=function(...n){const e="FIREBASE INTERNAL ERROR: "+Lf(...n);Eu.error(e)},Ki=function(...n){const e=`FIREBASE FATAL ERROR: ${Lf(...n)}`;throw Eu.error(e),new Error(e)},Ln=function(...n){const e="FIREBASE WARNING: "+Lf(...n);Eu.warn(e)},yv=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vs="[MIN_NAME]",Yi="[MAX_NAME]",pl=function(n,e){if(n===e)return 0;if(n===Vs||e===Yi)return-1;if(e===Vs||n===Yi)return 1;{const t=vv(n),r=vv(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},JEe=function(n,e){return n===e?0:n<e?-1:1},Bf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+pn(e))},bk=function(n){if("object"!=typeof n||null===n)return pn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=pn(e[r]),t+=":",t+=bk(n[e[r]]);return t+="}",t},b4=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function an(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const w4=function(n){P(!yv(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},rIe=new RegExp("^-?(0*)\\d{1,10}$"),vv=function(n){if(rIe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Iu=function(n){try{n()}catch(e){setTimeout(()=>{throw Ln("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Uf=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class sIe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ln(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class oIe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(e)}}let jf=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const S4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M4="websocket",k4="long_polling";class Ek{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function R4(n,e,t){let r;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof t,"typeof params must == object"),e===M4)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==k4)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function aIe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return an(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class lIe{constructor(){this.counters_={}}incrementCounter(e,t=1){Cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ble(this.counters_)}}const Ik={},Dk={};function Tk(n){const e=n.toString();return Ik[e]||(Ik[e]=new lIe),Ik[e]}class uIe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Iu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ko{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vf(e),this.stats_=Tk(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),R4(t,k4,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uIe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sk((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&S4.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ko.forceAllow_=!0}static forceDisallow(){ko.forceDisallow_=!0}static isAvailable(){return!(!ko.forceAllow_&&(ko.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=pn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=gj(t),i=b4(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=pn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Sk{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=g4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Sk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){on("frame writing exception"),a.stack&&on(a.stack),on(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let wv=null;typeof MozWebSocket<"u"?wv=MozWebSocket:typeof WebSocket<"u"&&(wv=WebSocket);let Du=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vf(this.connId),this.stats_=Tk(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&S4.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),R4(t,M4,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hl.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new wv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==wv&&!n.forceDisallow_}static previouslyFailed(){return hl.isInMemoryStorage||!0===hl.get("previous_websocket_failure")}markConnectionHealthy(){hl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=fh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=pn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=b4(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),B4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ko,Du]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Du&&Du.isAvailable();let i=r&&!Du.previouslyFailed();if(t.webSocketOnly&&(r||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Du];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class W4{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vf("c:"+this.id+":"),this.transportManager_=new B4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Bf("t",e),r=Bf("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Bf("t",e),r=Bf("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Bf("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?vk("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Uf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class q4{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class K4{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Cv extends K4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cv}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Be{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Oe(){return new Be("")}function ge(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ro(n){return n.pieces_.length-n.pieceNum_}function Ke(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Be(n.pieces_,e)}function xk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Hf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function X4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Be(e,0)}function ht(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Be)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Be(t,0)}function _e(n){return n.pieceNum_>=n.pieces_.length}function nr(n,e){const t=ge(n),r=ge(e);if(null===t)return e;if(t===r)return nr(Ke(n),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Mk(n,e){if(Ro(n)!==Ro(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ri(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ro(n)>Ro(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class NIe{constructor(e,t){this.errorPrefix_=t,this.parts_=Hf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=n_(this.parts_[r]);Z4(this)}}function Z4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ml(n))}function ml(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class kk extends K4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new kk}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const $f=1e3;let Iv,gl=(()=>{class n extends q4{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Vf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$f,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kk.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(pn(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Nc,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Cs(t,"w")){const i=Oc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Zg(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Zg(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):vk("Unrecognized action received from server: "+pn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$f),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){P(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new W4(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{Ln(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&Ln(f),u())}}})()}interrupt(t){on("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){on("Resuming connection for reason: "+t),delete this.interruptReasons_[t],LI(this.interruptReasons_)&&(this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>bk(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Be(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){on("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){on("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+_k.replace(/\./g,"-")]=1,Qg()?t["framework.cordova"]=1:PI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cv.getInstance().currentlyOnline();return LI(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ve{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ve(e,t)}}class Ev{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ve(Vs,e),i=new ve(Vs,t);return 0!==this.compare(r,i)}minPost(){return ve.MIN}}class tK extends Ev{static get __EMPTY_NODE(){return Iv}static set __EMPTY_NODE(e){Iv=e}compare(e,t){return pl(e.name,t.name)}isDefinedOn(e){throw Rc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Yi,Iv)}makePost(e,t){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new ve(e,Iv)}toString(){return".key"}}const Qi=new tK;class Dv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Nk,bi=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??yr.EMPTY_NODE,this.right=o??yr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return yr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class yr{constructor(e,t=yr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,bi.BLACK,null,null))}remove(e){return new yr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bi.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Dv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Dv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Dv(this.root_,null,this.comparator_,!0,e)}}function jIe(n,e){return pl(n.name,e.name)}function Rk(n,e){return pl(n,e)}yr.EMPTY_NODE=new class UIe{copy(e,t,r,i,s){return this}insert(e,t,r){return new bi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nK=function(n){return"number"==typeof n?"number:"+w4(n):"string:"+n},rK=function(n){if(n.isLeafNode()){const e=n.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&Cs(e,".sv"),"Priority must be a string or number.")}else P(n===Nk||n.isEmpty(),"priority of unexpected type.");P(n===Nk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let iK,sK,oK,Tu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rK(this.priorityNode_)}static set __childrenNodeConstructor(t){iK=t}static get __childrenNodeConstructor(){return iK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return _e(t)?this:".priority"===ge(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ge(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(P(".priority"!==i||1===Ro(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+nK(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?w4(this.value_):this.value_,this.lazyHash_=_4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return P(s>=0,"Unknown leaf type: "+r),P(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const nt=new class GIe extends Ev{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?pl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Yi,new Tu("[PRIORITY-POST]",oK))}makePost(e,t){const r=sK(e);return new ve(t,new Tu("[PRIORITY-POST]",r))}toString(){return".priority"}},WIe=Math.log(2);class qIe{constructor(e){this.count=parseInt(Math.log(e+1)/WIe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tv=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new bi(h,d.node,bi.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=n[f],h=t?t(d):d,new bi(h,d.node,bi.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const g=d-p,b=d;d-=p;const I=i(g+1,b),v=n[g],T=t?t(v):v;f(new bi(T,v.node,m,null,I))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,bi.BLACK):(h(g,bi.BLACK),h(g,bi.RED))}return u}(new qIe(n.length));return new yr(r||e,a)};let Ok;const Su={};class Bs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return P(Su&&nt,"ChildrenNode.ts has not been loaded"),Ok=Ok||new Bs({".priority":Su},{".priority":nt}),Ok}get(e){const t=Oc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yr?t:null}hasIndex(e){return Cs(this.indexSet_,e.toString())}addIndex(e,t){P(e!==Qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ve.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Tv(r,e.getCompare()):Su;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Bs(u,c)}addToIndexes(e,t){const r=Jg(this.indexes_,(i,s)=>{const o=Oc(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Su){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ve.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Tv(a,o.getCompare())}return Su}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new ve(e.name,a))),l.insert(e,e.node)}});return new Bs(r,this.indexSet_)}removeFromIndexes(e,t){const r=Jg(this.indexes_,i=>{if(i===Su)return i;{const s=t.get(e.name);return s?i.remove(new ve(e.name,s)):i}});return new Bs(r,this.indexSet_)}}let zf,ce=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rK(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zf||(zf=new n(new yr(Rk),null,Bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?zf:r}}getChild(t){const r=ge(t);return null===r?this:this.getImmediateChild(r).getChild(Ke(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(P(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ve(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?zf:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ge(t);if(null===i)return r;{P(".priority"!==ge(t)||1===Ro(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ke(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(nt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+nK(this.getPriority().val())+":"),this.forEachChild(nt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":_4(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ve(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ve(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ve(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gf?-1:0}withIndex(t){if(t===Qi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Qi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(nt),s=r.getIterator(nt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Qi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Gf=new class KIe extends ce{constructor(){super(new yr(Rk),ce.EMPTY_NODE,Bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}};function _t(n,e=null){if(null===n)return ce.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),P(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Tu(n,_t(e));if(n instanceof Array){let t=ce.EMPTY_NODE;return an(n,(r,i)=>{if(Cs(n,r)&&"."!==r.substring(0,1)){const s=_t(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(_t(e))}{const t=[];let r=!1;if(an(n,(o,a)=>{if("."!==o.substring(0,1)){const l=_t(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new ve(o,l)))}}),0===t.length)return ce.EMPTY_NODE;const s=Tv(t,jIe,o=>o.name,Rk);if(r){const o=Tv(t,nt.getCompare());return new ce(s,_t(e),new Bs({".priority":o},{".priority":nt}))}return new ce(s,_t(e),Bs.Default)}}Object.defineProperties(ve,{MIN:{value:new ve(Vs,ce.EMPTY_NODE)},MAX:{value:new ve(Yi,Gf)}}),tK.__EMPTY_NODE=ce.EMPTY_NODE,Tu.__childrenNodeConstructor=ce,function HIe(n){Nk=n}(Gf),function zIe(n){oK=n}(Gf),function $Ie(n){sK=n}(_t);class Pk extends Ev{constructor(e){super(),this.indexPath_=e,P(!_e(e)&&".priority"!==ge(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?pl(e.name,t.name):s}makePost(e,t){const r=_t(e),i=ce.EMPTY_NODE.updateChild(this.indexPath_,r);return new ve(t,i)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,Gf);return new ve(Yi,e)}toString(){return Hf(this.indexPath_,0).join("/")}}const Fk=new class QIe extends Ev{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?pl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,t){const r=_t(e);return new ve(t,r)}toString(){return".value"}};function qf(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Bk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vs}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const e=new Bk;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hK(n){const e={};if(n.isDefault())return e;let t;return n.index_===nt?t="$priority":n.index_===Fk?t="$value":n.index_===Qi?t="$key":(P(n.index_ instanceof Pk,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=pn(t),n.startSet_&&(e.startAt=pn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+pn(n.indexStartName_))),n.endSet_&&(e.endAt=pn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+pn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function fK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==nt&&(e.i=n.index_.toString()),e}class Av extends q4{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Av.getListenId_(e,r),a={};this.listens_[o]=a;const l=hK(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Oc(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=Av.getListenId_(e,t);delete this.listens_[r]}get(e){const t=hK(e._queryParams),r=e._path.toString(),i=new Nc;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ph(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=fh(a.responseText)}catch{Ln("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Ln("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class sDe{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xv(){return{value:null,children:new Map}}function Mu(n,e,t){if(_e(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ge(e);n.children.has(r)||n.children.set(r,xv()),Mu(n.children.get(r),e=Ke(e),t)}}function $k(n,e,t){null!==n.value?t(e,n.value):function oDe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{$k(i,new Be(e.toString()+"/"+r),t)})}class aDe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&an(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class uDe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new aDe(e);const r=1e4+2e4*Math.random();Uf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;an(e,(i,s)=>{s>0&&Cs(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Uf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ii=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ii||(ii={})),ii))();function Wk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Mv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ii.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(_e(this.path)){if(null!=this.affectedTree.value)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Be(e));return new Mv(Oe(),t,this.revert)}}return P(ge(this.path)===e,"operationForChild called for unrelated child."),new Mv(Ke(this.path),this.affectedTree,this.revert)}}class _l{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ii.OVERWRITE}operationForChild(e){return _e(this.path)?new _l(this.source,Oe(),this.snap.getImmediateChild(e)):new _l(this.source,Ke(this.path),this.snap)}}class ku{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ii.MERGE}operationForChild(e){if(_e(this.path)){const t=this.children.subtree(new Be(e));return t.isEmpty()?null:t.value?new _l(this.source,Oe(),t.value):new ku(this.source,Oe(),t)}return P(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ku(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class No{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const t=ge(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Qf(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function pDe(n,e,t){if(null==e.childName||null==t.childName)throw Rc("Should only compare child_ events.");const r=new ve(e.childName,e.snapshotNode),i=new ve(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function fDe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function kv(n,e){return{eventCache:n,serverCache:e}}function Xf(n,e,t,r){return kv(new No(e,t,r),n.serverCache)}function mK(n,e,t,r){return kv(n.eventCache,new No(e,t,r))}function Rv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function yl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let qk;class rt{constructor(e,t=(()=>(qk||(qk=new yr(JEe)),qk))()){this.value=e,this.children=t}static fromObject(e){let t=new rt(null);return an(e,(r,i)=>{t=t.set(new Be(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Oe(),value:this.value};if(_e(e))return null;{const r=ge(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ke(e),t);return null!=s?{path:ht(new Be(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const t=ge(e),r=this.children.get(t);return null!==r?r.subtree(Ke(e)):new rt(null)}}set(e,t){if(_e(e))return new rt(t,this.children);{const r=ge(e),s=(this.children.get(r)||new rt(null)).set(Ke(e),t),o=this.children.insert(r,s);return new rt(this.value,o)}}remove(e){if(_e(e))return this.children.isEmpty()?new rt(null):new rt(null,this.children);{const t=ge(e),r=this.children.get(t);if(r){const i=r.remove(Ke(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new rt(null):new rt(this.value,s)}return this}}get(e){if(_e(e))return this.value;{const t=ge(e),r=this.children.get(t);return r?r.get(Ke(e)):null}}setTree(e,t){if(_e(e))return t;{const r=ge(e),s=(this.children.get(r)||new rt(null)).setTree(Ke(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new rt(this.value,o)}}fold(e){return this.fold_(Oe(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ht(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Oe(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(_e(e))return null;{const s=ge(e),o=this.children.get(s);return o?o.findOnPath_(Ke(e),ht(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Oe(),t)}foreachOnPath_(e,t,r){if(_e(e))return this;{this.value&&r(t,this.value);const i=ge(e),s=this.children.get(i);return s?s.foreachOnPath_(Ke(e),ht(t,i),r):new rt(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(ht(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class wi{constructor(e){this.writeTree_=e}static empty(){return new wi(new rt(null))}}function Zf(n,e,t){if(_e(e))return new wi(new rt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=nr(i,e);return s=s.updateChild(o,t),new wi(n.writeTree_.set(i,s))}{const i=new rt(t),s=n.writeTree_.setTree(e,i);return new wi(s)}}}function Kk(n,e,t){let r=n;return an(t,(i,s)=>{r=Zf(r,ht(e,i),s)}),r}function gK(n,e){if(_e(e))return wi.empty();{const t=n.writeTree_.setTree(e,new rt(null));return new wi(t)}}function Yk(n,e){return null!=vl(n,e)}function vl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(nr(t.path,e)):null}function _K(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(nt,(r,i)=>{e.push(new ve(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ve(r,i.value))}),e}function Oo(n,e){if(_e(e))return n;{const t=vl(n,e);return new wi(null!=t?new rt(t):n.writeTree_.subtree(e))}}function Qk(n){return n.writeTree_.isEmpty()}function Ru(n,e){return yK(Oe(),n.writeTree_,e)}function yK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(P(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=yK(ht(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(ht(n,".priority"),r)),t}}function Nv(n,e){return EK(e,n)}function bDe(n,e){if(n.snap)return ri(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ri(ht(n.path,t),e))return!0;return!1}function CDe(n){return n.visible}function vK(n,e,t){let r=wi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)ri(t,o)?(a=nr(t,o),r=Zf(r,a,s.snap)):ri(o,t)&&(a=nr(o,t),r=Zf(r,Oe(),s.snap.getChild(a)));else{if(!s.children)throw Rc("WriteRecord should have .snap or .children");if(ri(t,o))a=nr(t,o),r=Kk(r,a,s.children);else if(ri(o,t))if(a=nr(o,t),_e(a))r=Kk(r,Oe(),s.children);else{const l=Oc(s.children,ge(a));if(l){const c=l.getChild(Ke(a));r=Zf(r,Oe(),c)}}}}}return r}function bK(n,e,t,r,i){if(r||i){const s=Oo(n.visibleWrites,e);return!i&&Qk(s)?t:i||null!=t||Yk(s,Oe())?Ru(vK(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ri(c.path,e)||ri(e,c.path))},e),t||ce.EMPTY_NODE):null}{const s=vl(n.visibleWrites,e);if(null!=s)return s;{const o=Oo(n.visibleWrites,e);return Qk(o)?t:null!=t||Yk(o,Oe())?Ru(o,t||ce.EMPTY_NODE):null}}}function Ov(n,e,t,r){return bK(n.writeTree,n.treePath,e,t,r)}function Xk(n,e){return function EDe(n,e,t){let r=ce.EMPTY_NODE;const i=vl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(nt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Oo(n.visibleWrites,e);return t.forEachChild(nt,(o,a)=>{const l=Ru(Oo(s,new Be(o)),a);r=r.updateImmediateChild(o,l)}),_K(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return _K(Oo(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function wK(n,e,t,r){return function IDe(n,e,t,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ht(e,t);if(Yk(n.visibleWrites,s))return null;{const o=Oo(n.visibleWrites,s);return Qk(o)?i.getChild(t):Ru(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Pv(n,e){return function TDe(n,e){return vl(n.visibleWrites,e)}(n.writeTree,ht(n.treePath,e))}function Zk(n,e,t){return function DDe(n,e,t,r){const i=ht(e,t),s=vl(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Ru(Oo(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function CK(n,e){return EK(ht(n.treePath,e),n.writeTree)}function EK(n,e){return{treePath:n,writeTree:e}}class MDe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;P("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),P(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,qf(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function Wf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function xu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Rc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,qf(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const IK=new class kDe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Jk{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new No(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zk(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yl(this.viewCache_),s=function xDe(n,e,t,r,i,s){return function SDe(n,e,t,r,i,s,o){let a;const l=Oo(n.visibleWrites,e),c=vl(l,Oe());if(null!=c)a=c;else{if(null==t)return[];a=Ru(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function DK(n,e,t,r,i,s){const o=e.eventCache;if(null!=Pv(r,t))return e;{let a,l;if(_e(t))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=yl(e),d=Xk(r,c instanceof ce?c:ce.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Ov(r,yl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ge(t);if(".priority"===c){P(1===Ro(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=wK(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=Ke(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=wK(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=Zk(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Xf(e,a,o.isFullyInitialized()||_e(t),n.filter.filtersNodes())}}function Fv(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(_e(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ge(t);if(!l.isCompleteForPath(t)&&Ro(t)>1)return e;const p=Ke(t),g=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,IK,null)}const d=mK(e,c,l.isFullyInitialized()||_e(t),u.filtersNodes());return DK(n,d,t,i,new Jk(i,d,s),a)}function eR(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new Jk(i,e,s);if(_e(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Xf(e,c,!0,n.filter.filtersNodes());else{const d=ge(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Xf(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ke(t),f=a.getNode().getImmediateChild(d);let p;if(_e(h))p=r;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===xk(h)&&m.getChild(X4(h)).isEmpty()?m:m.updateChild(h,r):ce.EMPTY_NODE}l=f.equals(p)?e:Xf(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function TK(n,e){return n.eventCache.isCompleteForChild(e)}function SK(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tR(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=_e(t)?r:new rt(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=SK(0,e.serverCache.getNode().getImmediateChild(d),h);l=Fv(n,l,new Be(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=SK(0,e.serverCache.getNode().getImmediateChild(d),h);l=Fv(n,l,new Be(d),m,i,s,o,a)}}),l}function $De(n,e){const t=yl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!_e(e)&&!t.getImmediateChild(ge(e)).isEmpty())?t.getChild(e):null}function MK(n,e,t,r){e.type===ii.MERGE&&null!==e.source.queryId&&(P(yl(n.viewCache_),"We should always have a full cache before handling merges"),P(Rv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function ODe(n,e,t,r,i){const s=new MDe;let o,a;if(t.type===ii.OVERWRITE){const c=t;c.source.fromUser?o=eR(n,e,c.path,c.snap,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_e(c.path),o=Fv(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===ii.MERGE){const c=t;c.source.fromUser?o=function FDe(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=ht(t,l);TK(e,ge(u))&&(a=eR(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=ht(t,l);TK(e,ge(u))||(a=eR(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=tR(n,e,c.path,c.children,r,i,a,s))}else if(t.type===ii.ACK_USER_WRITE){const c=t;o=c.revert?function BDe(n,e,t,r,i,s){let o;if(null!=Pv(r,t))return e;{const a=new Jk(r,e,i),l=e.eventCache.getNode();let c;if(_e(t)||".priority"===ge(t)){let u;if(e.serverCache.isFullyInitialized())u=Ov(r,yl(e));else{const d=e.serverCache.getNode();P(d instanceof ce,"serverChildren would be complete if leaf node"),u=Xk(r,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=ge(t);let d=Zk(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,Ke(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ce.EMPTY_NODE,Ke(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ov(r,yl(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Pv(r,Oe()),Xf(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function LDe(n,e,t,r,i,s,o){if(null!=Pv(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(_e(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Fv(n,e,t,l.getNode().getChild(t),i,s,a,o);if(_e(t)){let c=new rt(null);return l.getNode().forEachChild(Qi,(u,d)=>{c=c.set(new Be(u),d)}),tR(n,e,t,c,i,s,a,o)}return e}{let c=new rt(null);return r.foreach((u,d)=>{const h=ht(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),tR(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==ii.LISTEN_COMPLETE)throw Rc("Unknown operation type: "+t.type);o=function VDe(n,e,t,r,i){const s=e.serverCache;return DK(n,mK(e,s.getNode(),s.isFullyInitialized()||_e(t),s.isFiltered()),t,r,IK,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function PDe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function dK(n){return{type:"value",snapshotNode:n}}(Rv(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function NDe(n,e){P(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function kK(n,e,t,r){return function hDe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function ZIe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Qf(n,i,"child_removed",e,r,t),Qf(n,i,"child_added",e,r,t),Qf(n,i,"child_moved",s,r,t),Qf(n,i,"child_changed",e,r,t),Qf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let Lv,Bv;function nR(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return P(null!=s,"SyncTree gave us an op for an invalid query."),MK(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(MK(o,e,t,r));return s}}function Po(n,e){let t=null;for(const r of n.views.values())t=t||$De(r,e);return t}class LK{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_=function ADe(){return{visibleWrites:wi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rR(n,e,t,r,i){return function gDe(n,e,t,r,i){P(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Zf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Nu(n,new _l({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Lo(n,e,t=!1){const r=function yDe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function vDe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);P(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&bDe(a,r.path)?i=!1:ri(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function wDe(n){n.visibleWrites=vK(n.allWrites,CDe,Oe()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=gK(n.visibleWrites,r.path):an(r.children,l=>{n.visibleWrites=gK(n.visibleWrites,ht(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new rt(null);return null!=r.snap?s=s.set(Oe(),!0):an(r.children,o=>{s=s.set(new Be(o),!0)}),Nu(n,new Mv(r.path,s,t))}return[]}function Jf(n,e,t){return Nu(n,new _l({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function jv(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Po(a,nr(o,e));if(c)return c});return bK(i,e,s,t,!0)}function Nu(n,e){return BK(e,n.syncPointTree_,null,Nv(n.pendingWriteTree_,Oe()))}function BK(n,e,t,r){if(_e(n.path))return UK(n,e,t,r);{const i=e.get(Oe());null==t&&null!=i&&(t=Po(i,Oe()));let s=[];const o=ge(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=CK(r,o);s=s.concat(BK(a,l,c,u))}return i&&(s=s.concat(nR(i,n,r,t))),s}}function UK(n,e,t,r){const i=e.get(Oe());null==t&&null!=i&&(t=Po(i,Oe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=CK(r,o),u=n.operationForChild(o);u&&(s=s.concat(UK(u,a,l,c)))}),i&&(s=s.concat(nR(i,n,r,t))),s}function sR(n,e){return n.tagToQueryMap.get(e)}function oR(n){const e=n.indexOf("$");return P(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Be(n.substr(0,e))}}function aR(n,e,t){const r=n.syncPointTree_.get(e);return P(r,"Missing sync point for query tag that we're tracking"),nR(r,t,Nv(n.pendingWriteTree_,e),null)}class lR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new lR(t)}node(){return this.node_}}class cR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ht(this.path_,e);return new cR(this.syncTree_,t)}node(){return jv(this.syncTree_,this.path_)}}const HK=function(n,e,t){return n&&"object"==typeof n?(P(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?d0e(n[".sv"],e,t):"object"==typeof n[".sv"]?h0e(n[".sv"],e):void P(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},d0e=function(n,e,t){if("timestamp"===n)return t.timestamp;P(!1,"Unexpected server value: "+n)},h0e=function(n,e,t){n.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},uR=function(n,e,t){return dR(n,new lR(e),t)};function dR(n,e,t){const r=n.getPriority().val(),i=HK(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=HK(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Tu(a,_t(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Tu(i))),o.forEachChild(nt,(a,l)=>{const c=dR(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class hR{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function $v(n,e){let t=e instanceof Be?e:new Be(e),r=n,i=ge(t);for(;null!==i;){const s=Oc(r.node.children,i)||{children:{},childCount:0};r=new hR(i,r,s),t=Ke(t),i=ge(t)}return r}function bl(n){return n.node.value}function fR(n,e){n.node.value=e,pR(n)}function zK(n){return n.node.childCount>0}function zv(n,e){an(n.node.children,(t,r)=>{e(new hR(t,n,r))})}function GK(n,e,t,r){t&&!r&&e(n),zv(n,i=>{GK(i,e,!0,r)}),t&&r&&e(n)}function np(n){return new Be(null===n.parent?n.name:np(n.parent)+"/"+n.name)}function pR(n){null!==n.parent&&function m0e(n,e,t){const r=function f0e(n){return void 0===bl(n)&&!zK(n)}(t),i=Cs(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,pR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,pR(n))}(n.parent,n.name,n)}const g0e=/[\[\].#$\/\u0000-\u001F\u007F]/,_0e=/[\[\].#$\u0000-\u001F\u007F]/,mR=10485760,Gv=function(n){return"string"==typeof n&&0!==n.length&&!g0e.test(n)},ip=function(n,e,t){const r=t instanceof Be?new NIe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ml(r));if("function"==typeof e)throw new Error(n+"contains a function "+ml(r)+" with contents = "+e.toString());if(yv(e))throw new Error(n+"contains "+e.toString()+" "+ml(r));if("string"==typeof e&&e.length>mR/3&&n_(e)>mR)throw new Error(n+"contains a string greater than "+mR+" utf8 bytes "+ml(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(an(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Gv(o)))throw new Error(n+" contains an invalid key ("+o+") "+ml(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function OIe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=n_(e),Z4(n)})(r,o),ip(n,a,r),function PIe(n){const e=n.parts_.pop();n.byteLength_-=n_(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ml(r)+" in addition to actual children.")}},KK=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Gv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!_0e.test(n)}(n)}(t))throw new Error(function t_(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class w0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Br(n,e,t){(function Wv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Mk(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function QK(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(C0e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ri(r,e)||ri(e,r))}function C0e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();fl&&on("event: "+t.toString()),Iu(r)}}}class I0e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new w0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xv(),this.transactionQueueTree_=new hR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZK(n){const t=n.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function op(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ZK(n)})}function JK(n,e,t,r,i){n.dataUpdateCount++;const s=new Be(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Jg(t,c=>_t(c));o=function i0e(n,e,t,r){const i=sR(n,r);if(i){const s=oR(i),o=s.path,a=s.queryId,l=nr(o,e),c=rt.fromObject(t);return aR(n,o,new ku(Wk(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=_t(t);o=function VK(n,e,t,r){const i=sR(n,r);if(null!=i){const s=oR(i),o=s.path,a=s.queryId,l=nr(o,e);return aR(n,o,new _l(Wk(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=Jg(t,c=>_t(c));o=function t0e(n,e,t){const r=rt.fromObject(t);return Nu(n,new ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=_t(t);o=Jf(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Pu(n,s)),Br(n.eventQueue_,a,o)}function e8(n,e){yR(n,"connected",e),!1===e&&function x0e(n){Ou(n,"onDisconnectEvents");const e=op(n),t=xv();$k(n.onDisconnect_,Oe(),(i,s)=>{const o=function(n,e,t,r){return dR(e,new cR(t,n),r)}(i,s,n.serverSyncTree_,e);Mu(t,i,o)});let r=[];$k(t,Oe(),(i,s)=>{r=r.concat(Jf(n.serverSyncTree_,i,s));const o=function CR(n,e){const t=np(r8(n,e)),r=$v(n.transactionQueueTree_,e);return function p0e(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{ER(n,i)}),ER(n,r),GK(r,i=>{ER(n,i)}),t}(n,i);Pu(n,o)}),n.onDisconnect_=xv(),Br(n.eventQueue_,Oe(),r)}(n)}function yR(n,e,t){const r=new Be("/.info/"+e),i=_t(t);n.infoData_.updateSnapshot(r,i);const s=Jf(n.infoSyncTree_,r,i);Br(n.eventQueue_,r,s)}function qv(n){return n.nextWriteId_++}function Ou(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),on(t,...e)}function wR(n,e,t){return jv(n.serverSyncTree_,e,t)||ce.EMPTY_NODE}function Kv(n,e=n.transactionQueueTree_){if(e||Yv(n,e),bl(e)){const t=i8(n,e);P(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function F0e(n,e,t){const r=t.map(c=>c.currentWriteId),i=wR(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];P(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=nr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Ou(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Lo(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Yv(n,$v(n.transactionQueueTree_,e)),Kv(n,n.transactionQueueTree_),Br(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Iu(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Ln("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Pu(n,e)}},o)}(n,np(e),t)}else zK(e)&&zv(e,t=>{Kv(n,t)})}function Pu(n,e){const t=r8(n,e),r=np(t);return function L0e(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=nr(t,l.path);let d,u=!1;if(P(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Lo(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Lo(n.serverSyncTree_,l.currentWriteId,!0));else{const h=wR(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){ip("transaction failed: Data returned ",f,l.path);let p=_t(f);"object"==typeof f&&null!=f&&Cs(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,b=op(n),I=uR(p,h,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=I,l.currentWriteId=qv(n),o.splice(o.indexOf(g),1),i=i.concat(rR(n.serverSyncTree_,l.path,I,l.currentWriteId,l.applyLocally)),i=i.concat(Lo(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Lo(n.serverSyncTree_,l.currentWriteId,!0))}Br(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Yv(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Iu(r[a]);Kv(n,n.transactionQueueTree_)}(n,i8(n,t),r),r}function r8(n,e){let t,r=n.transactionQueueTree_;for(t=ge(e);null!==t&&void 0===bl(r);)r=$v(r,t),t=ge(e=Ke(e));return r}function i8(n,e){const t=[];return s8(n,e,t),t.sort((r,i)=>r.order-i.order),t}function s8(n,e,t){const r=bl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);zv(e,i=>{s8(n,i,t)})}function Yv(n,e){const t=bl(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,fR(e,t.length>0?t:void 0)}zv(e,r=>{Yv(n,r)})}function ER(n,e){const t=bl(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(P(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Lo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?fR(e,void 0):t.length=s+1,Br(n.eventQueue_,np(e),i);for(let o=0;o<r.length;o++)Iu(r[o])}}const IR=function(n,e){const t=U0e(n),r=t.namespace;return"firebase.com"===t.domain&&Ki(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ek(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Be(t.pathString)}},U0e=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function V0e(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function B0e(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ln(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Ur{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return _e(this._path)?null:xk(this._path)}get ref(){return new Ci(this._repo,this._path)}get _queryIdentifier(){const e=fK(this._queryParams),t=bk(e);return"{}"===t?"default":t}get _queryObject(){return fK(this._queryParams)}isEqual(e){if(!((e=Rr(e))instanceof Ur))return!1;const t=this._repo===e._repo,r=Mk(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kIe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ci extends Ur{constructor(e,t){super(e,t,new Bk,!1)}get parent(){const e=X4(this._path);return null===e?null:new Ci(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function WDe(n){P(!Lv,"__referenceConstructor has already been defined"),Lv=n})(Ci),function XDe(n){P(!Bv,"__referenceConstructor has already been defined"),Bv=n}(Ci);const TR={};class sTe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function D0e(n,e,t){if(n.stats_=Tk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Av(n.repoInfo_,(r,i,s,o)=>{JK(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>e8(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new gl(n.repoInfo_,e,(r,i,s,o)=>{JK(n,r,i,s,o)},r=>{e8(n,r)},r=>{!function T0e(n,e){an(e,(t,r)=>{yR(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function cIe(n,e){const t=n.toString();return Dk[t]||(Dk[t]=e()),Dk[t]}(n.repoInfo_,()=>new uDe(n.stats_,n.server_)),n.infoData_=new sDe,n.infoSyncTree_=new LK({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=Jf(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),yR(n,"connected",!1),n.serverSyncTree_=new LK({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Br(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ci(this._repo,Oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function nTe(n,e){const t=TR[e];(!t||t[n.key]!==n)&&Ki(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function n8(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ki("Cannot call "+e+" on a deleted database.")}}function oTe(n=s_(),e){return Ca(n,"database").getImmediate({identifier:e})}gl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},gl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function aTe(n){(function KEe(n){_k=n})(Ea),On(new mn("database",(e,{instanceIdentifier:t})=>function tTe(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=IR(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=IR(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new jf(jf.OWNER):new oIe(n.name,n.options,e);KK("Invalid Firebase Database URL",o),_e(o.path)||Ki("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function rTe(n,e,t,r){let i=TR[e.name];i||(i={},TR[e.name]=i);let s=i[n.toURLString()];return s&&Ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new I0e(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,u,new sIe(n.name,t));return new sTe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),st(f4,"0.13.6",n),st(f4,"0.13.6","esm2017")}();class SR{constructor(e){return e}}const f8="database",AR=new k("angularfire2.database-instances");function hTe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new SR(r)}}const fTe={provide:class uTe{constructor(){return h_(f8)}},deps:[[new ft,AR]]},pTe={provide:SR,useFactory:function dTe(n,e){const t=d_(f8,n,e);return t&&new SR(t)},deps:[[new ft,AR],ka]};let mTe=(()=>{class n{constructor(){st("angularfire",_h.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Me({providers:[pTe,fTe]}),n})();function gTe(n,...e){return{ngModule:mTe,providers:[{provide:AR,useFactory:hTe(n),multi:!0,deps:[ae,pt,f_,p_,[new ft,YS],[new ft,C_],...e]}]}}const _Te=Ma(oTe,!0);let yTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n,bootstrap:[Kwe]}),n.\u0275inj=Me({imports:[MV,qwe,pI,qEe,Mwe,cae,koe,_le,ule,Lwe,Phe(()=>Fhe(h4_firebase)),lge(()=>cge()),gTe(()=>_Te()),iwe(()=>awe())]}),n})();(function iJ(){xL=!1})(),Ote().bootstrapModule(yTe).catch(n=>console.error(n))}},Ae=>{Ae(Ae.s=953)}]);